docno="lists-000-11733409"
received="Fri Mar 24 13:14:59 2000"
isoreceived="20000324181459"
sent="Fri, 24 Mar 2000 11:45:34 -0600"
isosent="20000324174534"
name="Dave Raggett"
email="dsr@w3.org"
subject="Re: Over-tidying &lt;TR&gt;'s"
id="OFA7ADF308.2ED15F12-ON8625686A.0033AD71@rfdinc.com"
charset="us-ascii"
inreplyto="OF71599D12.E3BB7C72-ON88256869.007AA787&#64;peoplesoft.com"
expires="-1"

To:susan_levine@peoplesoft.com
Cc:html-tidy@w3.org,ac.quick@sympatico.ca



On Mon, 17 Jan 2000 susan_levine@peoplesoft.com wrote:

> Hi Tidy People--
>
>
> Tidy doesn't like script tags inside a <tr>.  It chooses to move it to
> before the <table> tag.  The problem is that my <script> tag references
an
> image defined above it using the javascript DOM, so that when it's moved
to
> before the table, it gets an undefined object error when it executes.  I
> can't find anything in the HTML spec that specifically prohibits the
> <script> tag from living within the <tr> (or any other tag).  I believe
my
> HTML is correct, and Tidy is providing an unnecessary clean up.
>
> Is this something you can (or would be willing to) fix, or is there some
> specification that says script tags can only be defined within the <body>
> tag?
>
> I am actually experiencing this problem with the Java version of Tidy,
but
> Andy Q. does not want to deviate from your functionality.
>
>
>
> My HTML looks like this:
>
> <table>
>     <tr>
>         <td>
>             <IMG WIDTH=240 HEIGHT=20 NAME=processing src='IMAGE1.gif'>
>         </td>
>         <SCRIPT LANGUAGE='javascript'>
>           document.processing.src = 'IMAGE2.gif';
>         </SCRIPT>
>
>     </tr>
> </table>

This is indeed illegal. The simplest fix is to move the script into
the table cell. You could also rewrite your script to avoid the
processing error.

Tidy isn't smart as a human and doesn't have enough common sense to
"know" that this is a good thing to do. For instance, it doesn't
understand hardly anything about JavaScript.

Regards,

-- Dave Raggett <dsr@w3.org> http://www.w3.org/People/Raggett
tel/fax: +44 122 578 3011 (or 2521) +44 385 320 444 (mobile)
World Wide Web Consortium (on assignment from HP Labs)



