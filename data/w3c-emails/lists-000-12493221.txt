docno="lists-000-12493221"
received="Thu Mar 30 09:46:51 2000"
isoreceived="20000330144651"
sent="Thu, 30 Mar 2000 15:46:49 +0100 (GMT Daylight Time)"
isosent="20000330144649"
name="Dave Raggett"
email="dsr@w3.org"
subject="Re: Tidy and XHTML"
id="Pine.WNT.4.10.10003301542070.-629103@hazel.hpl.hp.com"
charset="US-ASCII"
inreplyto="OF7FADC5B2.347F5D5E-ON8625685D.0056EEF0&#64;rfdinc.com"
expires="-1"

To: Bertilo Wennergren<bertilow@hem.passagen.se>
cc:html-tidy@w3.org


On Fri, 24 Mar 2000, Bertilo Wennergren wrote:

> Tidy seems to get things very wrong with XHTML framesets.
> Tags like <frame ... /> are rejected. The final "/>" seems
> to make Tidy upset. Tidy itself however produces such
> frame tags, with "/>", but when fed the code back for a recheck,
> it rejects its own code.

Thanks for spotting this. The next release of tidy will
cure this and will be posted in April. The fix is in ParseFrameSet
in parser.c

if (node->type == StartTag && (node->tag->model & CM_FRAMES))
{
    InsertNodeAtEnd(frameset, node);
    lexer->excludeBlocks = no;
    ParseTag(lexer, node, MixedContent);
    continue;
}
else if (node->type == StartEndTag && (node->tag->model & CM_FRAMES))
{
    InsertNodeAtEnd(frameset, node);
    continue;
}

The else statement catches <frame/> and inserts it into the
tree.

Regards,

-- Dave Raggett <dsr@w3.org> http://www.w3.org/People/Raggett
tel/fax: +44 122 578 3011 (or 2521) +44 385 320 444 (mobile)
World Wide Web Consortium (on assignment from HP Labs)



