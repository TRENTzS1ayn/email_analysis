docno="lists-000-13540912"
received="Mon Jul 17 10:09:20 2000"
isoreceived="20000717140920"
sent="Mon, 17 Jul 2000 16:05:03 +0200"
isosent="20000717140503"
name="Sebastian Lange"
email="lange@cyperfection.de"
subject="&lt;BASE&gt; in first line results in empty &lt;TITLE&gt;&lt;/TITLE&gt;"
id="4.3.2.7.2.20000717153621.024cf6a8@pop3.cyperfection.de"
charset="us-ascii"
expires="-1"


To:html-tidy@w3.org

Hello Dave & list members,

I sent [http://www.aok.de/] (big german health insurance) through tidy and 
found following problems:

1.) The DOCTYPE declaration is missing, maybe because Tidy failed to make a 
reasonable guess on the document's content ("stdin" appears to be HTML 
proprietary) - but shouldn't Tidy assume HTML 4.0 Transitional on such 
occasions? I believe it does, but it doesn't insert the appropriate DOCTYPE 
declaration.

2.) Tidy inserts an empty <TITLE></TITLE> element (line 2 column 1 - 
Warning: inserting missing 'title' element), despite the existing and 
correctly place title (line 19 column 1 - Warning: <title> isn't allowed in 
<body> elements).
My understanding of this: the <BASE HREF="http://www.aok.de/"> in the first 
line of the document makes tidy assume to be in the BODY of a document, 
while in fact the head didn't even start. Thus it complains about a missing 
title, generates the necessary HEAD elements and the empty title element. 
Then Tidy proceeds to analyze the document, still assuming to be in the 
document body, and moves all HEAD related elements into the newly generated 
HEAD. This results in two title elements, one empty and one with the 
original title.
Moving the <BASE> tag to the LAST line of the document (instead of FIRST) 
solves this problem entirely.

3.) <TD><FONT FACE="Arial, Helvetica" COLOR="#339966"><B>+++</B></FONT> </TD>
In this example, Tidy inserted a SPACE before </TD>, resulting in an 
unwanted space in this table cell. Normally Tidy does not show this 
behavior ("indent: auto" was set and usually leads to the desired results), 
I currently have no idea what might have caused this .

4.) I believe that DIV elements should be considered by the "indent: auto" 
directive in the same way as TD elements are:
         <DIV ID="t3">
             <IMG SRC="ticker_fg.gif" WIDTH="282" HEIGHT="59" ALT="">
         </DIV>
causes Netscape to render a space directly after the IMG element, which is, 
usually, not desirable.



sebastian
--
Sebastian Lange
http://www.sl-chat.de/
Maybe the first chat site that validates as HTML
4.0 even though user input may contain HTML codes.

Courtesy to Dave Raggett's HTML Tidy:
http://www.w3.org/People/Raggett/tidy/



