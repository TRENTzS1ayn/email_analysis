docno="lists-000-13671076"
received="Wed Jul 19 20:37:16 2000"
isoreceived="20000720003716"
sent="Thu, 20 Jul 2000 10:01:19 +0930 (CST)"
isosent="20000720003119"
name="Scott Davis"
email="scott.davis@dsto.defence.gov.au"
subject="Segfault on bad input"
id="Roam.SIMC.2.0.6.964053079.32557.sbd@itd3.dsto.defence.gov.au"
charset="US-ASCII"
expires="-1"

To:html-tidy@w3.org


Hi,

I have tried Tidy on http://www.savicmotorsport.com.au/ and it produced a
segmentation fault on an element <A HREF=mailto:"user@host"> blah </a>

Note the odd quoting on the HREF element.

I am using tidy8jul00 on Solaris 2.7.

This seems to be caused by the value of the sattribute being null if an
unexpected quote is found. It may be related to the break at line 2541 of
lexer.c Removing that line seems to produce a reasonable result of
   <a href="mailto:&quot;user@company.com&quot;">blah</a>


            if (c == '"' || c == '\'')
            {
                ReportAttrError(lexer, lexer->token, null,
UNEXPECTED_QUOTEMARK); // *** REMOVE ***   break;
            }


Scott Davis

Scott DavisPhone: +61 8 8259 6360
Information Technology Division,                Fax:   +61 8 8259 5619
Defence Science and Technology Organisation
Salisbury, South Australia 5108scott.davis@dsto.defence.gov.au



