docno="lists-000-14108302"
received="Tue Aug  1 23:22:44 2000"
isoreceived="20000802032244"
sent="Tue, 1 Aug 2000 17:35:46 -0400 (EDT)"
isosent="20000801213546"
name="Clamen, Stewart"
email="s.clamen@clairvoyancecorp.com"
subject="Re: error file report missing Tidy 8th July 2000"
id="DDFE2CAB87ECD311B02D0000929695E20D6C4D@Wotan.Claritech.Com"
charset="iso-8859-1"
inreplyto="error file report missing Tidy 8th July 2000"
expires="-1"


To:"'html-tidy@w3.org'"<html-tidy@w3.org>

On Tue, 11 Jul 2000 23:58:50 -0700 Terry Teague wrote:

At 11:00 AM -0400 7/9/2000, Mike Bunyan wrote: 
>Using the facility to parse report to an error file (-f),
the report 
>is not filled with any message. 
>This applies for a single file or a batch of files using
wild cards 
>(*) 
>eg command line 
>
tidy -config localtest.txt -f f:\chap1\errschap1.txt
f:\chap1\*.htm 
> 
>Tidy 8th July 2000 version 
>win2000 o/s NTFS5 
> 
>Any thoughts please? 

I also ran into similar behaviour. I have only briefly
played with the Windows version of Tidy08Jul00 (under W95), but it seems to
ignore the -f option, unlike previous versions. 

To me this smells like a bug. 

I haven't looked at the source code yet. 

Regards, Terry 


Yes, it seems like a bug.  Apply the following patch:

*** tidy.cTue Aug 01 17:30:17 2000
--- tidy.c.oldTue Aug 01 17:34:53 2000
***************
*** 895,901 ****
                  /* and try to open the new error file */
                  fp = fopen(errfile, "w");
  
!                 if (fp != null)
                  {
                      errout = fp;
                      current_errorfile = errfile;
--- 895,901 ----
                  /* and try to open the new error file */
                  fp = fopen(errfile, "w");
  
!                 if (input != null)
                  {
                      errout = fp;
                      current_errorfile = errfile;



