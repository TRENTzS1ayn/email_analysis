docno="lists-000-14948387"
received="Mon Aug 14 18:32:34 2000"
isoreceived="20000814223234"
sent="Mon, 14 Aug 2000 16:27:58 -0600"
isosent="20000814222758"
name="Randy Waki"
email="rwaki@flipdog.com"
subject="RE: JTidy: XML Output"
id="000101c0063e$e621d5d0$51eee13f@rwaki"
charset="iso-8859-1"
inreplyto="20000814213829.515.rocketmail&#64;web221.mail.yahoo.com"
expires="-1"

To:<html-tidy@w3.org>


Nayan Hajratwala wrote:
> 
> I am using JTidy to take an HTML file and output it as XML.
> 
> It seems to work fine until I try to run the resulting file through
> Sun's JAXP parser.  In HTML documents that contain '&copy' for the
> copyright symbol, JAXP says: 'Reference to undefined entity "&copy;'.
> 
> Is '&copy' not a valid XML entry?  If so, is there a way to ensure that
> JTidy does not output this?
> 
> I also initially had the same problem with '&nbsp;', but calling
> Tidy.setQuoteNbsp(false) fixed that.

Try calling Tidy.setNumEntities(true).  That tells Tidy to restrict
itself to the 5 entities guaranteed to be defined in XML (&lt; &gt;
&quot; &apos; and &amp;).  All the rest are output as numeric escapes,
so &copy; becomes &#169;.  You could then probably drop the call to
setQuoteNbsp().

--Randy



