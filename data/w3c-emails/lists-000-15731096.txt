docno="lists-000-15731096"
received="Fri Sep  1 09:50:33 2000"
isoreceived="20000901135033"
sent="Fri, 1 Sep 2000 14:50:14 +0100 (GMT Daylight Time)"
isosent="20000901135014"
name="Dave Raggett"
email="dsr@w3.org"
subject="Re: Bug: missing quotes cause segmentation fault"
id="Pine.WNT.4.10.10009011445050.-405663@hazel.hpl.hp.com"
charset="US-ASCII"
inreplyto="l03130301b5ca7397b22b&#64;[17.219.108.27]"
expires="-1"

To: Terry Teague<teague@mailandnews.com>
cc: Achim Schaefer<Achim.Schaefer@neuroinformatik.ruhr-uni-bochum.de>,html-tidy@w3.org


On Wed, 23 Aug 2000, Terry Teague wrote:

> At 5:51 PM +0200 8/23/2000, Achim Schaefer wrote:
> >The following line of code leads to a segmentation fault
> with Tidy (vers 4th August 2000):
> ><a href="test.html>link</a> <a href="test.html">link</a>
> >
> >(The closing quote are missing.)
> 
> >Is this a bug that is already known? Has anybody posted a fix, yet?
> 
> Yes, I believe this is a known bug (or a variation on a known bug) :
> 
> Reported by Scott Davis 19 Jul 00, in the 08 Jul 00 version.
> 
> Mismatched quotes for an element's attribute causes a NULL
> pointer to be dereferenced when reporting the error, which
> causes a crash/segmentation fault on some platforms.

Thanks for the reports. I have modified ParseAttrs() to improve
how it handles missing trailing quotemarks, and added a new
warning to make it clear what is going on. The changes effected
lexer.c, localize.c and html.h. I will include the fixes in the
next release.

Regards,

-- Dave Raggett <dsr@w3.org> http://www.w3.org/People/Raggett
tel/fax: +44 122 578 3011 (or 2521) +44 778 532 0444 (mobile)
World Wide Web Consortium (on assignment from HP Labs)



