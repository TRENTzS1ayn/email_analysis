docno="lists-000-16260798"
received="Sat Sep 16 13:48:52 2000"
isoreceived="20000916174852"
sent="Sat, 16 Sep 2000 18:48:43 +0100 (GMT Daylight Time)"
isosent="20000916174843"
name="Dave Raggett"
email="dsr@w3.org"
subject="Re: Problem with HTML Tidy: no encoding specified in XML output"
id="Pine.WNT.4.10.10009161841190.-522721@hazel.hpl.hp.com"
charset="X-UNKNOWN"
inreplyto="001d01c0165b$1c3b7eb0$cccbb43e&#64;de"
expires="-1"

To: Bjoern Hoehrmann<derhoermi@gmx.net>
cc: Mikael St?ldal<d96-mst-ingen-reklam@d.kth.se>,html-tidy@w3.org


On Mon, 4 Sep 2000, Bjoern Hoehrmann wrote:

> * "Mikael St?ldal" <d96-mst-ingen-reklam@d.kth.se> wrote:
> | When using HTML Tidy with the options -asxml -latin1, it doesn't output
> |
> | <?xml version="1.0" encoding="iso-8859-1"?>
> |
> | as it should in order to produce well-formed XML. Without the encoding
> | specification, an XML parser will assume UTF-8.
> 
> Use '--add-xml-decl yes' but i agree, that tidy should do this
> automatically (if there are iso-8859-1 characters in the file.
> If all chars are encoded as entities it isn't necessary,
> beacause the file is us-ascii and us-ascii is a subset of utf-8,
> the default encoding of XML files.)

I have modified AdjustConfig() in config.c and the misnamed
FixXMLPI() in lexer.c to deal with this. This feature will be
available in the next release, as further thought is needed
on dealing with say Microsoft Windows specific encodings.

Regards,

-- Dave Raggett <dsr@w3.org> http://www.w3.org/People/Raggett
tel/fax: +44 122 578 3011 (or 2521) +44 778 532 0444 (mobile)
World Wide Web Consortium (on assignment from HP Labs)



