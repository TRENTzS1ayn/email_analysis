docno="lists-000-1819736"
received="Wed Jul  7 03:13:50 1999"
isoreceived="19990707071350"
sent="Tue, 6 Jul 1999 23:59:12 -0700"
isosent="19990707065912"
name="Terry Teague"
email="teague@macbroker.com"
subject="Re: Thread Safe HTML Tidy"
id="l03130300b3a8a61682b8@[17.219.104.238]"
charset="us-ascii"
inreplyto="Pine.NEB.4.10.9907061403480.21718-100000&#64;big-gay-al.argonet.co.uk"
expires="-1"


To:html-tidy@w3.org

At 2:06 PM +0100 7/6/99, Martin Gallwey wrote:
>Hi folks. I understand that I'm not alone in my desire to use HTML Tidy in
>a multi threaded environment. I hope to be able to make it fully
>thread-safe and if anyone has started work on this or noted problems with
>threading could you please contact me. Any help is much appreciated !

I am responsible for the Mac OS port of tidy. My GUI version operates in a
multi-threaded environment. I haven't made it completely thread-safe
(getting close). You might be planning to do more than I - I have not tried
to make portions of the "tidy" code run in different threads (like the
parser, lexer, pprint etc), but rather make the whole of "tidy" run in my
multi-threaded environment (where I can have multiple copies of the "tidy"
code running in threaded fashion). I really haven't done much testing with
multiple copies (threads) running. My environment provides me with much of
the thread-safeness, since my code only yields to other threads at
predictable times (co-operative threads, not pre-emptive). Most of my
problems with "tidy" revolve around the use of global variables
(particularly the static globals). I had some extra work to do (unrelated
to "tidy") when running 68K emulated code with a native PowerPC thread
switcher.

This probably doesn't help you a lot, but I thought I would comment anyway.

Regards, Terry Teague



