docno="lists-000-2198259"
received="Thu Jul 22 20:26:57 1999"
isoreceived="19990723002657"
sent="Thu, 22 Jul 1999 18:26:21 -0600"
isosent="19990723002621"
name="Randy Waki"
email="rwaki144@whizbanglabs.com"
subject="7-Jul-99 bug: Possible bad pointer when moving &lt;b&gt; inside of &lt;li&gt;"
id="000301bed4a1$fd582cb0$ce9946a6@rwaki"
charset="iso-8859-1"
expires="-1"

To:<html-tidy@w3.org>


Thanks for Tidy!  It's proving invaluable.

I have some apparent bugs to report (in this and subsequent messages).

The HTML document below has a <b> outside of an <li> rather than inside it.
I think this is causing 7-Jul-99 Tidy to dereference a bad pointer in
istack.c, InsertedToken(), line 235:

    istack = lexer->insert;

Symptoms seem to vary depending on the contents of memory.  One (much
longer) incarnation of this example document caused Tidy to generate the
invalid start tag "<\0x18\0x0d\0x0a\0x30>" along with the corresponding end
tag.  Also, Andy Quick's 7-Jul-99 Java Tidy throws an
ArrayIndexOutOfBoundsException every time (which is what leads me to suspect
the above mentioned line).

-------- Example HTML document --------
<html>
  <head>
    <title>x</title>
  </head>
  <body>
    <ul>
      <li>item 1</li>
      <b><li>item 2</li></b>
    </ul>
  </body>
</html>
---------------------------------------

Randy



