docno="lists-000-2410546"
received="Fri Jul 30 16:11:45 1999"
isoreceived="19990730201145"
sent="Fri, 30 Jul 1999 13:11:40 -0700"
isosent="19990730201140"
name="John Cumming"
email="jrc@ndc.com"
subject="tidy fails on comment in &lt;tbody&gt;"
id="199907302011.NAA06999@kato.ndc-new.com"
charset="US-ASCII"
expires="-1"


To:html-tidy@w3.org

This turned up on Solaris 2, with tidy built using gcc.

The parser has trouble with a comment between a "<tbody>"
and a "<tr>", and likewise with a comment between "</tr>"
and "<tr>" within a TBODY. It causes a Segmentation Fault
when tidy_out() tries to print a DISCARDING_UNEXPECTED
message with a string whose address is 0.

  Tidy (vers 26th July 1999) Parsing "../fault2.html"
  line 10 column 1 - Warning: discarding unexpected 


-------- Example HTML document --------
<html>
<head>
<title>Comment in `tbody' before a `tr' causes Segmentation Fault</title>
</head>

<body>
<table summary="example">
  <tbody>
  <!-- comment -->
  <tr>
    <td>xxx</td>
  </tr>
  </tbody>
</table>
</body>
</html>

---------------------------------------

Thanks for the useful tool.

John



