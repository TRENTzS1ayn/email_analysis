docno="lists-000-6927332"
received="Wed May  3 12:45:41 2000"
isoreceived="20000503164541"
sent="Wed, 03 May 2000 18:47:29 +0200"
isosent="20000503164729"
name="Sebastian Lange"
email="lange@cyperfection.de"
subject="Re: 30apr00 bugs: spaces in attributs, empty ALT attributes"
id="4.3.1.2.20000503182745.00b809e8@pop3.cyperfection.de"
charset="us-ascii"
inreplyto="20000503172130.B664&#64;100mbit-19"
expires="-1"


To:micke@four04.com,html-tidy@w3.org

At 11:17 03.05.2000 -0400, Mikael hultgren wrote:
>Youre problem is this, the echo string in the perl script strips off the "
>character, which means that you feed tidy this string
><FONT FaCe=Comic Sans MS>test</A>, which is wrong.

Yay! I am so stupid, why didn't I notice this by myself?

I provisionally changed it to the following:
         $message = `echo \'$message\' | $tidy$tidyOptions`;
This works fine, unless there are single quotation marks (') in the 
message, which is less likely the case than having quotation marks (").

Thanks for pointing this out, Mikael.

I actually do not want to use this system call, but so far this was the 
only successful way of calling tidy without using temporary files. Do you 
(or anybody else on this list) have an idea how to accomplish this with 
regular perl functions (I do not want to use any modules or libraries, just 
plain Perl5)?

The basic task is following:
I have HTML content (just some text with HTML tags, not a complete 
document) in a string variable and want to pass this to Tidy via STDIN (no 
use of temporary files), and then read Tidy's output (the tidied HTML 
content) into another variable.
All my attempts with perls open() function did not work out so far.

If somebody points me into the right direction, I am gonna write up an 
example or little tutorial and send it to Dave, so it can be added to the 
script examples on Tidy's home page.

sebastian



