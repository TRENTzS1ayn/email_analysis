docno="lists-000-9839404"
received="Mon Mar  6 20:01:20 2000"
isoreceived="20000307010120"
sent="Mon, 6 Mar 2000 17:01:17 -0800 (PST)"
isosent="20000307010117"
name="Rick H Wesson"
email="wessorh@ar.com"
subject="core dump on CDATA"
id="Pine.LNX.4.10.10003061700140.15968-200000@loki.ar.com"
charset="US-ASCII"
expires="-1"

To:html-tidy@w3.org




hello,

I am getting a core dump on any XML file that contains a CDATA section. I
have tried tidy on sparc solaris with gcc and Linux 2.2.12 using gcc and 
found the same results.

I also tested JTidy and experenced simular results.

the file I tested with is atached.


any help would be greatly appreciated.

thanks,

-rick

#0  0x8057d56 in PPrintXMLTree (fout=0xbffff204, mode=0, indent=0,
    lexer=0x806c848, node=0x806e998) at pprint.c:1365
1365        else if (node->tag->model & CM_EMPTY || node->type == StartEndTag)
(gdb) where
#0  0x8057d56 in PPrintXMLTree (fout=0xbffff204, mode=0, indent=0,
    lexer=0x806c848, node=0x806e998) at pprint.c:1365
#1  0x8057c49 in PPrintXMLTree (fout=0xbffff204, mode=0, indent=0,
    lexer=0x806c848, node=0x806c8d0) at pprint.c:1351
#2  0x805efcb in main (argc=2, argv=0xbffff288) at tidy.c:1093
#3  0x40031cb3 in __libc_start_main (main=0x805e384 <main>, argc=3,
    argv=0xbffff284, init=0x8048694 <_init>, fini=0x805f0ec <_fini>,
    rtld_fini=0x4000a350 <_dl_fini>, stack_end=0xbffff27c)
    at ../sysdeps/generic/libc-start.c:78          

---------------------------------------------------

JTidy gives me the following:

<?xml version="1.0"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd">
Exception in thread "main" java.lang.NullPointerException:
        at org.w3c.tidy.PPrint.printXMLTree(PPrint.java:1471)
        at org.w3c.tidy.PPrint.printXMLTree(PPrint.java:1457)
        at org.w3c.tidy.Tidy.main(Tidy.java:1484)      




TEXT/PLAIN attachment: foo




