docno="lists-001-0823012"
received="Mon Oct 30 14:46:26 2000"
isoreceived="20001030194626"
sent="Mon, 30 Oct 2000 11:45:53 -0800"
isosent="20001030194553"
name="Gary L Peskin"
email="garyp@firstech.com"
subject="Re: Problems with JTIDY"
id="39FDCFF1.D72DDFE9@firstech.com"
charset="us-ascii"
inreplyto="39FD8E47.106EDFC7&#64;firstech.com"
expires="-1"


To: Html-Tidy<html-tidy@w3.org>
CC:"Juan J. Merelo"<jj.merelo@civista.com>

Gary L Peskin wrote:
> > On Mon, Oct 30, 2000 at 01:49:48PM -1200, Juan J. Merelo wrote:
> > >
> > > $ java -cp ".;../jtidy-04aug2000r2/build/Tidy.jar" Test16
> > > http://localhost:8080
> > >  index.html err.dat
> > > java.lang.Error: java.util.MissingResourceException: Can't find bundle for
> > > base
> > > name org/w3c/tidy/TidyMessages, locale es_ES
> > >         at org.w3c.tidy.Report.<clinit>(Report.java:137)
> > >         at org.w3c.tidy.Tidy.parse(Tidy.java:1111)
> > >         at Test16.run(Test16.java:48)
> > >         at java.lang.Thread.run(Unknown Source)
> > >
> > > the r3 seems to be broken, at least at Sourceforge. Any idea?
> >
> > I need to work out how to make it easy to handle locale-specific
> > message files with JTidy. Any ideas, anyone?

This is handled with the java ResourceBundle mechanism which works just
fine for me.

> 
> I'll test this out as soon as I can but normally, the resource loader
> would look for TidyMessages_es_ES, then TidyMessages_es, then
> TidyMessages.  So, we shouldn't need to change anything in JTidy.  Juan,
> what release of the JDK are you running?

Juan -

I think I found the problem!!  You specify in your -cp argument the r2
release of JTidy.  This release inadvertently omitted the
TidyMessages.properties file from Tidy.jar.  This is why you couldn't
find it.  If you use the r3 release, this should be fixed.

Gary



