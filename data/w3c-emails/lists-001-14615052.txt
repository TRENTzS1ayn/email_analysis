docno="lists-001-14615052"
received="Wed Dec 19 10:30:06 2001"
isoreceived="20011219153006"
sent="Wed, 19 Dec 2001 10:30:04 -0500 (EST)"
isosent="20011219153004"
name="Carole Mah"
email="carole@fates.org"
subject="DOCTYPE affects Netscape 6"
id="Pine.OSX.4.40.0112191015050.11835-100000@mrsgale.fates.org"
charset="US-ASCII"
expires="-1"

To:html-tidy@w3.org



Summary:

Running 'tidy -asxml' puts in a DOCTYPE declaration that seems to confuse
Netscape 6.  Now, this seems like a perfectly valid w3c-compliant
declaration, so it may be Netscape's fault.

So now I cynically feel that if you want your tables to look good in
Netscape 6, either omit your DOCTYPE declaration (sadly) or use the one
(or perhaps a few more, I hope[1]) DOCTYPE declaration that Netscape 6
actually seems to understand. ARGH!

See:

http://www.evolt.org/article/comment/17/4427/

What happened to me:

I have a number of completely w3c-compliant documents.  I ran them through
Tidy to be sure.

Tidy adds a standard W3C DOCTYPE (when run with the -asxml option which
produces XHTML):

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

With this DOCTYPE in place, table cells are rendered with huge amounts of
extraneous vertical whitespace inside each cell.

With this DOCTYPE omitted or commented out, Netscape 6 displays the table
in the way one would expect (no extra whitespace).

Now at first I thought I had the extra whitespace because I had some CSS
style or some height attribute on a <TD> which Netscape 6 interpreted
in a different way than Netscape 4 or IE did.  But this is not the
problem, for after stripping all that style and height information from
a test document, the extraneous whitespace remained.

After finding the above article/discussion, I was skeptical, but tried
deleting the DOCTYPE anyway, and voila, problem solved!

Again, the URL:
  http://www.evolt.org/article/comment/17/4427/

The discussions are just as interesting as the articles -- one person
claims that this whole problem may be a result of some Netscape
developers' "overly purist" zeal. Hmmm.

See also http://gutfeldt.ch/matthias/articles/doctypeswitch.html regarding
"Quirk" versus "Standard" modes and doctype switching by browsers.

If anyone has any more insight into this, or corrections to assertions
I've made, please feel free.  This is very frustrating.  I don't think
there is anything wrong with the DOCTYPE which Tidy uses, and it is
annoying to have to run my documents through yet another script to strip
off these perfectly good declarations.

-carole

Notes:
----------
[1] This is an issue that applies both to HTML and XHTML; as the article
cited shows, there is one HTML 4.x DOCTYPE declaration which Netscape 6
accepts, and one which it does not. But there may be other DOCTYPE
declarations besides this one which it also accepts.  My research has not
yet uncovered a definitive list of such declarations. Does anyone else
have any idea what they might be?

-carole

- - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Carole E. Mah                     carolem@stg.brown.edu
           Senior Programmer/Analyst
   Brown University Scholarly Technology Group
               phn 401-863-2669
               fax 401-863-9313
            http://www.stg.brown.edu/
  personal: http://www.stg.brown.edu/~carolem/



