docno="lists-001-16770683"
received="Wed Jan  9 03:23:38 2002"
isoreceived="20020109082338"
sent="Wed, 9 Jan 2002 00:21:55 -0800"
isosent="20020109082155"
name="Terry Teague"
email="terry_teague@users.sourceforge.net"
subject="Re: width=&quot;n*&quot; marked invalid on &lt;COL&gt;"
id="l03130301b861abb86c9a@[17.219.108.15]"
charset="us-ascii"
inreplyto="3C3B0741.5080903&#64;fnxweb.com"
expires="-1"


To: html-tidy<html-tidy@w3.org>

At 2:50 PM +0000 1/8/02, Neil Bird wrote:
>Around about 01/07/02 16:42, Fred Bone scribbled ...
>
>> <table>
>> <col width="0*">
>> <tr>
>> <td>xx</td>
>> </tr>
>> </table>
>
>  Saved as-is as jobby.html:

> > tidy jobby.html
>
>HTML Tidy for Solaris (vers 1st January 2002; built on Jan  7
>2002, at 13:25:07)
>Parsing "jobby.html"
>line 1 column 1 - Warning: <table> lacks "summary" attribute
>line 1 column 1 - Warning: inserting missing 'title' element
>line 2 column 5 - Warning: <col> attribute "width" has invalid
>value "0*"

When I tried Fred's sample with probably the 04 Aug 00 version of Tidy on
my platform, last night, I could have sworn I didn't see the problem
either. So perhaps I didn't try with the current version of Tidy.

But I tried again today, and now get the problem with the current version
of Tidy (at first I removed the HTML 4.01 Transitional DOCTYPE declaration
I had in my sample, got the problem, thought OK maybe it was dependent on
the DOCTYPE, put back the DOCTYPE, but still got the problem), and don't
get the problem with the 04 Aug 00 version of Tidy.

Looking at the code, the CheckLength() function in attrs.c doesn't allow
for the relative form of the multilength attribute value type (n*). The fix
probably should only allow the relative form for HTML 4.0 or later.

I believe the CheckLength() routine was added after the 04 Aug 00 version.

Regards, Terry



