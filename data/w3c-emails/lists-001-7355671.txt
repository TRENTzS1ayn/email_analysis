docno="lists-001-7355671"
received="Fri Jan 26 10:59:51 2001"
isoreceived="20010126155951"
sent="Fri, 26 Jan 2001 17:08:06 +0100"
isosent="20010126160806"
name="Denis Queffeulou"
email="denis.queffeulou@wokup.fr"
subject="RE: Errors with XML file"
id="200101261557.QAA06557@chiron.rennes.wokup"
charset="US-ASCII"
inreplyto="200101121100.MAA04387&#64;chiron.rennes.wokup"
expires="-1"


To:<html-tidy@w3.org>

I have found the problem :

The class TagTable is a singleton but not the class Configuration and
TagTable has a reference on an instance of Configuration. This reference
changes at each instanciation of a Tidy, so the TagTable references the LAST
instance of Configuration created.
This causes a problem in method TagTable.findTag because the instance of
Configuration is not the same as the one used by Tidy, so the XmlTags flag
has not the value expected.

I have transformed Configuration into a singleton to resolve the problem.

I think it's a bug.

Regards,

Denis Queffeulou

>
> Hi, I am using JTidy with an XML source file (I use
> setXmlTags(true)) and I
> have the following messages :
>
> line 2 column 1 -
> Error:
> <data>
>  is not recognized!
>
>
> line 4 column 5 -
> Error:
> <article>
>  is not recognized!
>
>
> line 5 column 9 -
> Error:
> <chapitre>
>  is not recognized!
>
>
> line 8 column 9 -
> Error:
> <chapitre>
>  is not recognized!
>
>
> line 11 column 9 -
> Error:
> <chapitre>
>  is not recognized!
>
>
> line 14 column 9 -
> Error:
> <chapitre>
>  is not recognized!
>
>
> This document has errors that must be fixed before
> using HTML Tidy to generate a tidied up version.
>
>
> ... with the following file :
> <?xml version="1.0" encoding="ISO-8859-1"?>
> <data>
>
> <article>
> <chapitre>
> chapitre1
> </chapitre>
> <chapitre>
> chapitre2
> </chapitre>
> <chapitre>
> chapitre3
> </chapitre>
> <chapitre>
> chapitre4
> </chapitre>
> </article>
>
> </data>
>
> Is there anything else to do in order to parse XML file without errors ?
>
> Thanks,
> --
> Denis Queffeulou



