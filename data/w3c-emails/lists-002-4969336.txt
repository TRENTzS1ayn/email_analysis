docno="lists-002-4969336"
received="Tue Oct 22 01:29:18 2002"
isoreceived="20021022052918"
sent="Tue, 22 Oct 2002 01:28:29 -0400"
isosent="20021022052829"
name="Jiang Yingtao"
email="jiangyingtao@hotmail.com"
subject="Illegal Access Error.A tidy bug or broken some assumptions Tidy made?"
id="F90egv9KH0m3dLLk4hJ0000d718@hotmail.com"
charset="gb2312"
expires="-1"

To:html-tidy@w3.org



Hi,everybody,

Sorry for the spamming, but I just realized that I send the last two email 
in RTF format(thanks to Fred's kindly remind), which present some of you 
from reading my email, so this time pure TEXT.

I downloaded Tidy.jar and used it at my project. But when I try to 
instantiate an Tidy object in a servlet and let it parse a html string for 
me, it give me the following exception stack:

Error Message: try to access field org/w3c/tidy/ParserImpl._parseHead from 
class org/w3c/tidy/ParserImpl$ParseHTML
Error Code: 500
Target Servlet: null
Error Stack: 
java.lang.IllegalAccessError: try to access field 
org/w3c/tidy/ParserImpl._parseHead from class 
org/w3c/tidy/ParserImpl$ParseHTML 
     at org.w3c.tidy.ParserImpl$ParseHTML.parse(ParserImpl.java) 
     at org.w3c.tidy.ParserImpl.parseDocument(ParserImpl.java) 
     at org.w3c.tidy.Tidy.parse(Tidy.java) 
     at Clean.tidyFile(Clean.java:182) 
     at Clean.<init>(Clean.java:95) 
     at newM5Wrapper.invoke(newM5Wrapper.java:96) 
     at newM5Servlet.doGet(newM5Servlet.java:38) 
     at javax.servlet.http.HttpServlet.service(HttpServlet.java:740) 
     ;! at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) 
     at 
com.ibm.servlet.engine.webapp.StrictServletInstance.doService(ServletManager.java:827) 

     at 
com.ibm.servlet.engine.webapp.StrictLifecycleServlet._service(StrictLifecycleServlet.java:167) 

     at 
com.ibm.servlet.engine.webapp.IdleServletState.service(StrictLifecycleServlet.java:297) 

     at 
com.ibm.servlet.engine.webapp.StrictLifecycleServlet.service(StrictLifecycleServlet.java:110) 

     at 
com.ibm.servlet.engine.webapp.ServletInstance.service(ServletManager.java:472) 

     at 
com.ibm.servlet.engine.webapp.ValidServletReferenceState.dispatch(ServletManager.java:1012) 

     at 
com.ibm.servlet.engine.webapp.ServletInstanceReference.dispatch(ServletManager.java:913) 

     at com.ibm.servlet.engine.webapp.WebAppRequestDi s! 
patcher.handleWebAppDispatch(WebAppRequestDispatcher.java:523) 
     at 
com.ibm.servlet.engine.webapp.WebAppRequestDispatcher.dispatch(WebAppRequestDispatcher.java:282) 

     at 
com.ibm.servlet.engine.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:112) 

     at 
com.ibm.servlet.engine.srt.WebAppInvoker.doForward(WebAppInvoker.java:91) 
     at 
com.ibm.servlet.engine.srt.WebAppInvoker.handleInvocationHook(WebAppInvoker.java:184) 

     at 
com.ibm.servlet.engine.invocation.CachedInvocation.handleInvocation(CachedInvocation.java:67) 

     at 
com.ibm.servlet.engine.srp.ServletRequestProcessor.dispatchByURI(ServletRequestProcessor.java:122) 

     at 
com.ibm.servlet.engine.oselistener.OSEListenerDispatcher.service(OSEListener.java:315) 

     at com.ibm.servlet.engine.http11.HttpConn e! 
ction.handleRequest(HttpConnection.java:60) 
     at 
com.ibm.ws.http.HttpConnection.readAndHandleRequest(HttpConnection.java:323) 

     at com.ibm.ws.http.HttpConnection.run(HttpConnection.java:252) 
     at com.ibm.ws.util.CachedThread.run(ThreadPool.java:122) 

The strange thing is that when I instantiate a tidy in a ordinary java 
application, and let it parse a html string for me, it works fine.

Does anybody have any clue what the problem might be? I am really urgently 
need this problem to be solved, any reply will be appreciated.

My platform is :
Windows 2000 prefessional, 
Websphere studio Application Developer(use internal websphere application 
server4.02, web server is apache I believe.)

thans in advance.

Yingtao

_________________________________________________________________
???????????????????????????? MSN Messenger: http://messenger.msn.com/lccn/ 



