docno="lists-005-13822641"
received="Tue Dec 12 19:09:09 2000"
isoreceived="20001213000909"
sent="Tue, 12 Dec 2000 19:08:27 -0500"
isosent="20001213000827"
name="Clemm, Geoff"
email="gclemm@rational.com"
subject="Re: II.6, non-reusable version URLs (was: comments on deltav-10.5  from Yaron Goland, Act Two)"
id="3906C56A7BD1F54593344C05BD1374B1015A1F0B@SUS-MA1IT01"
inreplyto="II.6, non-reusable version URLs (was: comments on deltav-10.5  from Yaron Goland, Act Two)"
expires="-1"


To:ietf-dav-versioning@w3.org

Note that a server can implement non-reusable version URL's
fairly easily by extending the version URL with a GUID (such
as would be used for a lock token).  The non-GUID part of the
URL would be used to locate the resource and the GUID part of
the URL would be stored as an implementation attribute on the resource.
If the resource currently located at the non-GUID part of the URL
does not have the GUID part of the URL, then the server would return
a 404 on access to that URL.

The benefit to the client (as Tim describes below) is significant
enough to warrant serious consideration for adding it to the protocol.

Lisa: does your server currently use GUID's for any other purpose
(such as locking), and if so, would it be a problem to use them
here?

Cheers,
Geoff

-----Original Message-----
From: Tim_Ellison@uk.ibm.com [mailto:Tim_Ellison@uk.ibm.com]

The term "version URL" simply means a URL that identifies a version.  In
your example I'm not sure what you mean by "relative URL".

Servers may support deleting individual versions (as well as the entire
versioned resource).  It would be undesirable for servers to reuse version
URLs since they represent a 'stable' reference to a particular state of the
resource, and may be used as such by other persistent resources.  Clearly
if the server reuses a URL that would be a bad thing in such circumstances.

Tim


"Lisa Dusseault" <lisa@xythos.com> on 2000-12-12 08:56:57 PM


Can somebody clarify what this would mean:

> -----Original Message-----
> From: ietf-dav-versioning-request@w3.org On Behalf Of Geoffrey M.
> ...
> (II.6) Require that a version URL never be re-used after a version is
>        deleted.

Whether or not I agree with this, I find the phrase "version URL" to be
ambiguous enough that I'm not certain what this comment is supposed to
mean,
so I'll start with an example:
 - foo.doc is created
 - foo.doc is made versioned and "foo.doc.__v1__" is defined as the
relative
version URL
 - All of foo.doc is deleted
 - foo.doc is created
 - foo.doc is made versioned, NOW, according to this suggestion, the
current
version CANNOT be called foo.doc.__v1__ therefore is called foo.doc.__v2__

Is that the intent?  if so, I'd have to disagree with this; although it
might be desirable for a server to avoid ever having a version URL re-used,
it ought not to be part of the standard.  I don't actually think it's
relative to the standard, although it may be very relative to good server
design.

lisa



