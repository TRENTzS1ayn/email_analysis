docno="lists-006-0334070"
received="Mon May 28 04:37:14 2001"
isoreceived="20010528083714"
sent="Mon, 28 May 2001 10:36:55 +0200"
isosent="20010528083655"
name="Stefan Eissing"
email="stefan.eissing@greenbytes.de"
subject="AW: PROPFIND allprop with more properties (was AW: Resource class   )"
id="NDBBKJABLJNMLJELONBKGELDCNAA.stefan.eissing@greenbytes.de"
charset="iso-8859-1"
inreplyto="JIEGINCHMLABHJBIGKBCAEHGCFAA.julian.reschke&#64;greenbytes.de"
expires="-1"

To:"Clemm, Geoff"<gclemm@rational.com>,<ietf-dav-versioning@w3.org>




> Von: ietf-dav-versioning-request@w3.org
> [mailto:ietf-dav-versioning-request@w3.org]Im Auftrag von Julian F.
> Reschke
> Gesendet: Montag, 28. Mai 2001 09:50
> An: Clemm, Geoff; ietf-dav-versioning@w3.org
> Betreff: RE: PROPFIND allprop with more properties (was AW: Resource
> class )
>
>
> > From: ietf-dav-versioning-request@w3.org
> > [mailto:ietf-dav-versioning-request@w3.org]On Behalf Of Clemm, Geoff
> > Sent: Saturday, May 26, 2001 5:27 PM
> > To: ietf-dav-versioning@w3.org
> > Subject: RE: PROPFIND allprop with more properties (was AW: Resource
> > class )
> >
> >
> > I agree with Lisa's criticism of my counter-proposal,
> > i.e. that it prevented DAV:all-dead-prop from being
> > used as a property name.
> >
> > To avoid the introduction of the DAV:include element,
> > and to reflect that fact that we are "adding stuff to what
> > DAV:allprop returns", another minor variant we could consider
> > would be:
> >
> > <propfind xmlns="DAV:">
> >   <allprop>
> >     <checked-in/><checked-out/><version-name/>
> >   </allprop>
> > </propfind>
>
> This one won't interoperate with old servers, because <allprop> is defined
> to be EMPTY (in RFC2518).
>
> So if you hit an old server, you'll have to two two additional requests
> (<allprop> and <prop> with the three named properties), while with
> <include>, it will be just one additional request (using <prop> to get the
> three additional properties).
>
> BTW: chapter 23.3.2 of RFC2518 gives a very similar example for legally
> extending PROPFIND.
>

I find the arguments in RFC2518 Ch. 23.3 (esp. 23.3.2.2) very convincing.
Thus the most backward compatible solution is using include in its own
namespace:

<propfind xmlns="DAV:">
  <allprop/>
  <DV:include xmlns:DV="DAV:deltav">
    <checked-in/><checked-out/><version-name/>
  </DV:include>
</propfind>

where I don't specifically care what the namespace is (could also be
"DAV:extended" or "DAV:addons-to-rfc2518"). If an implementor follows
RFC2518, non-aware servers have to accept this message as a valid
propfind/allprop (and indeed all I could test against do).

Can someone of the more experienced DAVers suggest a good namespace?

//Stefan



