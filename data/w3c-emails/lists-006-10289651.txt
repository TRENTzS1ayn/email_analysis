docno="lists-006-10289651"
received="Wed Jul 11 05:28:38 2001"
isoreceived="20010711092838"
sent="Wed, 11 Jul 2001 10:06:31 +0100"
isosent="20010711090631"
name="Tim Ellison"
email="Tim_Ellison@uk.ibm.com"
subject="Re: Finding the version of a resource in a Version-Controlled-Collect ion..."
id="OF92166921.FFB12D7B-ON80256A86.0030EC5D@portsmouth.uk.ibm.com"
charset="us-ascii"
inreplyto="Finding the version of a resource in a Version-Controlled-Collect ion..."
expires="-1"

To:ietf-dav-versioning@w3.org


Peter Raymond <Peter.Raymond@merant.com> wrote:

> Despite some excellent e-mail threads recently regarding
> Version-Controlled-Collections I am still not clear how
> to find the specific version of a resource which is
> referenced by a version of a collection resource.
>
> Section 14 goes to great lengths to explain why we chose
> to have the binding-set of a version of a collection point
> to a VHR not a version of a resource and this is fine,
> it makes sense.  But what is still not clear (at least to
> me) is how having found the binding (URL segment bound to
> a VHR) do I find the DAV:checked-in version of the resource
> identified by the VHR.

As Alan said, there is no DAV:checked-in version associated with the
version history.  Think of collection versions as "shallow" versions that
capture the version-controlled bindings to version history resources.  In
DeltaV, a "deep" collection (i.e. the collection and all resources it is
bound to, recursively) is called a 'configuration' and a version of a
configuration is a 'baseline'.

> So I can do a PROPFIND with a Depth=0 for the
> DAV:version-controlled-binding-set of a version of a
> collection.  This gives me the binding names and references
> to Version History Resources.  Now how do I find the
> DAV:checked-in version?

Again, you don't for the reasons given in the spec. and reiterated by Alan.
Capturing shallow versions of collections avoids the ripple effect when
changing resources.

> This is something a client may do quite often, eg display
> directory structure (of a workspace) and when a directory
> is selected display versions of files contained within the
> directory.

Showing versions of a file (or any resource) is not affected by its
membership of a collection.  It is always valid to look at the version
history (or predecessor/successor relationships) of a version-controlled
resource.  Versioned collection capture the namespace.

Regards,
Tim



