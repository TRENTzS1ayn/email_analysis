docno="lists-006-10308599"
received="Wed Jul 11 06:40:56 2001"
isoreceived="20010711104056"
sent="Wed, 11 Jul 2001 11:40:31 +0100"
isosent="20010711104031"
name="Tim Ellison"
email="Tim_Ellison@uk.ibm.com"
subject="Re: The definition of a &quot;Baseline-Controlled Collection&quot;"
id="OF9003D7AC.F392C92D-ON80256A86.0037D7B9@portsmouth.uk.ibm.com"
charset="us-ascii"
inreplyto="The definition of a &quot;Baseline-Controlled Collection&quot;"
expires="-1"

To:ietf-dav-versioning@w3.org



Peter Raymond <Peter.Raymond@merant.com> wrote:

> Section 10.2 of the specification defines a "Baseline-Controlled
> Collection" as follows:
>
> A "baseline-controlled collection" is a collection from which
> baselines can be created.
>
> But section 12 says:
>
> A collection that is under baseline control is called a
> "baseline-controlled collection".
>
> They can't both be right, is a BCC a resource from which a Baseline
> CAN be created or is it a resource from which a Baseline HAS BEEN
> created?

Both are correct.  Similarly, a version-controlled resource is a resource
from which versions can be created, while at the same time being a resource
from which a version has been created.

> The definition in Section 10.2 seems wrong, I don't think you create
> a Baseline from a collection, you create it by checking-in a
> version-controlled configuration, which itself was created by placing
> a collection under BASELINE-CONTROL.

The definition is:  A "baseline-controlled collection" is a collection from
which baselines can be created.


You are right that there is a level of indirection required to actually
create the baseline resource, however, this definition was intended to be
more general.  Do you have any suggestions for an alternative definition?

> Infact, am I right in thinking that a "Baseline-Controlled Collection"
> is simply a collection which has a DAV:version-controlled-configuration
> property?

It's as simple as that!  (Though I would suggest that alone is not a good
definition:-)

> I am trying to get my head around what steps are needed to create a
> new Baseline, populated with the contents of a collection, for example:
>
> There is a Version-Controlled Collection /build/src/

Ok, though it need not be version-controlled.

> My client issues a BASELINE-CONTROL on that Version-Controlled Collection
>    At this point a new "Version-Controlled Configuration" is created
>    The original collection gets a DAV:version-controlled-configuration
>     property set to the newly created resource
>    The Version-Controlled Configuration gets a
>     DAV:baseline-controlled-collection property set to the original
>     collection
>     A new Baseline History resource is created
>    A new Baseline version is created (the "root baseline")
>    The DAV:checked-in property of the Version-Controlled Configuration
>     is set to the "root baseline"

Agreed.

>     A new collection with no members is created
>    The "root baseline" has a DAV:baseline-collection pointing to the
> above empty collection

Hmm, I agree that is what is written, and that sounds suspiciously like a
Geoff-ism (empty initial version) <g>
I don't know when that was introduced.

> So at this point I have a "empty" baseline, how do I populate it with the
> checked-in versions of resources from the original collection?

You would simply checkout/checkin the version-controlled configuration.

> I guess I check-out the version-controlled configuration that was created
by
> the BASELINE-CONTROL and just check it in again???

Yes, (talk to Dr Clemm about that ...)

> This is not clear in section 12, perhaps an example or diagram of
creating a
> new baseline might help in this
> section....something like this:
>
>                +-----------+
[tpe]            |Baseline-  |
>   +------------|Controlled |<--+
>   |            |Collection |   |
>   |            +-----------+   |
>   |                            |DAV:b-c-collection
>   |DAV:v-c-configuration       |
>   |                            |
>   |  +-------------+           |
>   +->|Version      |-----------+
>      |Controlled   |
>      |Configuration|--+
>      +-------------+  |
>                       |
>        DAV:checked-in |  +---------+
>                       |  |Baseline |
>                       |  |History  |
>                       |  |         |
>                       |  | +---+   |                   +-------------+
>                       +--->|V1 |   | DAV:b-collection  |Collection   |
>                          | |   |---------------------->|with bindings|
>                          | +---+   |                   |to resources |
>                          +---------+                   |from the     |
>                                                        |original     |
>                                                        |collection.  |
>                                                        +-------------+
>
> Am I on the right track?

Spot on (note that I changed version to baseline above), I have exactly
that diagram in my notebook.


Regards,

Tim Ellison
Java Technology Centre, MP146
IBM UK Laboratory, Hursley Park, Winchester, UK. SO21 2JN
tel: +44 (0)1962 819872  internal: 249872  MOBx: 270452



