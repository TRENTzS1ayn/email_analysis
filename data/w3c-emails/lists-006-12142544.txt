docno="lists-006-12142544"
received="Sun Aug 19 23:54:10 2001"
isoreceived="20010820035410"
sent="Sun, 19 Aug 2001 23:53:34 -0400"
isosent="20010820035334"
name="Clemm, Geoff"
email="gclemm@rational.com"
subject="RE: Versions being deleted during a MERGE..."
id="3906C56A7BD1F54593344C05BD1374B103F48FB6@SUS-MA1IT01"
inreplyto="Versions being deleted during a MERGE..."
expires="-1"


To:ietf-dav-versioning@w3.org

A server is of course free to refuse the DELETE request,
and indicate as its reason that it didn't want to satisfy
the postcondition that would remove that version URL from
the DAV:merge-set.

Note thought that even if the server allows the deletion,
there is no race condition here, though,
just some dangling version URL's that will return 404's
when accessed.

Cheers,
Geoff

-----Original Message-----
From: Peter Raymond [mailto:Peter.Raymond@merant.com]
Sent: Sunday, August 19, 2001 8:22 AM
To: ietf-dav-versioning@w3.org
Subject: Versions being deleted during a MERGE...


Hi,

I just noticed a potential problem with versions being used for a merge
operation
being deleted during the merge.

Section 11 says a checked-out resource has a DAV:merge-set identifying
versions
to be merged.  DELETE (section 11.5) says it will remove entries from
the
merge-set.  Shouldn't the server disallow the DELETE, someone somewhere
is in the
middle of a merge using this version, also there would be a race
condition if someone
deletes the version while the client is processing the DAV:merge-set of
a checked-out
resource.

Regards,
Peter Raymond - MERANT



