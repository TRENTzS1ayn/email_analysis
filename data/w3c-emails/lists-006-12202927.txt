docno="lists-006-12202927"
received="Mon Aug 20 15:06:13 2001"
isoreceived="20010820190613"
sent="Mon, 20 Aug 2001 20:04:30 +0100"
isosent="20010820190430"
name="Peter Raymond"
email="Peter.Raymond@merant.com"
subject="Re: Versions being deleted during a MERGE..."
id="3B815F3E.250524B@merant.com"
charset="us-ascii"
inreplyto="OF9BA24262.DA3F6BBE-ON85256AAE.005172EE&#64;raleigh.ibm.com"
expires="-1"


To: Jim Amsden<jamsden@us.ibm.com>
CC:ietf-dav-versioning@w3.org

Hi,

Jim Amsden wrote:

> The delete from the merge-set is deleting the version URL from the
> merge-set, not deleting the version itself. This just indicates the user
> is done doing the merge from that entry.

The specification says (in section 11.5) that if a version is deleted it
will
be removed from the merge-set.  This is what I was talking about.
A user may have begun an interactive merge (resolving conflicts in
individual
files) and the specification says another user may come along and delete one

of those files involved in the merge.

See Tims recent e-mail where he suggests I lock everything involved in the
merge before starting....this seems OK.

Regards,
Peter Raymond - MERANT.



>
> Peter Raymond <Peter.Raymond@merant.com>
> Sent by: ietf-dav-versioning-request@w3.org
> 08/19/2001 08:21 AM
>
>
>         To:     ietf-dav-versioning@w3.org
>         cc:
>         Subject:        Versions being deleted during a MERGE...
>
>
>
> Hi,
>
> I just noticed a potential problem with versions being used for a merge
> operation
> being deleted during the merge.
>
> Section 11 says a checked-out resource has a DAV:merge-set identifying
> versions
> to be merged.  DELETE (section 11.5) says it will remove entries from
> the
> merge-set.  Shouldn't the server disallow the DELETE, someone somewhere
> is in the
> middle of a merge using this version, also there would be a race
> condition if someone
> deletes the version while the client is processing the DAV:merge-set of
> a checked-out
> resource.
>
> Regards,
> Peter Raymond - MERANT



