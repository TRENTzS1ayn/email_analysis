docno="lists-006-12807555"
received="Fri Sep  7 05:01:19 2001"
isoreceived="20010907090119"
sent="Fri, 7 Sep 2001 10:00:06 +0100 "
isosent="20010907090006"
name="Peter Raymond"
email="Peter.Raymond@merant.com"
subject="The Depth header..."
id="20CF1CE11441D411919C0008C7C5A13B027AA36E@stalmail.eu.merant.com"
charset="iso-8859-1"
expires="-1"


To:ietf-dav-versioning@w3.org

Hi,

I have a few issues/questions surrounding the use of the depth header...

As Geoff pointed out in his reply to my message on the Vary header, GET 
does not take a Depth header.  This would have been really useful, this 
came up in one of our deltav study groups here in MERANT...the scenario 
was this:

You are a Working-Resource based client and are using labels to identify 
files to be used in a build (this is a common use of labels, the label 
selects which versions are to be included in a build).

If we could do a GET with a Depth header and supply the label in the label
header then in one operation we could retrieve all files needed for the
build.
Since the spec does not allow Depth on GET we would have to do a PROPFIND
to get the DAV:label-name-set (or do a DASL query) and then issue multiple
GET methods specifying the label header.
Why was depth not defined on the GET method? Seems like a really useful
feature.

The second issue I have with the depth header is they way it is defined 
inconsistently on each method that uses it....for example on the UPDATE 
method if depth is not specified then Depth: infinity is assumed...on the 
LABEL method if depth is not specified then Depth: 0 is assumed.  It would 
make server implementation cleaner if we could always assume Depth: 0 in 
the absence of a Depth header.  This also seems logical, if the client does 
not ask for Depth then apply the operation only to the request resource.
Why not make the default behaviour of depth consistent?

Regards,
--
Peter Raymond - MERANT
Technical Architect (PVCS)
Tel: +44 (0)1727 813362
Fax: +44 (0)1727 869804
mailto:Peter.Raymond@merant.com
WWW: http://www.merant.com



