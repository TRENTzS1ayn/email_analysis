docno="lists-006-1365005"
received="Thu Jun  7 15:39:01 2001"
isoreceived="20010607193901"
sent="Thu, 7 Jun 2001 15:43:25 -0400 "
isosent="20010607194325"
name="Clemm, Geoff"
email="gclemm@rational.com"
subject="RE: Deleting versions"
id="3906C56A7BD1F54593344C05BD1374B1018E243E@SUS-MA1IT01"
charset="iso-8859-1"
inreplyto="Deleting versions"
expires="-1"


To: DeltaV<ietf-dav-versioning@w3.org>

Julian, Stefan, and I had a side thread on the question of
Microsoft IIS support for lock-null resources.  I figured
its results might be of general interest.  Summary:

IIS does allow you to issue a LOCK against a null resource,
but it does not create a lock-null resource as defined by
WebDAV -- it just creates an empty file and locks it.

Cheers,
Geoff

-----Original Message-----
From: Stefan Eissing [mailto:stefan.eissing@greenbytes.de]

Update: MKCOL on an IIS lock-null resource gives 405 NOT ALLOWED.
So, IIS internally creates an empty file and does not know about
lock-null resources.

Regards, Stefan

> -----Urspr?ngliche Nachricht-----
> Von: Clemm, Geoff [mailto:gclemm@rational.com]
> Gesendet: Donnerstag, 7. Juni 2001 15:47
> An: Julian F. Reschke
> Cc: Stefan Eissing
> Betreff: RE: Deleting versions
>
>
> Have you ever tried to truncate the message flow to see what
> actually is left in the file system after the LOCK if no
> PUT follows it?
>
> Cheers,
> Geoff
>
> -----Original Message-----
> From: Julian F. Reschke [mailto:julian.reschke@greenbytes.de]
> Sent: Thursday, June 07, 2001 9:36 AM
> To: Clemm, Geoff
> Cc: Stefan Eissing
> Subject: RE: Deleting versions
>
>
> Geoff,
>
> attached is a lengthy trace from Word2000.
>
> Search for "foo2.doc". You'll see that Word creates a lock-null, and then
> uses the lock token for a PUT.
>
> Julian
>
> > -----Original Message-----
> > From: Clemm, Geoff [mailto:gclemm@rational.com]
> > Sent: Thursday, June 07, 2001 3:28 PM
> > To: Julian F. Reschke
> > Subject: RE: Deleting versions
> >
> >
> > How did you use "save as" to create a lock null resource?
> > When I do a "save as", it just creates a regular file.
> > Or did you watch the protocol sequence as it passed over
> > the wire, and noticed that the "LOCK" came before the first
> > "PUT"?
> >
> > Cheers,
> > Geoff
> >
> > -----Original Message-----
> > From: Julian F. Reschke [mailto:julian.reschke@greenbytes.de]
> > Sent: Thursday, June 07, 2001 4:12 AM
> > To: Clemm, Geoff
> > Cc: Stefan Eissing
> > Subject: RE: Deleting versions
> >
> >
> > Microsoft Word 2000.
> >
> > > -----Original Message-----
> > > From: Clemm, Geoff [mailto:gclemm@rational.com]
> > > Sent: Thursday, June 07, 2001 12:45 AM
> > > To: 'julian.reschke@greenbytes.de'
> > > Subject: RE: Deleting versions
> > >
> > >
> > > Interesting.  I was not able to get IIS to create a lock null
> > > resource (although I must admit, I didn't try that hard).
> > > What client did you use?
> > >
> > > Cheers,
> > > Geoff
> > >
> > > -----Original Message-----
> > > From: Julian F. Reschke [mailto:julian.reschke@greenbytes.de]
> > > Sent: Wednesday, June 06, 2001 5:51 PM
> > > To: Clemm, Geoff; DeltaV
> > > Subject: RE: Deleting versions
> > >
> > >
> > > Geoff,
> > >
> > > last time I checked, MS Office was creating lock-null resources
> > > when doing a
> > > "save as" on an open document (for which Office already had a lock).
> > >
> > > Julian
> > >
> > > >
> > >
> > >
> >
>



