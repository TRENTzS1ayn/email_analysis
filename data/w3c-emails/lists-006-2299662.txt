docno="lists-006-2299662"
received="Fri Jun 15 10:45:37 2001"
isoreceived="20010615144537"
sent="Fri, 15 Jun 2001 10:51:04 -0400"
isosent="20010615145104"
name="Clemm, Geoff"
email="gclemm@rational.com"
subject="RE: A non-forking server, precussor revisited."
id="3906C56A7BD1F54593344C05BD1374B10350A718@SUS-MA1IT01"
inreplyto="A non-forking server, precussor revisited."
expires="-1"


To:ietf-dav-versioning@w3.org

   From: Tim_Ellison@uk.ibm.com [mailto:Tim_Ellison@uk.ibm.com]

   "John Hall" <johnhall@evergo.net> wrote:

   > In my first reading of the specification, I remind myself
   > that I probably don't fully understand the spec or how
   > people envision that it be implemented.

   It is undoubtably a 'deep' read, but it is very useful for people
   like yourself to read it without the baggage of previous iterations
   and give your impression and opinion.

Totally agree!  Any resulting "vigorous debate" (:-) just means that
you've raised an interesting point.

   > Geoff said precursor-set was only one href, but I thought
   > it was each and every href that had ever been copied on
   > top of a versioned resource -- so it is an unlimited set
   > of href's.

   It is a set of any number of resource URLs that form part of the
   resource's logical history.

But note that my intent for the postcondition of the COPY was
for the COPY to *replace* the existing DAV:precursor-set
with a singe URL for the new version, not to add it to the
list of URL's that are currently the value of that property.
The idea here was that if you did a "merge", you would be
doing a PUT to the resource (which does not modify the DAV:precursor-set)
and that the client could explicitly add multiple members to
capture any logical "merge" that preceded that PUT.

Perhaps it would be clearer to just ignore the "merge" case,
and just say there is one href there, and it is always the
result of the COPY?

   > So I would strongly prefer that precursor-set be optional.
   > An alternative would be that an implementation MAY not track
   > precursor-set and MAY set it equal to predecessor-set IF
   > it doesn't support MERGE or UPDATE.

   I see no point in making it equal to the predecessor set, but I'm also
   happy with making it optional.

The predecessor set is for versions in the same version history, and
the precursor set is for versions in a different version history, so
you definitely don't want to make the precursor-set equal to the
predecessor-set.

So how about the following.  Just change the postcondition of COPY
to say that the COPY "MAY" update the precursor set.  Is this
OK with everyone?

Cheers,
Geoff



