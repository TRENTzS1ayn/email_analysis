docno="lists-006-2401613"
received="Fri Jun 15 23:46:57 2001"
isoreceived="20010616034657"
sent="Fri, 15 Jun 2001 20:46:54 -0700"
isosent="20010616034654"
name="John Hall"
email="johnhall@evergo.net"
subject="RE: CHECKIN / CHECKOUT proposal from Geoff"
id="000201c0f616$fc2fd340$0400a8c0@xythosjohnhall"
charset="us-ascii"
inreplyto="3906C56A7BD1F54593344C05BD1374B10350A8DC&#64;SUS-MA1IT01"
expires="-1"

To:"'Clemm, Geoff'"<gclemm@rational.com>,<ietf-dav-versioning@w3.org>


My 'MAY' values are only trying to keep the client from getting into an
impossible state.  Namely, no UPDATE/MERGE available but the CHECKIN
'apply-to-version' isn't specified.

Now, I thought 'apply-to-version' was a flag on the working resource,
but you are putting it in the CHECKIN body.  OK.

So can you just let me fail the CHECKIN if 'apply-to-version' isn't
specified and neither is UPDATE/MERGE?

And another reason for 'MAY' is that different companies might wish to
configure a given server in different ways.  Although my server will
allow versions to be deleted, I'll also provide an admin flag
(proprietary) to prohibit it.

======================

SO:
CHECKOUT (of working copy) postcondition:
<!ELEMENT checked-out-VCR (href)> MAY be set on the working copy with
the href of the VCR when the current version is checked out.  This is
set when the server supports apply-to-version.

CHECKIN (of working copy) marshalling:
If <!ELEMENT apply-to-version EMPTY> is present and <!ELEMENT
checked-out-VCR (href)> exists the server performs a CHECKIN (of working
copy) and then automatically updates the VCR to reflect the content and
dead properties of this version.

[I need an error condition here if the UPDATE wasn't successful.  That
could happen if checked-out-VCR was invalid.]



