docno="lists-006-6446611"
received="Mon Feb  5 09:53:39 2001"
isoreceived="20010205145339"
sent="Mon, 5 Feb 2001 10:01:29 -0500 "
isosent="20010205150129"
name="Clemm, Geoff"
email="gclemm@rational.com"
subject="RE: LOCK and VERSION-CONTROL (was: Re: Core versioning issues and   nits)"
id="3906C56A7BD1F54593344C05BD1374B101EAE596@SUS-MA1IT01"
inreplyto="LOCK and VERSION-CONTROL (was: Re: Core versioning issues and   nits)"
expires="-1"


To:ietf-dav-versioning@w3.org

Good point.  I'll move this to its own section and expand.
How about the following:

1.8Versioning Methods and Write Locks
If a write-locked resource has a non-computed property defined by this
document, the property value MUST NOT be changed by a request unless the
appropriate lock token is included in the request.  Since every method
introduced in this document other than REPORT modifies at least one property
defined by this document, every versioning method other than REPORT is
affected by a write lock. In particular, the method MUST fail with a 423
(Locked) status if the resource is write-locked and the appropriate token is
not specified in an If request header.

Cheers,
Geoff

-----Original Message-----
From: Tim_Ellison@uk.ibm.com [mailto:Tim_Ellison@uk.ibm.com]

Geoff wrote:
> Actually, the interaction between the versioning
> protocol and the locking protocol is completely
> defined in 1.5.4, namely that a property defined
> in the versioning protocol MUST NOT be modified
> on a locked resource unless accompanied by a
> valid lock token.  In particular, in this case,
> placing a resource under version control adds
> a DAV:checked-in property on that resource,
> which requires a lock token if the resource
> is locked.

Now I'd admit that some of the protocol has to be read very carefully to
get the implications, but that one is WAY off the scale ;-)

Tim



