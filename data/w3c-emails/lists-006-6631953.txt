docno="lists-006-6631953"
received="Mon Feb  5 17:59:39 2001"
isoreceived="20010205225939"
sent="Mon, 5 Feb 2001 14:58:22 -0800"
isosent="20010205225822"
name="Lisa Dusseault"
email="lisa@xythos.com"
subject="Autoversion confusion"
id="CNEEJCPIOLHKIOFNFJDPMEBLCDAA.lisa@xythos.com"
charset="iso-8859-1"
expires="-1"

To:"Ietf-Dav-Versioning@W3. Org"<ietf-dav-versioning@w3.org>




I have a question about DAV:auto-version "when-locked" value.  In my
model of the way things work:

On a non-versioning server with a non-versioning client:
 - client issues LOCK on A
 - Lock-owner client issues PUT to A, creating the content A' (A-prime)
 - Any client issues GET to A, retrieving the content A'

On a versioning server with a non-versioning client, where resource A is
a VCR, which has DAV:auto-version equals "when-locked".
 - client issues LOCK on A, creating a checked-out version
 - Lock-owner client issues PUT to A, modifying the checked-out version
to have the content A'
 - Any client issues a GET to A, which retreives the body of the VCR,
which is the same as the body of the last checked-in version, which is
NOT the content A'.

So, on a versioning server with DAV:auto-version set to "when-locked",
clients cannot GET the latest content PUT by the lock-owner (without
specifying the version URL), until UNLOCK occurs and the version is
checked in.  This is inconsistent with the way a non-versioning server
behaves.

I like the functionality this feature is supposed to provide, but is
there a way of resolving this discrepancy?  The problem may lie in the
fact that the VCR is defined to have the same body and contents of the
last checked-in version, rather than the currently checked-out version.

Lisa



