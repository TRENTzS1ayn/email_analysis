docno="lists-007-0650220"
received="Mon Apr 22 14:18:22 2002"
isoreceived="20020422181822"
sent="Mon, 22 Apr 2002 19:18:16 +0100"
isosent="20020422181816"
name="Tim Ellison"
email="tim@ellison.name"
subject="RE: Label header vs PROPFIND depth 1"
id="FDEHJMOEIDFPFLBKEICGCEHBCGAA.tim@ellison.name"
charset="iso-8859-1"
inreplyto="3906C56A7BD1F54593344C05BD1374B103F8B129&#64;SUS-MA1IT01"
expires="-1"

To:"'Deltav WG'"<ietf-dav-versioning@w3.org>




> -----Original Message-----
> From: ietf-dav-versioning-request@w3.org
> [mailto:ietf-dav-versioning-request@w3.org]On Behalf Of Clemm, Geoff
> Sent: 22 April 2002 19:02
> To: 'Deltav WG'
> Subject: RE: Label header vs PROPFIND depth 1
>
>
>    From: Lisa Dusseault [mailto:ldusseault@xythos.com]
>
>    Geoff said:
>    >    PROPFIND /a
>    >    Depth: 1
>    >    Label: labeltest
>    > Assuming /a is not version-controlled, then the effect of the Label
>    > header is undefined, so your implementation could just ignore the
>    > Label header and return the properties of /a, or it could indicate
>    > that it is an error for /a.
>    >
>    > Since /a/b is version-controlled, the effect is defined by section
>    > 8.6, and you would return the properties of the version labeled
>    > "labeltest".
>
>    This is interesting -- I thought that the RFC said that the label
>    header must be ignored if the resource is not version-controlled.
>    Thus, it would be *wrong* to return an error for /a.
>
> Lisa is of course correct.  Section 8.3 covers this case.
> So yes, it must be ignored for a non-version-controlled resource,
> so it would be wrong to return an error for /a.

Right, so imagine what kind of answer you would get back in the
multistatus -- some would be from the unversioned resource propfinds and
some from version propfinds, and you wouldn't know which were versioned
(without explictly looking for a live property to distinguishe them), _and_
it would contravene the 2518 depth result requirement I mentioned earlier.

> Boy, nothing like a little jet lag to short-circuit the ol' brain cells
> (:-).
>
>    I don't see any definition of what should happen, BTW, if the
> "labeltest"
>    label does not exist on /a/b -- however the resource is
> version-controlled.
>    Is that an error?   How is the client supposed to be able to tell the
>    difference between a version-controlled resource for which the label
> exists,
>    and a version-controlled resource for which the label doesn't exist?
>
> See section 8.6, the DAV:must-select-version-in-history precondition.
> It is an error if you request a label that does not exist on a given VCR.


Regards,
Tim



