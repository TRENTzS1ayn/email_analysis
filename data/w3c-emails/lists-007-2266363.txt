docno="lists-007-2266363"
received="Fri Jan 18 03:36:59 2002"
isoreceived="20020118083659"
sent="Fri, 18 Jan 2002 09:36:10 +0100"
isosent="20020118083610"
name="Kirmse, Daniel"
email="daniel.kirmse@sap.com"
subject="RE: Problems with Delete of a version-controlled collection"
id="59357A260E15D311B5A60008C75D3530068B4770@dbwdfx13.wdf.sap-ag.de"
charset="iso-8859-1"
inreplyto="Problems with Delete of a version-controlled collection"
expires="-1"


To:"Ietf-Dav-Versioning (E-mail)"<ietf-dav-versioning@w3.org>



>-----Original Message-----
>From: Clemm, Geoff [mailto:gclemm@rational.com]
>Sent: Freitag, 18. Januar 2002 04:49
>To: Ietf-Dav-Versioning (E-mail)
>Subject: RE: Problems with Delete of a version-controlled collection
>
>
>   From: Kirmse, Daniel [mailto:daniel.kirmse@sap.com]
>
>   >From: Clemm, Geoff [mailto:gclemm@rational.com]
>   >   From: Kirmse, Daniel [mailto:daniel.kirmse@sap.com]
>   >
>   >   suppose this:
>   >
>   >   /foo
>   >   |
>   >   +- /bar
>   >|
>   >+- foobar.c
>   >
>   >   all the resources are under version-control. Now suppose this
>   >   sequence of requests:
>   >
>   >   CHECKOUT /foo/bar
>   >     DAV:apply-to-version
>   >
>   >   (working-collection: /wc/wc1  auto-update: /foo/bar)
>   >
>   >   CHECKOUT /foo
>   >     DAV:apply-to-version
>   >
>   >   (working-collection: /wc/wc2, auto-update: /foo)
>   >
>   >   delete folder /foo/bar:
>   >   DELETE /wc/wc2/bar   
>   >
>   >   CHECKIN /wc/wc2
>   >   (applied to /foo -> the folder /bar and all its content is gone)
>   >
>   >   CHECKIN /wc/wc1
>
>   >You haven't
>   >really "lost" anything, because this version is now available in
>   >the version history that is associated with /wc/wc1.
>
>   So the VCR of /foo/bar is still gone (even so the VCR of
>   /foo/bar/foobar.c) but the version-history of it would contain a
>   new version created by the last checkin.
>
>Yes.
>
>   Hmmm. What if the deleted VCR was the last one pointing to this
>   version-history?
>
>The earlier version of the folder /foo (the one visible before the
>CHECKIN of /wc/wc2) will still contain a reference to that version
>history (in its DAV:version-controlled-binding-set property).
>
>   Is there a way of creating a new VCR pointing to a existing
>   VH? Rolling back the delete would be an option too, I think.
>
>Yes, you would just UPDATE /foo to the earlier version (before the
>CHECKIN of /wc/wc2), which would recreate a VCR named /foo/bar, and
>you can then UPDATE /foo/bar to select the version that was created
>by the CHECKIN of /wc/wc1.
>
>Cheers,
>Geoff
>

So there is a reasonable use case for UPDATE finally. ;o)

Thanks,
Daniel

P.S.:
By the way: My experience with the DeltaV Spec is that many people have
problems to actually understand what can be done using DeltaV. In my
oppinion it is mainly a misunderstanding. Most people I talked to to "sell"
DeltaV expect the spec to describe how the can use DeltaV to have some
versioning done. They wish to have more examples, even the not so simple
ones, provided with the spec. (I for myself did to!) Sure it is not the task
of a spec to explain use cases. It would puff up the whole thing. But what
about the Szenarios document that is on the DeltaV Homepage? This would be
the right place for such use cases or best practices. Why isn't this pursued
anymore?


P.P.S:
An answer to Tim: I will eventually put all my "a ha"'s on the FAQ (so I
have an archive for my questions ;o) ). But it will take some time (I have
to find a time slot to do this reasonably).



