docno="lists-007-2459797"
received="Thu Jan 24 05:43:08 2002"
isoreceived="20020124104308"
sent="Thu, 24 Jan 2002 10:41:46 +0000"
isosent="20020124104146"
name="Tim Ellison"
email="Tim_Ellison@uk.ibm.com"
subject="Re: Response marshalling for activity checkin"
id="OF57340563.C5AC1FCB-ON80256B4B.00354178@portsmouth.uk.ibm.com"
charset="us-ascii"
inreplyto="Response marshalling for activity checkin"
expires="-1"

To:ietf-dav-versioning@w3.org


"Roy Seto" <Roy.Seto@oracle.com> wrote:

> How should the response for an activity checkin (as defined by
> 13.11) be marshalled? 
> 
> Should the response code be 201 or 207? Should there be a Location
> header containing the URL for each new version resource created?
> Should the response body be a DAV:multistatus element with a
> DAV:href for each new version resource created?
> 
> Thanks,
> Roy

Well it isn't defined, so I guess it can be whatever you like<g>.
The only requirement is that:
"If a response body is included, it MUST be a DAV:checkin-response
XML element.
    <!ELEMENT checkin-response ANY>"

The method is being applied to a single resource (the activity) with no 
depth implications, so a 207 does not 'feel' right.  I realize that there 
are multiple resources affected, but would expect problems with them to be 
marshalled in the error response element.

So if all is well, return '201 Created'.
I wouldn't return multiple Location: headers.  How would you know which 
checked-out resource led to which location?

If there are checkin failures, you could return something like
409 Conflict

<DAV:checkin-response>
  <DAV:checkin-activity/>
  <DAV:multi-status>
    <DAV:...
  </DAV:multi-status>
</DAV:checkin-response>

Regards,
Tim



