docno="lists-007-2862801"
received="Wed Feb  6 08:06:54 2002"
isoreceived="20020206130654"
sent="Wed, 6 Feb 2002 08:06:20 -0500 "
isosent="20020206130620"
name="Clemm, Geoff"
email="gclemm@rational.com"
subject="RE: Definition of DAV:error and it's use in multistatus..."
id="3906C56A7BD1F54593344C05BD1374B105B81B4A@SUS-MA1IT01"
charset="iso-8859-1"
inreplyto="Definition of DAV:error and it's use in multistatus..."
expires="-1"


To:ietf-dav-versioning@w3.org

The rationale
for putting it in the DAV:responsedescription node
is that the DAV:responsedescription corresponds to
the "body" of a non-multi-status response, and
that is where the DAV:error node appears in a
non-multi-status response.

This does not violate the DTD for DAV:responsedescription,
because a client is required to ignore any node that it
doesn't understand, so it doesn't matter where you put it.

Cheers,
Geoff

-----Original Message-----
From: Peter Raymond [mailto:Peter.Raymond@merant.com]
Sent: Tuesday, February 05, 2002 4:13 PM
To: ietf-dav-versioning@w3.org
Subject: Definition of DAV:error and it's use in multistatus...


Hi, 
Section 1.6 of the DeltaV specification defines how the pre and post
condition XML 
elements should be returned.  It says: 
"the appropriate XML element MUST be returned as the child of a top-level
DAV:error 
element in the response body, unless otherwise negotiated by the request.
In a 207 
Multi-Status response, the DAV:error element would appear in the appropriate

DAV:responsedescription element." 
This is the only definiton of DAV:error, there is no DTD for this element as
far 
as I can tell and no examples of it's use within a multistatus response. 
It would seem to violate the DTD defined in RFC2518 for
DAV:responsedescription. 
Am I correct in thinking that the syntax should be: 
<?xml version="1.0" encoding="utf-8" ?> 
  <D:multistatus xmlns:D="DAV:"> 
    <D:response> 
      <D:href>http://www.merant.com/webdav/ws1/test.html</D:href> 
      <D:status>HTTP/1.1 409 CONFLICT</D:status> 
      <D:responsedescription> 
        <D:error> 
          <D:label-must-exist/> 
        </D:error> 
        Label specified does not exist 
      </D:responsedescription> 
    </D:response> 
  </D:multistatus> 
The human readable text describing the error and the DAV:error element are
children 
of the DAV:responsedescription element.  This seems very odd.  Why not have
the 
DAV:error element as a child of the DAV:response element? 
Regards, 
-- 
Peter Raymond - MERANT 
Principal Architect (PVCS) 
Tel: +44 (0)1727 813362 
Fax: +44 (0)1727 869804 
mailto:Peter.Raymond@merant.com 
WWW: http://www.merant.com 



