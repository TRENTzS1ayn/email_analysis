docno="lists-007-3522790"
received="Tue Mar 12 12:04:41 2002"
isoreceived="20020312170441"
sent="Tue, 12 Mar 2002 18:03:46 +0100"
isosent="20020312170346"
name="Julian Reschke"
email="julian.reschke@greenbytes.de"
subject="RE: Clarifications on DAV:expand-property report"
id="JIEGINCHMLABHJBIGKBCIEDLEDAA.julian.reschke@greenbytes.de"
charset="utf-8"
inreplyto="3906C56A7BD1F54593344C05BD1374B103F8B037&#64;SUS-MA1IT01"
expires="-1"

To:"Clemm, Geoff"<gclemm@rational.com>,"Ietf-Dav-Versioning@W3. Org"<ietf-dav-versioning@w3.org>


> From: ietf-dav-versioning-request@w3.org
> [mailto:ietf-dav-versioning-request@w3.org]On Behalf Of Clemm, Geoff
> Sent: Monday, March 11, 2002 6:36 PM
> To: Ietf-Dav-Versioning@W3. Org
> Subject: RE: Clarifications on DAV:expand-property report
> 
> 
>    From: Julian Reschke [mailto:julian.reschke@greenbytes.de]
> 
>    two questions regarding the DAV:expand-property REPORT [1]:
> 
>    1) Scoping (depth header)
>    According to section 3.6 (definition of REPORT method), the depth
>    header will work just as for PROPFIND (depth 0: only request-URI,
>    depth 1: request-URI + internal members, depth infinity:
>    request-URI + all children)?
> 
> Yes, the report will be run (separately) on each of the resources
> that satisfy the Depth header, and the results will be returned
> in a multistatus response.
> 
>    2) expanding properties that do not contain DAV:href elements
> 
>    Is this an error condition, or should the REPORT just return the
>    non-expanded property value?
> 
> Just return the non-expanded property value.
> 
>    3) expanding non-live properties
> 
>    Is the server required to expand dead properties which contain
>    DAV:href child elements as well?
> 
> The report makes no distinction between live and dead properties,
> so yes, it needs to expand those as well.

OK, assuming I have a dead property like:

<dead-property>
<href xmns='DAV:'>http://foobar.com/xyz</href>
<href xmns='DAV:'>/xyz</href>
<other-markup>sasasas</other-markup>
plain text
</dead-property>

on the resource http://server/abc

How does it expand? Like this?

<dead-property>
<response xmlns="DAV:">
<href>http://foobar.com/xyz</href>
<status>HTTP/1.1 502 Bad Gateway</status>
</response>
<response xmlns="DAV:">
<href>/xyz</href>
<propstat>
....
</propstat>
</response>
<other-markup>sasasas</other-markup>
plain text
</dead-property>



