docno="lists-007-4492387"
received="Sun Jul 28 09:00:13 2002"
isoreceived="20020728130013"
sent="Sun, 28 Jul 2002 08:59:39 -0400"
isosent="20020728125939"
name="Clemm, Geoff"
email="gclemm@rational.com"
subject="RE: Interaction of DAV:auto-version and DAV:checkout-fork"
id="3906C56A7BD1F54593344C05BD1374B107A5CC3C@SUS-MA1IT01"
inreplyto="Interaction of DAV:auto-version and DAV:checkout-fork"
expires="-1"


To:ietf-dav-versioning@w3.org


The only behavior that seems to me to be consistent with the standard
is (a), rejecting the request.  The only way that CHECKOUT can succeed
on a version that has DAV:checkout-fork as DAV:discouraged, and already
has a successor, would be if the CHECKOUT had a DAV:fork-ok argument,
and there is no way for a versioning-unaware client to add a DAV:fork-ok
argument to the auto-checkout.

Cheers,
Geoff

-----Original Message-----
From: Julian Reschke [mailto:julian.reschke@greenbytes.de]
Sent: Sunday, July 28, 2002 4:37 AM
To: ietf-dav-versioning@w3.org
Subject: Interaction of DAV:auto-version and DAV:checkout-fork



Hi,

consider the following scenario:

- "a" is a version controlled resource with some kind of auto-versioning
enabled, for instance DAV:checkout-unlocked-checkin,

- it's DAV:checked-in property refers to a version with a DAV:checkout-fork
property of DAV:discouraged and a non-empty DAV:successor-set property.

Non-versioning aware client attempts to modify the resource.


Possible outcomes:

a) request is rejected (409 with
DAV:checkout-of-version-with-descendant-is-discouraged),

b) request is accepted and the version history will fork.


I think both behaviours are allowed, but which one makes more sense? Right
now, I'm preferring to reject the request (standard operations on a
checked-in resource shouldn't introduce forks into the version history).

Opinions?



