docno="lists-009-12252779"
received="Fri Nov 17 12:20:03 1995"
isoreceived="19951117172003"
sent="Fri, 17 Nov 1995 12:16:59 0800 (PST)"
isosent="19951117201659"
name="Ari Luotonen"
email="luotonen@netscape.com"
subject="Re: keepalives and proxies: a request and a proposal"
id="199511172016.MAA19628@netscape.com"
charset="USASCII"
inreplyto="Pine.BSF.3.91.951117204324.5130D100000&#64;alex.iet.unipi.it"
expires="1"


To: Lorenzo Vicisano<vicisano@iet.unipi.it>
Cc: http-wg mailing list<http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com>


I'm all for addition of Proxy-Connection: keep-alive to the spec; more
specifically:

 - if there are no proxies involved, everything's normal
 - if the client talks to a proxy, it *never* sends a Connection: keep-alive
 - if the client talks to a proxy and wants a persistent connection,
   it will send Proxy-Connection: keep-alive; the proxy can still
   respond with Connection: keep-alive
 - a proxy can now independently support Connection: keep-alive
   between itself and the servers, and itself and the client
 - the proxy will intercept a Connection: keep-alive received from a
   remote, as it is a reaction to the Connection: keep-alive sent by
   itself, and should not be forwarded to the client
 - a proxy will generate a new Connection: keep-alive to the client as
   a response to Proxy-Connection: keep-alive

This way, there is never a case where a client talking to an old proxy
server would fool it to forward the Connection: keep-alive to the
remote, and then the remote would respond with it, but the proxy would
close the connection in between.

Cheers,
--
Ari Luotonenari@netscape.com
Netscape Communications Corp.http://home.netscape.com/people/ari/
501 East Middlefield Road
Mountain View, CA 94043, USANetscape Server Development Team



