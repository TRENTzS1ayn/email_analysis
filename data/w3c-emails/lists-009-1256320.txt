docno="lists-009-1256320"
received="Fri Dec 16 13:47:18 1994"
isoreceived="19941216184718"
sent="Fri, 16 Dec 94 13:28:05 PST"
isosent="19941216212805"
name="Jeffrey Mogul"
email="mogul@pa.dec.com"
subject="Re: HTTP  why not multiple connections?"
id="9412162128.AA12157@acetes.pa.dec.com"
inreplyto="Pine.BSD.3.91.941216125432.25870H100000&#64;get.wired.com"
expires="1"


To: Brian Behlendorf<brian@wired.com>
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

    NetScape themselves provide a solution in the form of WIDTH and
    HEIGHT attributes to the IMG tag - if used everywhere the document
    can be laid out completely before any images retreived.  I'd be
    against having authoring tools or the author themselves put this
    information in, but if we go down the path of having servers "do
    something" to the HTML they serve before sending it to the client
    (a la server-side includes, something we use a lot here) then
    having servers add those attributes to those tags isn't such a bad
    idea (servers can cache these translations anyways).

    I guess the big question is - do we solve this problem in HTML or
    HTTP?  Or both?

Well, I assume you are proposing (hypothetically, anyway) that the 
server rewrite the HTML it's transmitting to add the WIDTH and HEIGHT
attributes.  This means that the server has to not only know how to
parse the image files to discover their bounding boxes (which it would
also have to do with my proposed "GET_BOUNDING_BOXES" method), it has
to know how to rewrite the HTML.

To me, this seems like a lot more effort, since it means
(1) Parsing every HTML file (at least once), even though
many do not contain images.
(2) Rewriting the HTML file on every retrieval (or keeping
a separate cached copy), even though the client may already
have the images cached, and even though the client may not
be able to use the bounding box info.
(2) parsing the entire HTML file, instead of just the
first few bytes of the image files, since the images may
appear anywhere in an HTML file.
(2) getting the parse right.  For example, an HTML file
describing HTML might have the "IMG" token appear as text,
rather than a tag.

I would rather see the clients drive the choice of when to do work
to get the bounding boxes, since the clients know which ones they
need and when.  It also avoids the need for the servers to understand
HTML (unless they implement the GETALL method we played with this
summer).

On the other hand, if Netscape succeeds in selling everyone clients
and servers that understand and generate HEIGHT and WIDTH tags, then
this may all be moot.

-Jeff



