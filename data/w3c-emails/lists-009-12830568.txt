docno="lists-009-12830568"
received="Sat Dec  2 01:12:05 1995"
isoreceived="19951202061205"
sent="Sat, 02 Dec 1995 00:52:13 0800"
isosent="19951202085213"
name="Roy T. Fielding"
email="fielding@avron.ICS.UCI.EDU"
subject="Re: twophase send concerns"
id="9512020052.aa23012@paris.ics.uci.edu"
inreplyto="9511302247.AA00920&#64;ig2.att.att.com"
expires="1"

To: Dave Kristol<dmk@allegra.att.com>
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com


> Several HTTP/1.1 methods (POST, e.g.) propose a two-phase send, first
> headers, then body.  A server can respond with 100 Continue after
> receiving the headers.
> 
> My concern:  I don't think what's described can be implemented.  The
> spec. calls for a five-second timeout.  In the face of a chain of
> proxies, early agents in the chain are likely to timeout and proceed,
> and the body is likely to cross paths with the 100 response.  In fact,
> no one timeout is ever likely to be correct for all circumstances.

It doesn't have to be correct -- it exists as a safety-valve, allowing
almost all servers (even with multiple levels of persistent-connection
proxies) to send back a terminate response before the user agent has 
sent a large portion of the request data.  If it misses, that's okay --
at least it tried.

Perhaps more importantly, it forces the implementor to think about
these issues.


 ...Roy T. Fielding
    Department of Information & Computer Science    (fielding@ics.uci.edu)
    University of California, Irvine, CA 92717-3425    fax:+1(714)824-4056
    http://www.ics.uci.edu/~fielding/



