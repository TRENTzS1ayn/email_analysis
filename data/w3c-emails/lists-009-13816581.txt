docno="lists-009-13816581"
received="Wed Dec 13 20:33:21 1995"
isoreceived="19951214013321"
sent="Wed, 13 Dec 1995 20:29:23 PST"
isosent="19951214042923"
name="Larry Masinter"
email="masinter@parc.xerox.com"
subject="Re: 'PUT' transaction reconsidered (was Re: twophase send concerns )"
id="95Dec13.202931pst.2733@golden.parc.xerox.com"
inreplyto="9512111833.AA14231&#64;acetes.pa.dec.com"
expires="1"

To:mogul@pa.dec.com
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com


> (1) What is the purpose of the validator in this example?  If you
> mean "cache validator", then presumably this is a token that the
> client has obtained from the server which can be used to decide
> if the client's cached version of the file is still valid.  This
> might be useful if we want to ensure that some other client doesn't
> come along midway through this exchange (i.e., between steps 2 and
> 3) and update the same file.  But if we want to make this work,
> then we need to be honest about supporting atomic transactions.

Yes, I wanted this to be a way of telling whether some other client
has already updated the same data. It doesn't give you locking, but
keeps the second user from stepping on the first.

But you're right, the two steps don't do much other than add a RTT and
a little reassurance for early validation. On the other hand, perhaps
many 'first' calls to PUT will fail for authentication errors (the get
is not authenticated but a PUT is) so maybe this *is* a good case to
optimize.



