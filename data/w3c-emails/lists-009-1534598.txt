docno="lists-009-1534598"
received="Sat Dec 17 19:23:39 1994"
isoreceived="19941218002339"
sent="Sat, 17 Dec 1994 19:22:38 0800 (PST)"
isosent="19941218032238"
name="David  Morris"
email="dwm@shell.portal.com"
subject="Re: Connection Header"
id="Pine.SUN.3.90.941217190410.2043B100000@jobe.shell.portal.com"
charset="USASCII"
inreplyto="199412180110.RAA25830&#64;neon.mcom.com"
expires="1"

Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com




On Sat, 17 Dec 1994, Ari Luotonen wrote:

> If I'm not totally lost in space, keep-connection will not even work
> with all TCP implementations.  There is no way to know beforehand that

Well, I must admit I've thought about the problem rather than having 
had to implement, but if the TCP/IP connection can't be kept open then
all kinds of things are eventually going to break .... like simple
TELNET connections into that host.  The CGI scripts should be fixed
if necessary to avoid behaviors which close the connection.  It could
also be possible for a server to be paramatized to refuse keepalive
when certain child processes are invoked. The headers sent with each
response should confirm the intent to continue keeping the connection
open so the server can tell the client when to expect the current
transmission to end the connection.  There is nothing wrong with MGET
that would precluding implementing it that I know of but it will require
more code changes in clients and servers than simply keeping a connection
open.  The connection open can be tuned to serve many documents if
desired and for a proxy/server connection can remain open over a very
long interval if desired potentially handling many requests. (There
are security issues but then caching satisfied by a proxy has the same
problem since cache serving is logically a long proxy/server connection.)

To solve the oldproxy new server problem, a new hack in the server would
provide a workaround by allowing the admin to specify proxys who can't
handle open connections.  The reply would go back as today.

But as has been suggested some real experience to back up the simulations
Simon and Jeff have reported would be helpful.

Dave Morris



