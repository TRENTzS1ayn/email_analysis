docno="lists-009-16023158"
received="Wed Mar  6 20:29:04 1996"
isoreceived="19960307012904"
sent="Wed, 6 Mar 1996 20:25:15 0800 (PST)"
isosent="19960307042515"
name="Alex Hopmann"
email="hopmann@holonet.net"
subject="Re: hallam&#64;w3.org: Netscape Bug or KeepAlive Feature ?"
id="v01530507ad635cce7dab@[206.97.40.52]"
charset="usascii"
inreplyto="hallam&#64;w3.org: Netscape Bug or KeepAlive Feature ?"
expires="1"


To: Bob Denny<rdenny@dc3.com>,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

>Phill wrote:
>> The problem is that netscape is saying it is sending a content length of 36
>> bytes but actually transfering 38. This is a bug IMHO. Whenever a length of
>> 36  is stated it should mean 36.
>
>I agree.
>
>By the way, I encountered this last Fall while working out the keep-alive
>support in WebSite 1.1. My solution was to accept blank lines prior to the
>start of the next HTTP request.
My implementations also accept blank lines before the start of the next request.

However lets be really clear. When you say Content length the data stream
must be exactelly as follows: (Note: I am making each CR and LF explicit.
Ignore line endings, they are just for convenience)

POST / HTTP/1.1
Content-Length: X<CR><LF>
More-Headers: yyyy<CR><LF>
<CR><LF>
<X bytes of data>
GET / HTTP/1.1

etc...
NOTE: The GET is the second request.

The following is non-compliant with every current proposal (Please fix this
for HTTP 1.1 implementations!)

POST / HTTP/1.1
Content-Length: X<CR><LF>
More-Headers: yyyy<CR><LF>
<CR><LF>
<X bytes of data>
<CR><LF>
GET / HTTP/1.1


Alex Hopmann
ResNova Software, Inc.
hopmann@holonet.net



