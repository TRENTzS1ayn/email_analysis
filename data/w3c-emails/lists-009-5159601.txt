docno="lists-009-5159601"
received="Mon Jul 10 16:28:57 1995"
isoreceived="19950710202857"
sent="Mon, 10 Jul 1995 16:24:50 0700"
isosent="19950710232450"
name="Alex Hopmann"
email="hopmann@holonet.net"
subject="Re: HTTP Session Extension draft"
id="199507102324.QAA11699@holonet.net"
charset="usascii"
inreplyto="HTTP Session Extension draft"
expires="1"


To: Daniel DuBois<ddubois@spyglass.com>,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

>CASE 1 -- Have grabbed "initial.html".  Doc has 5 inline images.  User's
>indicated inline images are to be grabbed.  My opinion: Making the next
>request with a persistent connection is definitely a 'good thing'.
Ok, so open the persisitant connection with the initial request and then
request subsequent images with our without that persistant connection. When
there are no more images/other things left to fetch from that server, close
the connection.
>CASE 2 --  Want to grab "initial.html".  Client yet has no clue whether
>document contains inline images.  My opinion: I question whether making a
>persistent connection here is valid, especially if the user has requested
>inline images not to be sent.
Ok, so open the persisitant connection with the initial request and then
request subsequent images with our without that persistant connection. When
there are no more images/other things left to fetch from that server, close
the connection. Note: Same thing.
>CASE 3 -- Want to grab "initial.html".  User doesn't load inline images, but
>client guesses that the user will be so enamored with this document that
>they might want to click on another document from the same server.  My
>opinion: I think the client is out of line holding a connection open on a
>server solely for this reason.  Doesn't an extra connection mean an extra
>process and an extra copy of the server program in memory for many servers?
>What a waste!  Now people who are making legitimate connections with real
>requests get slower performance while the server swaps memory to disk.
>Maybe next rude clients will hold open connections on documents 3 layers
>deep in their history, just on the off chance a user might go back to it and
>start clicking again.
Keep in mind that either the server or the client can close the connections
at any time. So your client might request a persistant connection, and then
realize that it doesnt want any inlined images and close it right away. Or
it might give the user 5-10 seconds to request an image.
As for the case you bring up of a rude client, the server will probably be
monitoring its load. If a server feels that for some reason the connection
has lasted too long, go ahead and close it. So a heavily loaded server might
have a timeout of 5 seconds (Which seems extremely reasonable given that
14.4k users and international users will keep links open for minutes just
downloading a GIF), while a server with plenty of capacity could let a
client keep connections open for a couple minutes on the chance that the
user might select another document on the same server.
Alex Hopmann
ResNova Software, Inc.
hopmann@holonet.net



