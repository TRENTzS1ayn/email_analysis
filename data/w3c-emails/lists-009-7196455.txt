docno="lists-009-7196455"
received="Tue Aug 15 10:33:07 1995"
isoreceived="19950815143307"
sent="Tue, 15 Aug 1995 13:32:00 0400"
isosent="19950815173200"
name="Roy Fielding"
email="fielding@beach.w3.org"
subject="Re: Improving If-ModifiedSince"
id="199508151732.NAA31279@beach.w3.org"
inreplyto="303021A0.2781&#64;mozilla.com"
expires="1"


To: Lou Montulli<montulli@mozilla.com>
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

>The problems currently encountered are mostly caused by the date comparisons
>done by most HTTP servers when dealing with If-modified-since requests.
>Most servers assume that as long as the If-modified-since date is equal to
>or AFTER the current modification date of the document then it is unchanged.

Yes, that is how IMS was designed to work.

>This is a problem because people screw up the dates on their files and
>sometimes give them dates far into the future.  When they fix the
>dates of the files to correspond to the current date, caches never
>get updated.

That's not entirely true.  The users should have control over the cache,
and the server can always choose not to honor IMS if it knows that bad
copies were given out earlier.  In any case, I don't know of any regional
caches that keep non-static documents around for more than a couple days.

>In addition to supporting size=SIZE I encourage other server authors to
>do an _equals_ comparison rather than a greater than or equal comparison
>of the two dates.

Absolutely not -- that would be a violation of both the spec and the
intentions of IMS.  In addition to being a cache mechanism, it allows
a client to request a document "only if it has been changed in the last
fifteen minutes".  In this case, it may not know what the server's
Last-Modified date is prior to the request.

 ....Roy T. Fielding  Department of ICS, University of California, Irvine USA
                      Visiting Scholar, MIT/LCS + World-Wide Web Consortium
                      (fielding@w3.org)                (fielding@ics.uci.edu)



