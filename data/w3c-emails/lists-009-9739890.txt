docno="lists-009-9739890"
received="Wed Aug 30 21:52:06 1995"
isoreceived="19950831015206"
sent="Wed, 30 Aug 95 23:48:59 CDT"
isosent="19950831044859"
name="Daniel LaLiberte"
email="liberte@ncsa.uiuc.edu"
subject="Re: Location Proposals"
id="9508310448.AA00880@void.ncsa.uiuc.edu"
inreplyto="Location Proposals"
expires="1"


To:brian@organic.com,sjk@amazon.com
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

> From: Brian Behlendorf <brian@organic.com>

> On Wed, 30 Aug 1995, Shel Kaphan wrote:
> > Proposals for additional language in the HTTP 1.1 spec.
> > 
> > "If a Location response header is returned with a 2xx response,
> > the location must be on the same server as the request-URI.
> > If a cache or user agent receives a 2xx response containing a Location
> > response header with a location on a different server, it should
> > disregard the Location header."

> This assumes "server" is a contiguous authority - not true, 

I was about to make the same observation, but another area of problems
is that a server might want to return a URI (is this the new name for
Location?) that is a URN for the document.  How is the client supposed
to recognize that the URN is for the same "server"?

The only generally safe thing I can think of doing is that if a
URI is returned to the client, it should always be considered a
redirect, or only allowed in a redirect.  The server ought not return
the very same URI as for the request, to avoid an obvious loop.  But if
it is a different URI, the client ought to be given the chance to find
it in a local cache anyway, so a redirect is reasonable.  

Daniel LaLiberte (liberte@ncsa.uiuc.edu)
National Center for Supercomputing Applications
http://union.ncsa.uiuc.edu/~liberte/



