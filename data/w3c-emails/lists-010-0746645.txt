docno="lists-010-0746645"
received="Wed Mar 27 16:11:20 1996"
isoreceived="19960327211120"
sent="Wed, 27 Mar 1996 15:55:52 0800 (PST)"
isosent="19960327235552"
name="Ned Freed"
email="NED@innosoft.com"
subject="Re: gethostbyname (was Re: (DNS) draft wording for W.G. review. )"
id="01I2U7TNBHZUA8CUIB@INNOSOFT.COM"
charset="USASCII"
inreplyto="Wed, 27 Mar 1996 12:30:12 0800&quot; &lt;9603272030"
expires="1"

To: Paul A Vixie<paul@vix.com>
Cc:"Donald E. Eastlake 3rd"<dee@cybercash.com>,hallam@w3.org,  Anawat Chankhunthod<chankhun@catarina.usc.edu>,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com,iip@tis.com


> gethostbyname() is part of the BSD System Interface and we can't change it
> lightly.  Note that it is very general, pertaining equally well to NIS and
> /etc/hosts as to DNS -- therefore widening it to include authentication or
> TTL information would be irrelevant and possibly incorrect.

This is a real problem that puts software developers between a rock and hard
place. On the one hand, you have to replace gethostbyname because of its
limitations (doesn't return all the info you need, not thread safe on some
systems, etc.). But in turn gethostbyname may provide the only useful means of
accessing some sorts of host data your application needs to see. Some sites
depend on host data kept in non-DNS databases (NIS isn't the only one by any
means).

In a perfect world there would be a single interface provided by the various
OSes that provides thread-safe access to all of the information incorporating
access to local information sources as well as DNS. But quite frankly I have no
idea how to achieve this state of perfection -- I'm skeptical that it's even
possible to get there. The one thing I do know, however, is that neither
coding a replacement for gethostbyname nor sticking with the existing
routine and all its warts are acceptable answers.

Ned



