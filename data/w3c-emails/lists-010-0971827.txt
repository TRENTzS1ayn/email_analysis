docno="lists-010-0971827"
received="Mon Apr  1 03:43:31 1996"
isoreceived="19960401084331"
sent="Sun, 31 Mar 1996 18:40:58 0800 (PST)"
isosent="19960401024058"
name="David W. Morris"
email="dwm@shell.portal.com"
subject="Re: (DNS) consensus wording"
id="Pine.SUN.3.90.960331174539.12657C100000@jobe.shell.portal.com"
charset="USASCII"
inreplyto="199603301318.OAA04386&#64;wsooti04.win.tue.nl"
expires="1"

To: Koen Holtman<koen@win.tue.nl>
Cc:jg@w3.org,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com




On Sat, 30 Mar 1996, Koen Holtman wrote:

[...]
> >and please let me know if you believe there is better wording
> >possible.
> 
> Included below.
> 
> >                                - Jim Gettys
> 
> [....]
> >If clients cache the results of name lookups for performance
> >reasons, HTTP clients MUST observe the TTL (Time To Live) information 
> >reported by the name server.
> 
> Change to:
> 
>  If clients cache the results of name lookups for performance reasons,
>  they are strongly encouraged to get and observe the TTL (Time To
>  Live) information reported by the name server.  If this is not
>  feasible, clients must not cache the results of name lookups for
>  longer than 10 minutes, and must immediately discard a name lookup
>  result if a network error occurs when using the result to initiate a
>  connection.

It is my understanding that MUST and SHOULD are defined terms and
strongly encouraged is not as far as RFCs are concerned. Thus, I
offer the following editorial alternative to Koen's suggestion (which
I endorse):

  If a client caches the result of a DNS lookups, it should observe the
  TTL (Time To Live) reported by the DNS server. If the TTL value is
  not available, the client must not cache the result of a DNS lookup
  for longer than XX minutes. In either case, the client must immediately 
  discard a name lookup result if a network error occurs when using the 
  result to initiate a connection.

Rationale for other changes:
1. I believe this paragraph is about DNS name lookups and should be
   specific
2. We don't care what the motivation is for the caching
3. I'm not sure that 10 minutes is the right number ... my IPSs tell me
   that 24 hours must be allowed for DNS change propigation. Given
   rational expectation for rate of change of the value, I would prefer
   a larger number ... or if we have a DNS expert, perhaps there is
   a DNS defined default TTL for cases where not is specified.
   I can live with the 10 minutes but it was a detail which I felt should
   surface for expert comment.

Dave Morris



