docno="lists-010-1065839"
received="Mon Apr  1 13:14:52 1996"
isoreceived="19960401181452"
sent="Mon, 01 Apr 1996 11:55:46 0800"
isosent="19960401195546"
name="Roy T. Fielding"
email="fielding@avron.ICS.UCI.EDU"
subject="Re: (HOST) (FULLURL) draft of changes for W.G. review."
id="9604011155.aa19958@paris.ics.uci.edu"
inreplyto="9603292310.AA22311&#64;zorch.w3.org"
expires="1"

To:jg@w3.org
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com,klensin@mail1.reston.mci.net


> To Roy's rewrite of 10.22 Host he circulated a while back (which looks pretty
> good to me), I've added a few other sentences in other sections, 
> and drafted a section to the Changes from HTTP/1.0 appendix.
> This also resolves the FULLURL issue, so that we have a transition plan
> to full URL's in some future HTTP version.

Ooops, it looks like you missed the last version (23 Mar) that included the
changes suggested by Lou.  Here is the final section for Host, also including
Paul Hoffman's change (no vanity) with your Note added as well:

========================================================================
10.22  Host

   The Host request-header field specifies the Internet host and port
   number of the resource being requested, as obtained from the original
   URL given by the user or referring resource (generally an http URL,
   as described in Section 3.2.2).  The Host field value must represent
   the network location of the origin server or gateway given by the
   original URL.  This allows the origin server or gateway to
   differentiate between internally-ambiguous URLs, such as the root "/"
   URL of a server for multiple hostnames on a single IP address.

       Host = "Host" ":" host [ ":" port ]    ; see Section 3.2.2

   A "host" without any trailing port information implies the default
   port for the service requested (e.g., "80" for an http URL).  For
   example, a request on the origin server for
   <http://www.w3.org/pub/WWW/> must include:

       GET /pub/WWW/ HTTP/1.1
       Host: www.w3.org

   The Host header field must be included in all HTTP/1.1 request
   messages on the Internet (i.e., on any message corresponding to a
   request for a URL which includes an Internet host address for the
   service being requested).  If the Host field is not already present,
   an HTTP/1.1 proxy must add a Host field to the request message prior
   to forwarding it on the Internet.  All Internet-based HTTP/1.1
   servers must respond with a 400 status code to any HTTP/1.1 request
   message which lacks a Host header field.

      Note: It is extremely important that HTTP/1.1 clients use the Host
      request-header and that HTTP/1.1 servers both accept absoluteURI's
      and report errors if the Host request-header is not received with 
      an HTTP/1.1 request (see Appendix D.1).

========================================================================

 ...Roy T. Fielding
    Department of Information & Computer Science    (fielding@ics.uci.edu)
    University of California, Irvine, CA 92717-3425    fax:+1(714)824-4056
    http://www.ics.uci.edu/~fielding/



