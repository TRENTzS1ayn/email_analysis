docno="lists-010-10691850"
received="Thu Oct 17 14:29:33 1996"
isoreceived="19961017182933"
sent="Thu, 17 Oct 1996 21:28:31 +0100 (BST)"
isosent="19961017202831"
name="Ben Laurie"
email="ben@gonzo.ben.algroup.co.uk"
subject="Re: 13.1.2 Warnings"
id="9610172128.aa14670@gonzo.ben.algroup.co.uk"
charset="USASCII"
inreplyto="9610172047.AA14943&#64;acetes.pa.dec.com"
expires="1"

To: Jeffrey Mogul<mogul@pa.dec.com>
Cc:luotonen@netscape.com,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com


Jeffrey Mogul wrote:
> 
> You've made a convincing case that the existing design for Warning
> can yield bogus Warnings when HTTP/1.0 and HTTP/1.1 caches are
> combined.  (I believe we wrote the HTTP/1.1 caching rules so that
> an HTTP/1.1 cache in the position of your cache "B" would remove
> the Warning after doing a successful validation from cache "A",
> but of course it's too late to apply that to the HTTP/1.0 caches
> out there.)
> 
> So please suggest a solution!
> 
> I can see three options:
> (1) Live with it.  This can only happen when an HTTP/1.0
> cache is a client of an HTTP/1.1 cache, and presumably
> in somewhat unusual cases, so maybe it's a temporary
> problem.

Something you'd have to live with for a long time, I suspect. Not an acceptable
option, IMHO.

> (2) Remove Warning: stale from the protocol, on the grounds
> that it's better to silently give many users stale pages,
> instead of bogusly warning a few users about non-stale pages.
> [I don't consider this option to be a wise choice.]

Agreed.

> (3) Fix the design so that it works with HTTP/1.0 caches.
> Perhaps, for example, this means that one can't send a
> "Warning" to an HTTP/1.0 client (but this would also
> cause a lack of Warning in cases where it would be
> apppropriate).

This would seem the appropriate solution. Not giving a Warning where the client
doesn't understand it would seem a small price to pay.

> 
> One possibility: HTTP/1.1 clients (the only ones that could
> care about a Warning header anyway) should turn a Reload on
> a page with a "Warning: stale" into a "Pragma: no-cache".  That
> would cause a few extra cache misses, but would break the
> infinite loop that you are worried about.

I prefer the idea of leaving the Warning out. I see no gain from forcibly
removing the stale entry from downstream caches.

Cheers,

Ben.

-- 
Ben Laurie                  Phone: +44 (181) 994 6435
Freelance Consultant and    Fax:   +44 (181) 994 6472
Technical Director          Email: ben@algroup.co.uk
A.L. Digital Ltd,           URL: http://www.algroup.co.uk
London, England.            Apache Group member (http://www.apache.org)



