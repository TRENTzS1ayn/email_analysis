docno="lists-010-11111075"
received="Mon Oct 21 10:40:17 1996"
isoreceived="19961021144017"
sent="Mon, 21 Oct 96 10:24:39 MDT"
isosent="19961021162439"
name="Jeffrey Mogul"
email="mogul@pa.dec.com"
subject="Re: Server response version number"
id="9610211724.AA04514@acetes.pa.dec.com"
inreplyto="v03007801ae8f8d52c121&#64;[128.52.39.15]"
expires="1"


To:"John C. Mallery"<jcma@ai.mit.edu>
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com,w3c-http@w3.org

    OK. A bunch of implementors are busy committing to the server
    returning the version of the client.  I just changed my server to
    return the client version.

    I would really appreciate a definitive statement from the WG on
    this matter as I need to release a new version of my server NOW (!)
    and I would prefer not to pollute the world if at all possible.

Here's one definitive statement that, as far as I can tell, nobody
else has made:

A server MUST NOT return a response with an HTTP version
number if the server does not comply with the specification
for that version.  In particular, a server MUST NOT return
a response with a higher version number than the highest
version it supports.  No exceptions, not even for really
stupid people.

Perhaps nobody has said this because it is "obvious", yet we
have heard in the past of implementors who tried to use the
(non-existent) exemption-for-really-stupid-people.

As for whether a server should return
   (a)min(request-version, server's-highest-version)
or just
   (b)server's-highest-version
I don't have a strong opinion.  Perhaps rather than trying
to argue this out using the current Proposed Standard as a
fixed point, we should take a look at the current HTTP/1.1
draft and see whether anything in it would break if we didn't
impose a choice between (a) and (b).  Maybe if we find something
that would break, then one possible option is to treat this
as a bug in the HTTP/1.1 spec, rather than a reason to make
the decision between (a) and (b)?  (Remember, the reason for
the Proposed Standard stage is to find such bugs; the current
words are not carved in stone.)

-Jeff



