docno="lists-010-11171127"
received="Mon Oct 21 16:01:34 1996"
isoreceived="19961021200134"
sent="Mon, 21 Oct 1996 18:52:37 0400"
isosent="19961021225237"
name="Robert S. Thau"
email="rst@ai.mit.edu"
subject="Re: Server response version number"
id="199610212252.SAA16344@skydive"
inreplyto="Server response version number"
expires="1"


To:tromey@creche.cygnus.com
Cc:frystyk@w3.org,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com,jcma@ai.mit.edu,w3c-http@w3.org

  Larry> On a related issue, I'm concerned about the possibility that a
  Larry> single server might 'downgrade' depending on the URL rather
  Larry> than the version of the requestor: I think there are clients
  Larry> that presume the version of subsequent responses based on the
  Larry> version of previous responses.

  I believe such servers are implicitly allowed by the definition of
  "server":

    Likewise, any server may act as an origin server, proxy, gateway, or
    tunnel, switching behavior based on the nature of each request.

  Imagine a proxy server that switches to tunneling behavior when
  proxying for a 1.0 server, but is 1.1 otherwise.

The current Apache 1.2-dev code line actually does something rather
like this, responding with protocol version HTTP/1.1 when functioning
as an origin server, and as HTTP/1.0 when functioning as a proxy.

I can certainly imagine that a single client might want to contact the
same Apache server in both roles (for instance, in an organization
which used the same Apache server as both client and internal
information server, and which configures their clients to contact
internal servers directly, but go through proxies to get to external
ones --- a capability that widely deployed clients do support).

rst



