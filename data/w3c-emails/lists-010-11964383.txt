docno="lists-010-11964383"
received="Thu Nov 21 17:02:12 1996"
isoreceived="19961121220212"
sent="Wed, 20 Nov 1996 16:35:05 0800"
isosent="19961121003505"
name="Roy T. Fielding"
email="fielding@kleber.ICS.UCI.EDU"
subject="Re: Hitmetering: to Proposed Standard?"
id="9611201635.aa15348@paris.ics.uci.edu"
inreplyto="9611202243.AA00164&#64;acetes.pa.dec.com"
expires="1"

To: Jeffrey Mogul<mogul@pa.dec.com>
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com


> However, we believe that, in order for origin servers to be willing
> to using hit-metering instead of cache-busting, that they need to
> have very strong assurances that if a proxy appears to offer to
> hit-meter, then it will in fact do so.  We do not believe that a
> system based on Cache-control can do this, unless it is made mandatory
> for all HTTP/1.1 implementations ... and we did not expect this to
> be politically feasible (or even to be wise).

I haven't seen anything to indicate that the proposal is any stronger
than using a cache-control extension for proxy-revalidate, along with
the Expires now, max-age=N trick which is necessary for proxy-revalidate
to work across HTTP/1.0 caches.  All the negotiating about what will or
will not be reported would then be unnecessary, proxies would not have
to add the proxy-revalidate, and the only resources that are affected
are those that would have otherwise been non-cachable.

> You apparently failed to read the part that says:
> 
>    By definition, an empty Meter header:
> 
>        Meter:
> 
>    is equivalent to "Meter: will-report-and-limit", and so, by the
>    definition of the Connection header (see section 14.10 of the
>    HTTP/1.1 specification [1]), a request that contains
> 
>        Connection: Meter
> 
>    and no explicit Meter header is equivalent to a request that contains
> 
>        Connection: Meter
>        Meter: will-report-and-limit
> 
>    This makes the default case more efficient.

You are right, I didn't see that part.  I also did not notice that Meter was
supposed to be "sticky" throughout the connection, which is a new twist.

>     I do not believe that the proposal is valuable to the Internet
>     community.  In fact, I believe it will cause more harm than good if
>     implemented, and would strongly recommend not implementing it as it
>     currently stands.  On that basis, I oppose it going forward as a
>     Proposed Standard.
> 
> The only "harm" that you described in your message was the sending
> of the 14 extra bytes per connection, based on your (unsupported)
> estimate that most resources would not be hit-metered.  If this is
> the only specific harm that you can point to, maybe we should be
> adopting Paul Leach's proposal for header abbreviations.

The other harm I mentioned is the implicit suggestion that "hit-metering"
should be sanctioned by the IETF.  It should not.  Hit metering is a way for
people who don't understand statistical sampling to bog down all requests
instead of just those few requests needed to get a representative sample.
Whether or not some ISP customers want it does not change the fact that
it is damaging to the community as a whole, and it's a lot better to inform
people on how not to be a "scum sucking pig" than it is to have a proposed
standard on slightly-less piggish ways to be a pig.

....Roy



