docno="lists-010-13183141"
received="Wed Dec 11 13:23:16 1996"
isoreceived="19961211182316"
sent="Wed, 11 Dec 1996 22:14:17 +0100 (MET)"
isosent="19961211211417"
name="Koen Holtman"
email="koen@win.tue.nl"
subject="Re: HTTP 1.1 spec (page 15)"
id="199612112114.WAA19675@wsooti08.win.tue.nl"
charset="USASCII"
inreplyto="9612101754.aa13419&#64;paris.ics.uci.edu"
expires="1"


To:"Roy T. Fielding"<fielding@liege.ICS.UCI.EDU>
Cc:Ulrich.Windl@rz.uni-regensburg.de,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

Roy T. Fielding:
>
>Ulrich Windl <Ulrich.Windl@rz.uni-regensburg.de> writes:
>> I wonder what the specification says about ``\)'' within a comment and
>> about ``\"'' within a quoted-string. To my interpretation of the specs
>> the character will be "quoted" but according to the grammar will
>> terminate the element anyhow.
>
>Hmmm, that's odd -- it was supposed to say
>
>    comment        = "(" *( ctext | quoted-pair | comment ) ")"
>
>    quoted-string  = ( <"> *( qdtext | quoted-pair ) <"> )
>
>I guess that should be put on the errata list.

Gack!  HTTP/1.0 says:

|   A string of text is parsed as a single word if it is quoted using
|   double-quote marks.
|
|       quoted-string  = ( <"> *(qdtext) <"> )
|
|       qdtext         = <any CHAR except <"> and CTLs,
|                        but including LWS>
|
|   Single-character quoting using the backslash ("\") character is not
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 
|   permitted in HTTP/1.0.
    ^^^^^^^^^^^^^^^^^^^^^^

And I guess that most depoyed header parsers conform to this.  You would get
subtle but ugly incompatibility problems if you introduce single-character
quoting in 1.1.  In my opinion, we can only change the parsing of quoted
strings if we also increase the major version number.  The 1.1 grammar is
fine, the text is in error.

>.....Roy

Koen.



