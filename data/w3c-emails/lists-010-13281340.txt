docno="lists-010-13281340"
received="Sat Dec 14 06:44:18 1996"
isoreceived="19961214114418"
sent="Sat, 14 Dec 1996 08:37:22 0600 (CST)"
isosent="19961214143722"
name="Patrick Montelo"
email="pmontelo@spyglass.com"
subject="RE: HTTP/1.1 Contradiction"
id="199612141437.IAA02296@spyglass.com"
charset="usascii"
inreplyto="HTTP/1.1 Contradiction"
expires="1"


To: Daniel DuBois<dan@rafiki.spyglass.com>,paulle@microsoft.com
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

At 04:37 PM 12/13/96 -0800, Daniel DuBois wrote:
>If we can't make that assumption (it sounds like a tenuous one), then we
>should state somewhere in the HTTP/1.1 spec that proxies are *not* allowed
>to remove Transform-Encodings on responses/messages that have a no-transform
>Cache-Control directive.
>
>Are there any other implications of this?

The spec says:

Requests with a version lower than that of the proxy/gateway's version MAY
be upgraded before being forwarded; the proxy/gateway's response to that
request MUST be in the same major version as the request.

How about the following:

1.0 Client - 1.1 Proxy - 1.1 Origin

Client sends request to proxy, proxy forms 1.1 request to origin, origin
starts CGI program, CGI program generates response sans Content-Length,
origin chunkifies entity body, origin sends
chunked/no-transform/digest/whatever response to 1.1 proxy, proxy MUST
remove the chunking before sending it to the 1.0 client.

Pat



