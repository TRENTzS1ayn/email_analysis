docno="lists-010-1589486"
received="Fri Apr  5 07:40:40 1996"
isoreceived="19960405124040"
sent="Fri, 5 Apr 1996 10:33:52 +0000"
isosent="19960405103352"
name="Tim Greenwood"
email="greenwood@openmarket.com"
subject="Re: (ACCEPT*) Last call on draft text for Accept headers"
id="199604051537.KAA24992@relay.openmarket.com"
inreplyto="(ACCEPT*) Last call on draft text for Accept headers"
expires="1"


To:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com,  Koen Holtman<koen@win.tue.nl>
Cc:greenwd@openmarket.com

I propose a minor change to the text in 10.4 and question the multiple definitions
of matching.

rom 10.4
> |  A language-range matches a language-tag if it exactly equals the tag,
> |  or if it is a prefix of the tag such that the first tag character
> |  following the prefix is "-".  

Section 3.10 defines a language-tag as

        language-tag  = primary-tag *( "-" subtag )

        primary-tag   = 1*8ALPHA
        subtag        = 1*8ALPHA

It is preferable to reword the above section in 10.4  to

"A language-range matches a language-tag if it exactly equals the
tag,  or if it equals the primary-tag (see 3.10)"

-------

The rules for matching language-range with language-tag are currently 
addressed in three sections of HTTP 1.1 - and they are not the same. 

Section 3.10 
"A server should consider that it has a match when a language tag
received in an Accept-Language header matches the initial portion of
the language tag of a document. An exact match should be preferred."

Section 10.4 - as above

Section 12.1
"ql Language quality is measured by comparing the variant's assigned
language tag(s) (Section 3.10) to those listed in the request
     message's Accept-Language field. If no variant has an assigned
     Content-Language, or if no Accept-Language field is present, the
     value assigned is "ql=1". If at least one variant has an assigned
     content language, but the one currently under consideration does
     not, then it should be assigned the value "ql=0.5". If any of the
     variant's content languages are listed in the Accept-Language
     field, then the value assigned is the maximum of the "q"
     parameter values for those language tags (Section 10.4); if there
     was no exact match and at least one of the Accept-Language field
     values is a complete subtag prefix of the content language
     tag(s), then the "q" parameter value of the largest matching
     prefix is used. If none of the variant's content language tags or
     tag prefixes are listed in the provided Accept-Language field,
     then the value assigned is "ql=0.001".  "


The rules should be defined in one section only.


-------------------------------------
Tim Greenwood        Open Market Inc
617 679 0320         greenwd@openmarket.com



