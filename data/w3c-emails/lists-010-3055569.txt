docno="lists-010-3055569"
received="Thu Apr 25 01:25:17 1996"
isoreceived="19960425052517"
sent="Thu, 25 Apr 1996 10:21:11 +0200 (MET DST)"
isosent="19960425082111"
name="Koen Holtman"
email="koen@win.tue.nl"
subject="Re: Twophase sends"
id="199604250821.IAA13062@wsooti20.win.tue.nl"
charset="USASCII"
inreplyto="9604250136.AA08013&#64;zorch.w3.org"
expires="1"


To:jg@w3.org
Cc:koen@win.tue.nl,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com,masinter@parc.xerox.com

jg@w3.org:
[...]
>That section (entity transmission requirements) needs careful
>redrafting before I consider that issue closed.  Note it is marked
>Slushy.

A careful redrafting of 8.4.1 will only address one (problem b.3) of
my five problems.

The main theme of my message was: I want two-phase sends *to be
removed completely* from 1.1.  I want http/1.0 style one-phase posts.
This means throwing out 8.4.1 completely.

I include again my objections to the inclusion of two-phase below.

Please add this issue to the agenda of the upcoming phone conference.

Koen.

--snip---

I see that the Monday internet draft still includes two-phase POSTS
and PUTS.  I strongly object to this 
 a) on procedural grounds
 b) on technical grounds.

Ad a:

a.1) The issues list says:

Two Phase methods: 
         JM Section 8.4 POST
         Two-phase POST removed
         ^^^^^^^^^^^^^^^^^^^^^^
         Mogul has writeup of result of discussion?
         Status: need writeup, WG review 

and I clearly remember that we indeed conclude that two-phase methods
should not be in 1.1 at the end of the two-phase wars some months ago.

a.2) Also, the 02 draft says:

      POST requests must obey the entity transmission requirements set
      out in section 8.4.1 [which talks about two-phase].

While the 01/00 drafts said:

   HTTP/1.1 allows for a two-phase process to occur in accepting and 
   processing a POST request. If the media type of the posted entity 
   is not "application/x-www-form-urlencoded" [5], an HTTP/1.1 client 
   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  
   must pause between sending [....]

This considerable change was not discussed.


Ad b:

b.1) Two-phase saves bandwidth sometimes, at the cost of speed
(round-trips) for each POST request, no matter how small.  I have seen
no statistics that this tradeoff improves current conditions, while I
suspect that it does not in many cases. Two-phase thus adds complexity
without having established the need for this.  If we have it, it
should at least be optional for small POST requests.

b.2) The new requirement that two-phase is also used for normal POSTS
of small forms means degradation of performance for many existing
forms applications when upgraded to 1.1.  It may also decrease my
chance of making a successful POST transaction (with a busy search
engine) if the backbone is dropping a significant number of packets.

b.3) Finally, the MUST/SHOULD text about two-phase does not take
proxies, especially 1.0 proxies, into account.

If I am to agree with two-phase staying in, I would require all points
above to be convincingly addressed.



