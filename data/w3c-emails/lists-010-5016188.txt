docno="lists-010-5016188"
received="Thu Jul 11 17:16:59 1996"
isoreceived="19960711211659"
sent="Thu, 11 Jul 96 17:06:06 MDT"
isosent="19960711230606"
name="Jeffrey Mogul"
email="mogul@pa.dec.com"
subject="Re: multihost virtual sites for HTTP 1.2"
id="9607120006.AA16426@acetes.pa.dec.com"
inreplyto="199607110153.AA021920037&#64;merle.acns.nwu.edu"
expires="1"


To: Albert Lunde<Albert-Lunde@nwu.edu>
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

    But it does have one property I like: I'd say rather than just say
    "choose the referal info with the best cost metric" I'd like
    to say that clients should choose in a quasi-random way among
    options with an equal cost metric.  (What they do in the case
    of unequal costs needs to be refined further to define what
    this would mean.)

I agree; we should include an explicit recommendation to
randomly choose between equal-metric referrals.  But we
need to think a bit harder about whether this choice should
be made per-request or "per session", however one defines
that.  I suspect that if clients do it per-request, this 
will play havoc with caches and with updates.

But I would also expect servers to offer referral-lists that
include referrals of quite different metrics.  This would
be used to tell a client, for example, to use the "nearest"
site as long as it was up, but to fail over to a more distant
site if the preferred one became unreachable.  It's not
inconceivable that a server could offer different referral-lists
to different clients, depending on each client's location in the
Internet topology.

-Jeff



