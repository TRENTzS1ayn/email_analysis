docno="lists-010-6211148"
received="Wed Aug  7 14:10:37 1996"
isoreceived="19960807181037"
sent="Wed, 7 Aug 1996 14:02:48 0700"
isosent="19960807210248"
name="Paul Leach"
email="paulle@microsoft.com"
subject="RE: Sitcky headers and pipelining (was: Sticky header draft &ndash;&ndash; as an attachment)"
id="c=US%a=_%p=msft%l=RED-77-MSG-960807210248Z7870@tide19.microsoft.com"
inreplyto="Sitcky headers and pipelining (was: Sticky header draft &ndash;&ndash; as an attachment)"
expires="1"


To: 'Jeffrey Mogul'<mogul@pa.dec.com>
Cc:"'http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com'"<http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com>



>----------
>From: Jeffrey Mogul[SMTP:mogul@pa.dec.com]
>Subject: Re: Sitcky headers and pipelining (was: Sticky header draft -- as
>an attachment) 
>
>In particular, if you agree with me that the existing sticky-header
>proposal has the race condition that I believe it has, it would be
>possible to eliminate it either by requiring a client to wait before
>pipelining, or to use the three-way handshake that I described.  But
>because of the extra RTT delay the former option imposes on pipelining,
>it seems preferrable to avoid it if possible.

I agree that it has a race condition (but I beleive your example
purporting to show it had a bug).

I think the simplest fix is to require a client that wants to pipeline
and use sticky headers to wait to start taking advantage of sticky
headers until it has seen a response from the server agreeing to use
sticky headers. I think this extra RTT wait is OK because I think the
occaisions where the client has any idea of what to fetch in a pipelined
manner when the connection is first opened are rare -- typically, it
needs to get the first HTML resource before it knows which GIFs to fetch
(in a pipelined manner).



