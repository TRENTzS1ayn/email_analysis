docno="lists-011-12655585"
received="Wed Dec 10 05:33:50 1997"
isoreceived="19971210103350"
sent="Wed, 10 Dec 1997 08:48:48 0500"
isosent="19971210134848"
name="Dave Kristol"
email="dmk@belllabs.com"
subject="Re: Proposal for new HTTP 1.1 authentication scheme"
id="348E9DC0.82595DB@belllabs.com"
charset="usascii"
inreplyto="Pine.LNX.3.95.971209215621.4175A100000&#64;hopf.math.nwu.edu"
expires="1"


To: John Franks<john@math.nwu.edu>
Cc: Paul Leach<paulle@microsoft.com>, Jim Gettys<jg@pa.dec.com>,  Eric_Houston/CAM/Lotus@lotus.com, Scott Lawrence<lawrence@agranat.com>,fielding@kiwi.ics.uci.edu,http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com

John Franks wrote:
> [...]
> In any case, it seems the Content-length of an entity is the length
> before any chunking.  Thus if a proxy removes chunking and adds a
> Contact-Length header that should not introduce any errors in
> entity-digest calculation.
> 
> Am I missing something?

I think I see where I've gone wrong, sort of.  The definition of
entity-digest calls for including the content length but not necessarily
the Content-length (although that's how it's described).  So it sounds
like the sender would have to know the full length of the entity being
sent before sending it and include that value.  Whether the entity got
sent chunked or not would not matter (although I think it would be
perverse to know the entity length and send the entity with chunked).

Notwithstanding John Frank's new message about "What is Content-Length",
I don't want to invoke some kind of apocalyptic revision of the spec.
and what Content-length means.  I think I can live with this part of the
authentication document, assuming the addition of a "this is not a date"
Date header.

Dave Kristol



