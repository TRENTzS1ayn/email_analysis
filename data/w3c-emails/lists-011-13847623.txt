docno="lists-011-13847623"
received="Wed Dec 17 13:16:29 1997"
isoreceived="19971217181629"
sent="Wed, 17 Dec 1997 12:59:34 0800"
isosent="19971217205934"
name="Roy T. Fielding"
email="fielding@kiwi.ics.uci.edu"
subject="Re: What is ContentLength?"
id="9712171301.aa18111@paris.ics.uci.edu"
inreplyto="34981D48.CBAA347&#64;parc.xerox.com"
expires="1"

To: Larry Masinter<masinter@parc.xerox.com>
Cc:http-wg%cuckoo.hpl.hp.com@hplb.hpl.hp.com


>* chunked is only allowed once, as the last transfer encoding
>  applied.

okay by me

>* before chunked is applied, only one T-E should be sent,
>  but recipients should accept all combinations (as long as
>  there are no duplicates).

No, that's unnecessarily restrictive.

>* no T-E's other than 'chunked' may be applied to multipart/
>  content-types, but T-Es are allowed within a multipart type
>  (e.g., multipart/byte-ranges, multipart/form-data).

No, that would violate the whole model.  multipart types are payload
in HTTP.  Furthermore, MIME does not allow T-Es within body-parts,
only C-T-Es.

>The entire transmission is required to be either with content-length
>or else self-delimited where multipart is the only self-delimited
>media type, but chunked, gzip are self-delimited T-Es.

That would be a new requirement.  Non-delimited response bodies are
still allowed in HTTP/1.1.  I do agree that if a non-delimited T-E
is used, chunked should be required on top.

....Roy



