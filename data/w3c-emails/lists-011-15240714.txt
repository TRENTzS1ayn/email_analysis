docno="lists-011-15240714"
received="Sat Jan 17 19:02:01 1998"
isoreceived="19980118000201"
sent="Sun, 18 Jan 1998 03:34:57 +0100"
isosent="19980118023457"
name="Jacob Palme"
email="jpalme@dsv.su.se"
subject="Re: Some suggested changes to the HTTP draft"
id="v03110701b0e7198d0cbd@[130.237.150.138]"
charset="usascii"
inreplyto="Pine.LNX.3.96.980117081802.6507B100000&#64;hopf.math.nwu.edu"
expires="1"


To: John Franks<john@math.nwu.edu>
Cc:http-wg@cuckoo.hpl.hp.com, Jim Gettys<jg@pa.dec.com>,  Nick Shelness<shelness@lotus.com>,  IETF working group on HTML in e-mail<mhtml@segate.sunet.se>

At 08.27 -0600 98-01-17, John Franks wrote:
> On Sat, 17 Jan 1998, Jacob Palme wrote:
>
> >
> > I suggest this is changed to:
> >
> >    If a cache receives a successful response where the Content-Location
> >    field in the *outermost* HTTP heading matches that of an existing cache
> >    entry for the same Request-URI, and whose entity-tag differs from that
> >    of the existing entry, and whose Date is more recent than that of the
> >    existing entry, the existing entry SHOULD NOT be returned in response
> >    to future requests and should be deleted from the cache.
> >
> > Reason: I think this is what you really mean. To use Content-Locations
> > in headings inside MIME Multipart objects for cache matching can be
> > dangerous.
>
> With a couple of minor well specified exceptions HTTP does not deal
> with Multipart objects as multipart, but as a single object.  There
> are no outer vs inner headers; only one set of headers.  What you
> might call inner headers are just part of the data to HTTP. The
> content of a MIME Multipart object is no different than the content of
> a binary file to HTTP.  An HTTP cache should be no more likely to use
> a heading inside a MIME Multipart object than to use a string inside
> an object of type application/octet-stream.

We both agree that Content-Location should not be used for caching
except when in the outermost header. But since Content-Location
(the way the MHTML group uses it) can often appear inside multiparts,
I thought there was a need to specify in the HTTP spec that the HTTP
use of Content-Location to control caching only is valid for the
outermost heading.

One might also say that it only is valid for HTTP headings. The headings
inside a multipart are MIME content-headings, not HTTP headings (except
in the special case of Content-Type: message/http). I am not sure if
you make this distinction in the HTTP spec between HTTP headings and
MIME headings.

------------------------------------------------------------------------
Jacob Palme <jpalme@dsv.su.se> (Stockholm University and KTH)
for more info see URL: http://www.dsv.su.se/~jpalme



