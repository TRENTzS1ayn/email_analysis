docno="lists-011-16248332"
received="Thu Jan 29 13:18:27 1998"
isoreceived="19980129181827"
sent="Fri, 30 Jan 1998 10:09:19 +1200"
isosent="19980129220919"
name="Adrien de Croy"
email="adrien@qbik.com"
subject="Re: HTTP/1.1 : Chunking"
id="2.2.32.19980129220919.00f954d8@192.168.0.1"
charset="usascii"
inreplyto="HTTP/1.1 : Chunking"
expires="1"


To: Ben Laurie<ben@algroup.co.uk>
Cc:http-wg@cuckoo.hpl.hp.com

Hi

At 18:21 29/01/98 +0000, Ben Laurie wrote:
>Adrien de Croy wrote:
>> A proposal for the end tag could be say a 4 byte magic number. So there
>> would be a 1 in 4 billion chance of there being a natural conflict caused by
>> a premature close on the connection with the last 4 bytes of the last packet
>> being the magic number.  If this were thought too risky, simply increasing
>> the length would serve to render this event less likely.
>
>That's a pretty dodgy bit of maths. What you mean is that for any
>particular 4-byte sequence there's a 1 in 4 billion chance, so in 1 MB
>of data, the probability is (roughly) 1 in 4000. Or, over a 64 kb/s link
>at full capacity, about one mistake a week.
>

I would have thought that in a random data stream, the chances of any
particular 4 byte sequence would have been 1 in 4 Billion, but we are only
looking at the last 4 bytes before a close.  So, given there is only one
close per session, there is only one inspected 4 byte sequence, hence the
chance of any one file causing confusion over an OEF marker is 1 in 4 billion.

However, as pointed out by John Franks, this method would not, and cannot
allow for multiple transactions per connection, since it relies on the close
event being a signal as well.

However, reflecting more on that issue, the chances of a client requiring
multiple created entitities (i.e those where the server cannot know a priori
the size) in a single connection is rather low, at least at the moment.
Multiple normal requests per connection would still be possible, and
unaffected by this proposal.  


>Cheers,
>
>Ben.
>
>-- 
>Ben Laurie            |Phone: +44 (181) 735 0686|Apache Group member
>Freelance Consultant  |Fax:   +44 (181) 735 0689|http://www.apache.org
>and Technical Director|Email: ben@algroup.co.uk |Apache-SSL author
>A.L. Digital Ltd,     |http://www.algroup.co.uk/Apache-SSL
>London, England.      |"Apache: TDG" http://www.ora.com/catalog/apache
>
----------------------------------------------------------------------------
------
Adrien de Croy - adrien@qbik.com.  Qbik New Zealand Limited, Auckland, New
Zealand
                 See our pages and learn about WinGate at http://www.qbik.com/
----------------------------------------------------------------------------
------



