docno="lists-011-16406920"
received="Sat Jan 31 17:33:05 1998"
isoreceived="19980131223305"
sent="Sat, 31 Jan 1998 17:24:00 0800"
isosent="19980201012400"
name="Roy T. Fielding"
email="fielding@kiwi.ics.uci.edu"
subject="Re: Issue: casesensitive date format"
id="9801311726.aa23270@paris.ics.uci.edu"
inreplyto="9801302148.AA09386&#64;acetes.pa.dec.com"
expires="1"

To: Jeffrey Mogul<mogul@pa.dec.com>
Cc:http-wg@cuckoo.hpl.hp.com


>I would phrase it as:
>       HTTP-date is case sensitive and does not allow additional LWS
>       beyond that specifically included as SP in the grammar.
>       HTTP/1.1 implementations that generate HTTP-date values MUST use
>       the correct case and LWS.  However, HTTP/1.1 clients and servers
>       that parse HTTP-date value SHOULD accept values with extra LWS
>       and without regard to case.

I'd rather not phrase it that way, since I don't want a protocol
requirement that suggests we should treat invalid date formats as
somehow valid.  I have no problem with systems trying to read the
field as robustly as possible, but that isn't a protocol requirement.

Right now we consider those formats to be invalid, and thus ignore
them when processing the If-Modified-Since field (i.e., the response
is 200 if the date is invalid).  This is fine for an origin server,
since it results in faster conversion and failure is safe.  I'd expect
a robust client to do better.

In any case, we always ignore the weekday.

>By the way, I found a few other date-related oddities in HTTP
>headers:
>Satday, 30-Nov-96 19:59:25 GMT
>miercoles, 14-ago-96 08:20:33 GMT
>viernes, 06-dic-96 00:38:02 GMT

Yep, that tends to be caused by a date formatter that uses one of
the standard libraries affected by the locale setting.

....Roy



