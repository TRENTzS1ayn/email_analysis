docno="lists-011-1813507"
received="Tue Apr 15 13:51:58 1997"
isoreceived="19970415175158"
sent="Tue, 15 Apr 1997 16:45:18 0400"
isosent="19970415204518"
name="Dave Kristol"
email="dmk@belllabs.com"
subject="Re: midcourse errors"
id="3353E8DE.41C67EA6@belllabs.com"
charset="usascii"
inreplyto="9704151830.AA14792&#64;acetes.pa.dec.com"
expires="1"


To: Jeffrey Mogul<mogul@pa.dec.com>
Cc:http-wg@cuckoo.hpl.hp.com

Jeffrey Mogul wrote:
> [...]
> In the case of a server sending a chunked response intending to
> put the content-length in the footer (which is allowed by
> section 3.6 of RFC2068 (Transfer Codings)), it seems reasonable
> that the server could signal an error by sending a completely
> bogus Content-length.  E.g., if you have sent 4096 content bytes
> before recognizing the error, send a chunk footer with
>         Content-length: 1000000000000
> and the recipient should know that something is wrong.  In some
> cases, the server might have to pad the chunk past the point
> where the error occurred.

I looked at the wording in 3.6, which, after translating double negatives,
says that applications can only send header fields in the footer if the
header field is explicitly allowed for that purpose.  I probably didn't look
in the right place for it, but I saw no such words in 14.16 Content-MD5
(mentioned in 3.6), though I'm sure the intent was there to use it that way.
However, I seem to recall discussions about Content-Length as a chunked
footer, and I seem to recall it was considered a bad idea.  Presumably if it
were present, it should be ignored, since the chunking overrides it.  That's
a long-winded way of saying I don't think your idea will work to signal a
failure in the chunked case.

Dave Kristol



