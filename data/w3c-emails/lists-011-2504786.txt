docno="lists-011-2504786"
received="Tue Apr 22 12:22:01 1997"
isoreceived="19970422162201"
sent="Tue, 22 Apr 1997 12:16:03 0700 (PDT)"
isosent="19970422191603"
name="Benjamin Franz"
email="snowhare@netimages.com"
subject="Re: Pipelining and compression effect on HTTP/1.1 proxies"
id="Pine.LNX.3.95.970422114701.2048A100000@ns.viet.net"
charset="USASCII"
inreplyto="199704221821.UAA03635&#64;wsooti08.win.tue.nl"
expires="1"

To:http-wg@cuckoo.hpl.hp.com


On Tue, 22 Apr 1997, Koen Holtman wrote:

> Luigi Rizzo:
> [...]
> >I have done a quick test on the content of our proxy cache: for each
> >directory, I have compared the output of
> [...]
> >with a saving, due to compression, of approximately 13% .
> 
> The 13% may be too pessimistic.
> 
> Another data point: about 2 years ago, I measured the amount of text/*
> data in the HTTP traffic between our campus proxy cache and outside
> servers, this turned out to be 30%.  As text/* data generally
> compresses with a factor of 75%, compression would lead to savings of
> 30%*0.75 = 23% for total off-campus traffic.

75% is only for typical for large chunks of text/*. For small chunks (such
as most web pages) compression is closer to 60%. I just compressed our
home page as a test: uncompressed: 5208 bytes. compressed: 2216 bytes for
a compression of 57.5%. 30% * 57.5% = 17%. And your 30% figure for the
fraction of text/* is probably too high - the net has become much more
graphical in the last two years.

My figures on www.xmission.com (a large server with many different
commercial and non-commercial residents) from a sample of 27 gigabytes of
recent measured traffic indicates that only about 13% of the traffic is
text/*.  This slashes the potential savings to a mere 13% x 57.5% = 7.5%
from compressing the text/* files. And this overlooks the fact that the
majority of people browsing are doing so over modem links that *already*
perform pretty good on the fly compression of the data flowing through
them - thus reducing the potential savings to the end user from
pre-compressing text/* to negligible.

-- 
Benjamin Franz



