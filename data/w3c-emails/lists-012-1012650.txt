docno="lists-012-1012650"
received="Tue Mar 17 03:07:32 1998"
isoreceived="19980317080732"
sent="Mon, 16 Mar 1998 20:52:56 GMT"
isosent="19980316205256"
name="Rohit Khare"
email="rohit@bordeaux.ics.uci.edu"
subject="Re: Upgrading to TLS Within HTTP"
id="9803161227.aa05673@paris.ics.uci.edu"
inreplyto="v0311073db1333146d402&#64;[157.22.240.64]"
expires="1"

To: Tim Dierks<timd@consensus.com>
Cc:http-wg@cuckoo.hpl.hp.com


Mea culpa --

Section 13.5.1 clearly indicates that Upgrade is a hop-by-hop header.
And that's a pretty embarassing oversight in my proposal. 

In fact, the behavior *is* hop-by-hop, since intervening proxies have
to convert to tunnels upon receiving a "101 Switching to TLS"
response. Deploying this solution requires updated support in the
entire chain, even if it's as minor as:

"Proxies which support TLS-tunneling MUST relay any TLS/x.y
Upgrade request onward in its subsequent request"

In other words, unlike other Upgrade tokens that might be defined, this 
one requires you to pass along the request in all cases. 

I have updated the online version of that paper accordingly
     http://www.ics.uci.edu/~rohit/http-tls
Changes are in red; note also that the new error code 418, Upgrade Required,
is a general-purpose HTTP response.

Rohit

(This discussion concerns HTTP, so that's the one list replies are directed to)



