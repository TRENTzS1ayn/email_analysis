docno="lists-012-10619560"
received="Wed Jun 30 02:32:15 1999"
isoreceived="19990630063215"
sent="Tue, 29 Jun 1999 21:29:18 0400 (EDT)"
isosent="19990630012918"
name="Robert S. Thau"
email="rst@ai.mit.edu"
subject="Re: Upgrading to TLS Within HTTP/1.1 draft available"
id="199906300129.VAA14678@beetchex.ai.mit.edu"
inreplyto="37791E77.14DD4DB7&#64;algroup.co.uk"
expires="1"


To: Ben Laurie<ben@algroup.co.uk>
Cc: John Stracke<francis@ecal.com>,"Http-Wg@Hplb. Hpl. Hp. Com"<http-wg@hplb.hpl.hp.com>

Ben Laurie writes:
 > It is possible, but not particularly efficient or portable. ISTR one of
 > the very first things Apache did was to get rid of that nonsense.

More precisely, Apache chose not to adopt it.  NCSA 1.4 used an
fd-passing scheme in order to handle accepts on its persistent child
processes; the parent server accepted connections, and then fd-passed
them to the children.  When we were trying to figure out what to do
about producing a non-fork-per-request version of Apache, Rob Hartill
did some experiments which pretty quickly showed that a simpler
approach could yield results at least as good.  

If you really need fd-passing behavior, there's sample code in one of
Stevens' books ("Advanced Programming in the Unix Environment"), but
it's messy; IIRC, there are multiple variants to deal with the
variety of interfaces in different Unix variants.  

rst



