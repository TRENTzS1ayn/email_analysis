docno="lists-012-13528378"
received="Thu Apr 20 00:41:55 2000"
isoreceived="20000420044155"
sent="Wed, 19 Apr 2000 16:40:35 0700"
isosent="20000419234035"
name="Jeffrey Mogul"
email="mogul@pa.dec.com"
subject="Re: Question for HTTP/1.1 cache implementors (both proxy &amp; client caches)"
id="200004192340.QAA07561@wera.pa.dec.com"
inreplyto="200004191602.aa19350&#64;gremlinrelay.ics.uci.edu"
expires="1"


To:http-wg@hplb.hpl.hp.com

"Roy T. Fielding" <fielding@kiwi.ICS.UCI.EDU> writes:
Message-Id:  <200004191602.aa19350@gremlin-relay.ics.uci.edu>

    >   The max-age directive on a response implies that the
    >   response is cacheable (i.e., "public") unless some other, more
    >   restrictive cache directive is also present.  If a more
    >   restrictive cache directive (such as "no-cache" or "no-store")
    >   is present, the cache MUST ignore the max-age directive;
    >   this supports extensibility using the mechanism described
    >   in section 14.9.6.
    
    Wouldn't that become a contradiction with the extension scheme?
    In other words, that requirement along with your example of
    
Cache-Control: no-store, community="UCI", max-age=30

    would require that the recipient ignore max-age even if it did
    understand the community extension.  I think that is why we decided
    to use relative constraints rather than absolute constraints in the
    language above.

No contradiction, because 14.9.6 says:

Both the new
   directive and the standard directive are supplied, such that
   applications which do not understand the new directive will default
   to the behavior specified by the standard directive, and those that
   understand the new directive will recognize it as modifying the
   requirements associated with the standard directive.

The key phrase here is that the new directive ("community", in
this example) "[modifies] the requirements associated with the
standard directive."  Presumably, the "modification" needs to
be part of the specification for each extension.

I.e., the specification for "community" could include,
hypothetically, "an implementation that complies with the
specification for the community directive SHOULD ignore the
no-store directive if it appears together with the community
directive."  Which means that the no-store directive, being
ignored, would not take precedence over the max-age directive
for "community-aware" implementations.

-Jeff



