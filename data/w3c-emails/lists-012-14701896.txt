docno="lists-012-14701896"
received="Thu Sep  7 05:40:00 2000"
isoreceived="20000907094000"
sent="Wed, 06 Sep 2000 23:39:54 0500"
isosent="20000907043954"
name="Joseph Link"
email="joelink@joelink.net"
subject="Content-Encoding: gzip AND Content-Type: application/xjavascript"
id="4.3.2.7.2.20000906233252.00b80d08@192.168.0.1"
charset="usascii"
expires="1"


To:http-wg@cuckoo.hpl.hp.com

Hello all...

I have run into a problem with Netscape 4.x and some earlier versions of IE...

The following is the server info being generated by me

telnet www1 8050
Trying 208............
Connected to www1.......
Escape character is '^]'.
GET /...... HTTP/1.0
Accept-Encoding: gzip

HTTP/1.1 200 OK
Date: Thu, 07 Sep 2000 03:09:40 GMT
Server: Apache/1.3.12 (Unix) PHP/4.0.2 mod_ssl/2.6.4 OpenSSL/0.9.5a
X-Powered-By: PHP/4.0.2
Expires: Fri, 08 Sep 2000 03:09:43 GMT
Content-Encoding: gzip
Connection: close
Content-Type: application/x-javascript


When I use Netscape to retrieve this same file, I get errors about 
unrecognized characters in javascript... it isnt decoding the gzip and the 
js interpreter is decoding binary.

However, if I remove the Content-Type: application/x-javascript header, 
netscape does decode the gzip and display the file.  In order for me to use 
this as a SRCed js file I NEED the Content-Type: application/x-javascript 
header.

Is there a header that is missing?? Does anyone know a workaround?? 
Essentially, i need to be able to send a gzip encoded javascript file and 
have it interpretted.. This does work fine with IE 5. Is it just another 
example of NS 4 blatant disregard for standards?? Or am I reading the 
standard wrong and encodings of types other than html are not allowed?

Thank you
Joe

*******************************************************************

FYI.... Please begin using my new email address
joelink@joelink.net

joelink@niu.edu will be phased out by Jan 1st 2001

Thank you

*******************************************************************



