docno="lists-012-15815243"
received="Fri Dec  1 15:01:20 2000"
isoreceived="20001201200120"
sent="Fri, 01 Dec 2000 10:04:16 0500"
isosent="20001201150416"
name="John Stracke"
email="francis@ecal.com"
subject="Re: Http overhead"
id="3A27BDF0.3A726626@ecal.com"
charset="usascii"
inreplyto="001501c05ba3$28a32030$01ff1fac&#64;Thuis.local"
expires="1"


To:"WWW WG (E-mail)"<http-wg@cuckoo.hpl.hp.com>

Joris Dobbelsteen wrote:

> Many apache servers send data chunked. Takes a couple bytes (average of
> 4) for every block transfered. Maybe a total overhead of an additional
> 20-40 bytes per transfer (maybe less). This is just a guess...

Yes, but it's actually better than that: AFAIK, Apache uses chunked
transfer-encoding only for dynamic resources, where it can't predict the
content-length.  The alternative would be (a) buffer the output before
sending it down, or (b) defeat persistent connections.  Either (a) or (b)
would increase; (b) would actually cost extra bandwidth, and (a) would
cause bandwidth consumption to come in spikes.  So, most likely, the cost
of chunking is lower than the cost of not chunking; it's certainly lower
than the nominal overhead of the encoding.

(Sorry to those to whom this is obvious--probably including Joris--but I
didn't want to leave anybody thinking they could save bandwidth by turning
off chunking.  :-)

--
/=================================================================\
|John Stracke    | http://www.ecal.com |My opinions are my own.   |
|Chief Scientist |================================================|
|eCal Corp.      |In the country of the blind, the one-eyed man is|
|francis@ecal.com|in therapy.                                     |
\=================================================================/



