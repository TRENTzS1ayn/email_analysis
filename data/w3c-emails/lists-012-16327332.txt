docno="lists-012-16327332"
received="Mon Mar 12 17:25:19 2001"
isoreceived="20010312222519"
sent="Mon, 12 Mar 2001 17:20:43 0000"
isosent="20010312172043"
name="Miles Sabin"
email="MSabin@interx.com"
subject="HTTP client abort detection ..."
id="69B15B675E99D411A4110008C786DA23DED6A7@exwest_01.interx.com"
charset="iso-88591"
expires="1"


To:http-wg@cuckoo.hpl.hp.com

I've been trying (unsuccessfully) to decide whether or not
RFC 2616 permits a server to interpret the receipt of a FIN on
the incoming-request side of it's connection to a client as a 
full client close ... allowing it to immediately stop any
request processing, and possibly avoid a RST due to the arrival 
of unwanted response data at the client.

Unfortunately I can't convice myself that this is safe. I can't
see anything in the spec which says a client isn't allowed to
send a request, then shutdown(fd, 1), and then still expect the
server to continue request processing and send a response.

Is there lore on this? Are clients within their rights behaving
in this way? Do any real clients behave this way? Are there any
servers out there which aggressively monitor for client closes
and abort connections in the way I described above?

Opinions most welcome.

Cheers,


Miles

-- 
Miles Sabin                               InterX
Internet Systems Architect                5/6 Glenthorne Mews
+44 (0)20 8817 4030                       London, W6 0LJ, England
msabin@interx.com                         http://www.interx.com/



