docno="lists-012-3429501"
received="Mon Jun  1 17:19:26 1998"
isoreceived="19980601211926"
sent="Mon, 1 Jun 1998 19:13:55 0500 (CDT)"
isosent="19980602001355"
name="John Franks"
email="john@math.nwu.edu"
subject="Byte ranges"
id="Pine.LNX.3.96.980601190949.1204A100000@hopf.math.nwu.edu"
charset="USASCII"
expires="1"

To:http-wg@cuckoo.hpl.hp.com
Cc: Alex Rousskov<rousskov@nlanr.net>



I recently received the message below.  Looking at
draft-ietf-http-v11-spec-rev-03 it seems the description
of multipart/byteranges leaves a lot to be desired on the
subject of where <CRLF> should occur.  Is there a definitive
answer to this?

John Franks
john@math.nwu.edu

---------- Forwarded message ----------
Date: Mon, 1 Jun 1998 16:04:33 -0600 (MDT)
From: Alex Rousskov <rousskov@nlanr.net>
To: John Franks <john@dehn.math.nwu.edu>
Subject: Re: Server: WN/2.0.0pre

Hi John,

In implementing multipart range responses you probably followed RFC
2046 (prepending boundaries with <CRLF>). However, HTTP RFC (2068) gives an
example where boundaries are _not_ prepended with <CRLF> (note that there is
only one empty line after headers):

   HTTP/1.1 206 Partial content
   Date: Wed, 15 Nov 1995 06:25:24 GMT
   Last-modified: Wed, 15 Nov 1995 04:58:08 GMT
   Content-type: multipart/byteranges; boundary=THIS_STRING_SEPARATES

   --THIS_STRING_SEPARATES
   Content-type: application/pdf
   Content-range: bytes 500-999/8000

   ...the first range...
   --THIS_STRING_SEPARATES
   Content-type: application/pdf
   Content-range: bytes 7000-7999/8000

   ...the second range
   --THIS_STRING_SEPARATES--


How did you decide which RFC to follow? Any "well-known" clarifications that
I am not aware about? 

Thanks!

Alex.



