docno="lists-012-5454114"
received="Wed Aug 26 21:20:03 1998"
isoreceived="19980827012003"
sent="Thu, 27 Aug 1998 00:16:56 0400 (EDT)"
isosent="19980827041656"
name="Dave Kristol"
email="dmk@research.belllabs.com"
subject="Re: CHUNKEDTRAILERS, attempted fix 2"
id="199808270416.AAA20042@aleatory.research.belllabs.com"
inreplyto="CHUNKEDTRAILERS, attempted fix 2"
expires="1"


To:fielding@kiwi.ics.uci.edu,mogul@pa.dec.com
Cc:http-wg@hplb.hpl.hp.com

Just to add a real data point to the discussion:

In handling Digest, my server decides whether to send qop="auth" or
qop="auth,auth-int" in a challenge based on whether it knows that the
client can handle chunked+trailers, since I send Authentication-Info as
a chunked trailer always.  If you think it through, you see the
message sequence is

1) C->S
    Get resource R
2) S->C
    401 Authentication Required
    send qop="auth" or qop="auth,auth-int" based on client's ability to
    handle chunked+trailers
3) C->S
    Get resource R
    WWW-Authenticate ... qop=auth or qop=auth-int
4) S->C
    200 OK
    send R, possibly chunked and with trailers for qop=auth-int

Therefore, if the server can decide at step (2) whether it's safe
to send trailers, there shouldn't be a problem.

I can live with Roy's Via proposal or the TE: trailers proposal.  Both
should let me tell whether it's safe to send trailers.

Dave Kristol



