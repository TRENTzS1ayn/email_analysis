docno="lists-012-6486318"
received="Fri Sep 18 16:58:42 1998"
isoreceived="19980918205842"
sent="Fri, 18 Sep 1998 16:51:28 0700"
isosent="19980918235128"
name="Roy T. Fielding"
email="fielding@kiwi.ics.uci.edu"
subject="Re: Response Version  Clarification"
id="9809181651.aa22424@paris.ics.uci.edu"
inreplyto="5040500020654383000002L032*&#64;MHS"
expires="1"

To: Chris DiPierro<cdipierr@us.ibm.com>
Cc:http-wg@hplb.hpl.hp.com


>Let's say I had the following:
>
>1.0 Client -> 1.1 Proxy -> 1.0 Server
>
From the spec, the proxy MUST upgrade the 1.0 request to 1.1 and send that on
>to the server. The server of course responds with a 1.0 response. The proxy can
>then chose what response version to send to the client as long as it doesn't
>break the client (chunked data or something else like that).
>
>However, the spec also says that proxies should keep track of the HTTP version
>of all servers for various reasons. This is fine, but consider the following:
>
>1.0 Client -> 1.1 Proxy #1 -> 1.1 Proxy #2 -> 1.0 Server
>
>Proxy #2 of course can know the true version of the server, but there's no way
>for Proxy #1 to know the real version of the server if Proxy #2 decides to
>upgrade the 1.0 response to 1.1.

The "should remember" only talks about the server they connect to,
not the entire request path (all proxies are also servers).  Thus,
it is only a performance advantage for Proxy #1 to remember the
HTTP-version of Proxy #2.

In any case, Proxy #1 can determine the HTTP-version of the entire response
path by looking at the Via header field.

.....Roy



