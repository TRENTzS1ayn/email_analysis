docno="lists-012-6901533"
received="Fri Oct  2 02:13:11 1998"
isoreceived="19981002061311"
sent="Thu, 01 Oct 1998 18:07:28 0700"
isosent="19981002010728"
name="Roy T. Fielding"
email="fielding@kiwi.ics.uci.edu"
subject="Re: Microsoft proxy"
id="9810011807.aa11820@paris.ics.uci.edu"
inreplyto="Pine.GSO.3.96.981001080539.6983A100000&#64;shell1.aimnet.com"
expires="1"

To:"David W. Morris"<dwm@xpasc.com>
Cc: http working group<http-wg@hplb.hpl.hp.com>


>On the other hand, the proxy detected an error and attempted to report 
>it.  The question to me would hinge on whether the proxy then did
>a connection reset or normal close. 

The proxy is broken.  The only thing it needs to do to "report"
a dropped connection is to close its own connection with the client.
That is why we have both content-length and the chunked encoding.

>I don't believe that HTTP is well architected for recovering 
>partial transfers or in some cases even detecting incomplete transfers
>except those initiated by the client. Without architected error recovery,
>its all up to the implementation.

It is all up to the implementation in any case.  Partial transfers are
easily and completely recoverable for HTTP/1.1.  The only thing it is
missing is some indication of the reason why the connection was dropped,
but that is hard to do without multiplexing or a separate control channel.
That was wisely left for a major protocol revision.

....Roy



