docno="lists-012-7394447"
received="Tue Nov  3 20:20:02 1998"
isoreceived="19981104012002"
sent="Tue, 3 Nov 1998 14:19:42 0600 (EST)"
isosent="19981103201942"
name="John Franks"
email="john@math.nwu.edu"
subject="Re: Netscape 4.5 and HTTP/1.1 AcceptEncoding"
id="Pine.LNX.3.96.981103141212.31614A100000@hopf.math.nwu.edu"
charset="USASCII"
inreplyto="199811031938.OAA04672&#64;aleatory.research.belllabs.com"
expires="1"

To: Dave Kristol<dmk@research.bell-labs.com>
Cc:http-wg@hplb.hpl.hp.com


On Tue, 3 Nov 1998, Dave Kristol wrote:

> Something interesting has come up that's one of: a bug or infelicity in
> my server, or a bug or infelicity in Netscape 4.5
> 
> Netscape 4.5 sends an HTTP/1.0 request with Accept-Encoding: gzip
> header.  A web site has a paper.ps.Z file, i.e., Content-type:
> application/postscript, Content-Encoding: compress.  When NS 4.5 tries
> to GET the paper, my server returns 406 Not Acceptable, because
> "compress" is not one of the accepted encodings.
> 
> There seem to be two (not mutually exclusive) conclusions to draw:
> 
> 1) Netscape 4.5 should send Accept-Encoding: gzip, compress, because
> gzip (well, the gzip program, anyway) understands the Unix compress
> format.

I  think gzip and compress are different encodings.  The fact that
a program called "gzip" understands both is not relevant.

> 
> 2) My server should not send 406, since it's only a SHOULD requirement
> anyway.  Or perhaps it should send 406 only for HTTP/1.1 requests.
> 

What does your server do if a client sends a request with *no* 
Accept-Encoding?  I think that's what it should do in this case.
(E.g. send it as application/octet-stream).

It is quite likely that there will be clients which support some
content encodings but not all the ones you support.  I don't think you
want your server to be in the situation where it completely refuses to
serve a file to such clients.

John Franks
john@math.nwu.edu



