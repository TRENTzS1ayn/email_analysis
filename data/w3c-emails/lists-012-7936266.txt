docno="lists-012-7936266"
received="Wed Nov 11 17:51:14 1998"
isoreceived="19981111225114"
sent="Wed, 11 Nov 1998 09:51:01 0800"
isosent="19981111175101"
name="Jim Gettys"
email="jg@pa.dec.com"
subject="Re: HTTP 1.1 issue 20: 13.1.2 Warnings"
id="9811111751.AA12969@pachyderm.pa.dec.com"
inreplyto="199811091548.PAA00449&#64;hplb.hpl.hp.com"
expires="1"


To: Ross Patterson<ROSSP@SS1.Reston.VMD.Sterling.COM>
Cc:http-wg@hplb.hpl.hp.com


Has anyone ever told you that you'd have a great future as a copy editor?
:-).

> -----
> In section 13.1.2 "Warnings", the statement
> 
>    "The first digit indicates whether the Warning MUST or MUST NOT be
>    deleted from a cached response after it is successfully
>    revalidated.
> 
> does not specify a requirement.  The "MUST or MUST NOT" should be
> changed to "must or must not".
> 

This, plus your issue 18 point out duplication in section 14.46
text with section 13.1.2...

In section 13.1.2 we find:

   Warnings come in two categories:

   1.Those that describe the freshness or revalidation status of the response, 
   and so MUST be deleted after a successful revalidation (see section 13.3 
   for a definition of revalidation).

   2.Those that describe some aspect of the entity body or entity headers 
   that is not rectified by a revalidation, for example, a lossy compression 
   of the entity bodies. These warnings MUST NOT be deleted after a successful 
   revalidation.

   Warnings are assigned 3-digit code numbers. The first digit indicates 
   whether the Warning MUST or MUST NOT be deleted from a cached response 
   after it is successfully revalidated. This specification defines the code 
   numbers and meanings of each currently assigned warning, allowing a client 
   or cache to take automated action in some (but not all) cases.


In section 14.46 we find:

  The warn-code consists of three digits. The first digit indicates whether 
  the Warning MUST or MUST NOT be deleted from a stored cache entry after 
  a successful revalidation:

  1xxWarnings that describe the freshness or revalidation status of the 
  response, and so MUST be deleted after a successful revalidation. 1XX 
  warn-codes MAY be generated by a cache only when validating a cached entry. 
  It MUST NOT be generated by clients.

  2xxWarnings that describe some aspect of the entity body or entity 
  headers that is not rectified by a revalidation, and which MUST NOT 
  be deleted after a successful revalidation.

These are close to identical, in slightly different ordering, but with
a few differences (e.g. the lossy compression reference, and the additional
requirements on 1xx codes in 14.45).

I propose we clean this up (and shorten the specification) by replacing
the 13.1.2 text noted above with:

  Warnings are assigned three digit warn-codes. The first digit indicates 
  whether the Warning MUST or MUST NOT be deleted from a stored cache 
  entry after a successful revalidation:

  1xxWarnings that describe the freshness or revalidation status of the 
  response, and so MUST be deleted after a successful revalidation. 1XX 
  warn-codes MAY be generated by a cache only when validating a cached entry. 
  It MUST NOT be generated by clients.

  2xxWarnings that describe some aspect of the entity body or entity headers 
  that is not rectified by a revalidation (for example, a lossy compression 
  of the entity bodies) and which MUST NOT be deleted 
  after a successful revalidation.

  See section 14.46 for the definitions of the codes themselves.

And replace the 14.46 text with:

  The caching behavior of warnings is discussed in section 13.1.2.

This should reduce duplication and resulting confusion (and shorten the
document further).
- Jim



