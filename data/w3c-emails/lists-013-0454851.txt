docno="lists-013-0454851"
received="Tue Oct  9 22:19:42 2001"
isoreceived="20011010021942"
sent="Tue, 9 Oct 2001 14:16:49 0700 (PDT)"
isosent="20011009211649"
name="Marc Slemko"
email="marcs@znep.com"
subject="Re: body on HEAD errror response"
id="Pine.BSF.4.20.0110091414020.442100000@alive.znep.com"
charset="USASCII"
inreplyto="NDBBKEBDLFENBJCGFOIJEELIFLAA.LMM&#64;acm.org"
expires="1"

To: Larry Masinter<LMM@acm.org>
cc: HTTP Working Group<http-wg@hplb.hpl.hp.com>


On Tue, 9 Oct 2001, Larry Masinter wrote:

> I believe that the HTTP spec is wrong, and should say that 2xx
> responses to HEAD must not contain a body, but other responses
> should.

Umh.  Neither Apache, IIS, or iPlanet exhibit the brokenness you
describe, at least not in their default configurations when requesting a
document that gives a 404.

I suggest you look again...

And make sure you haven't been insulted by having a so-called
transparent proxy (aka. demon box from hell aka. "worst products
ever") between you and the servers you are testing against.



> 
> ==========================
> We're having a problem reconciling the HTTP 1.1 spec with what 
> servers are actually doing.  The HTTP spec says (section 4.3, message 
> body):
> 
>     For response messages, whether or not a message-body is included with
>     a message is dependent on both the request method and the response
>     status code (section 6.1.1). All responses to the HEAD request method
>     MUST NOT include a message-body, even though the presence of entity-
>     header fields might lead one to believe they do. All 1xx
>     (informational), 204 (no content), and 304 (not modified) responses
>     MUST NOT include a message-body. All other responses do include a
>     message-body, although it may be of zero length.
> 
> and also
> 
> 9.4 HEAD
> 
>     The HEAD method is identical to GET except that the server MUST NOT
>     return a message-body in the response. The metainformation contained
>     in the HTTP headers in response to a HEAD request SHOULD be identical
>     to the information sent in response to a GET request. This method can
>     be used for obtaining metainformation about the entity implied by the
>     request without transferring the entity-body itself. This method is
>     often used for testing hypertext links for validity, accessibility,
>     and recent modification.
> 
> But, in spite of this, every server we test against (and every one 
> we've written ourselves) returns a body on ERROR responses to the 
> HEAD request (e.g., HTML explaining the error on a 400, 401, 404, and 
> so on).
> =================================
> 



