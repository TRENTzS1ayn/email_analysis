docno="lists-013-1506087"
received="Sun Jan  4 00:18:55 1998"
isoreceived="19980104051855"
sent="Sat, 03 Jan 1998 00:58:50 0800"
isosent="19980103085850"
name="Roy T. Fielding"
email="fielding@kiwi.ics.uci.edu"
subject="Re: Digest mess"
id="9801030106.aa13017@paris.ics.uci.edu"
inreplyto="Pine.LNX.3.96.971230113815.627A100000&#64;hopf.math.nwu.edu"
expires="1"

To: John Franks<john@math.nwu.edu>
cc: Scott Lawrence<lawrence@agranat.com>,paulle@microsoft.com,ietf-http-wg@w3.org,http-wg@cuckoo.hpl.hp.com


Wouldn't it make more sense to use a self-descriptive digest?
In other words, send a list of the header field-names and other properties
that are being digested, rather than listing their values, and
then let the applications adjust what is being digested if there
are persistent failures.  That would cover all of the problems
discussed and allow for the complete extensibility desired by WebDAV.

It also fixes the problem that Dave was trying to describe, namely
that if the values are separate then the recipient would still have
to compare the received field values against the received values
inside dheader-content, which would still result in failure if the
proxy changes them.  (If it didn't compare them, then an attacker
could simply change the field values without changing the digest
at all.)

If you change the definition of entity-digest (which seems unavoidable
at this point) then you should also change the "digest" parameter
name to something else and deprecate "digest".  This is necessary for
deployment reasons, even if everyone agrees to implement the new spec.
After all, HTTP date formats were screwed up because they were implemented
by reference to an obsolete specification (RFC 850) long after it became
obsolete.

....Roy



