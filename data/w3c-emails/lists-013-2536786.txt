docno="lists-013-2536786"
received="Mon Aug 19 18:17:58 2002"
isoreceived="20020819221758"
sent="Mon, 19 Aug 2002 15:15:17 0700"
isosent="20020819221517"
name="Roy T. Fielding"
email="fielding@apache.org"
subject="Re: Entities"
id="24754878-B3C1-11D6-926C000393753936@apache.org"
charset="USASCII"
inreplyto="200208192016.g7JKGiho007437&#64;wera.hpl.hp.com"
expires="1"

Cc:"Larry Masinter"<LMM@acm.org>,"'Alex Rousskov'"<rousskov@measurement-factory.com>,"'Kim Horne'"<kim@pookzilla.com>,<ietf-http-wg@w3.org>
To: Jeffrey Mogul<Jeff.Mogul@hp.com>



> Probably if the example had included an explicit Content-length
> field in the first group of headers, the ambiguity would go
> away, but I think the Message Length rules (section 4.4) don't
> require that.

There is no ambiguity.  No content-length in a request means length == 0.

> My vote: treat this as an erratum; ban bodies for GET, HEAD, and
> DELETE.

No.  You may think of this as just "clarifying" the spec, but in reality
it changes the parsing algorithm on the server such that the server
must know the semantics of every message that passes through it, such
that extensibility of methods becomes impossible.  The server already
has an unambiguous algorithm for interpreting the length of a message.

Whether or not GET allows a message body is irrelevant.  HTTP allows a
message body on any request.  The fact that clients should not send
useless bodies does not lessen the requirement of servers to parse a
message independent of the message semantics.  The only exception is
HEAD responses, and that only because of legacy issues.

....Roy



