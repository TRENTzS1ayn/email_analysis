docno="lists-013-3485377"
received="Tue Nov 26 12:33:44 2002"
isoreceived="20021126173344"
sent="Tue, 26 Nov 2002 10:33:42 0700 (MST)"
isosent="20021126173342"
name="Alex Rousskov"
email="rousskov@measurementfactory.com"
subject="Re: Connection:KeepAlive and Proxies"
id="Pine.BSF.4.44.0211261014470.19283-100000@measurementfactory.com"
charset="USASCII"
inreplyto="u8yzgi862.fsf&#64;world.std.com"
expires="1"

To: Scott Lawrence<lawrence@world.std.com>
cc: Diwakar Shetty<Diwakar.Shetty@oracle.com>,<ietf-http-wg@w3.org>



On 26 Nov 2002, Scott Lawrence wrote:

> If the origin server honored the Keep-Alive it would send a
> Content-Length header in the response, and thus the end would not be
> ambiguous.

As far as I can see, the following real-world problems make the above
difficult to rely on:

- many old HTTP/1.0 clients ignore Content-Length header
  (because they do not really need it for anything other
  than double checking the content validity)

- some HTTP/1.0 servers include incorrect Content-Length
  headers and, hence, 1.0 clients SHOULD NOT depend on the
  Content-Length value being correct (RFC 1945, section 7.2.2)

- under certain conditions, the origin server may not include
  a Content-Length header and a buggy proxy may not append
  it when downgrading to HTTP/1.0 (or it would not know that
  it needs to downgrade because the proxy that is going to
  get stuck has tunneled HTTP/1.1 request version or other
  headers implying it can handle persistent connections)

Alex.

-- 
                            | HTTP performance - Web Polygraph benchmark
www.measurement-factory.com | HTTP compliance+ - Co-Advisor test suite
                            | all of the above - PolyBox appliance



