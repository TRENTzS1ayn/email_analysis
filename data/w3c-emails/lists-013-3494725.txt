docno="lists-013-3494725"
received="Tue Nov 26 13:38:20 2002"
isoreceived="20021126183820"
sent="26 Nov 2002 13:38:12 0500"
isosent="20021126183812"
name="Scott Lawrence"
email="lawrence@world.std.com"
subject="Re: Connection:KeepAlive and Proxies"
id="uznrwgorv.fsf@world.std.com"
charset="usascii"
inreplyto="Pine.BSF.4.44.0211261014470.19283-100000&#64;measurementfactory.com"
expires="1"

To: Alex Rousskov<rousskov@measurement-factory.com>
Cc: Diwakar Shetty<Diwakar.Shetty@oracle.com>,<ietf-http-wg@w3.org>



Alex Rousskov <rousskov@measurement-factory.com> writes:

> As far as I can see, the following real-world problems make the above
> difficult to rely on:
> 
> - many old HTTP/1.0 clients ignore Content-Length header
>   (because they do not really need it for anything other
>   than double checking the content validity)
> 
> - some HTTP/1.0 servers include incorrect Content-Length
>   headers and, hence, 1.0 clients SHOULD NOT depend on the
>   Content-Length value being correct (RFC 1945, section 7.2.2)
> 
> - under certain conditions, the origin server may not include
>   a Content-Length header and a buggy proxy may not append
>   it when downgrading to HTTP/1.0 (or it would not know that
>   it needs to downgrade because the proxy that is going to
>   get stuck has tunneled HTTP/1.1 request version or other
>   headers implying it can handle persistent connections)

All of the above are only problems when you have 2 or more buggy
implementations in the same transaction - at some point, you just have
to throw up your hands and give up.

At this point, there is little exuse for deploying any new 1.0 system,
and proxies in particular should be using only 1.1.  I certainly hope
that people who install proxies are checking to see whether or not
they really do the right thing, but I have no practical way of
checking that.  What ever became of the W3C Web Characterization
activity?  It was originally going to try to answer questions like
that. 



