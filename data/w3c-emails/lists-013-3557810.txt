docno="lists-013-3557810"
received="Wed Nov 27 19:29:53 2002"
isoreceived="20021128002953"
sent="Wed, 27 Nov 2002 15:40:46 0800"
isosent="20021127234046"
name="Roy T. Fielding"
email="fielding@apache.org"
subject="Re: weak entity tags vs Apache moddav"
id="A6A0587E-0261-11D7-B548000393753936@apache.org"
charset="USASCII"
inreplyto="JIEGINCHMLABHJBIGKBCOEKMFMAA.julian.reschke&#64;gmx.de"
expires="1"

Cc:<ietf-http-wg@w3.org>
To:"Julian Reschke"<julian.reschke@gmx.de>



> Apache moddav indeed returns weak entity tags based on a filesystem
> timestamp. However, as far as I understand there's no guarantee whatsoever
> that two entities written within one second indeed can "be substituted for
> each other with no significant change in semantics". So is this a bug or 
> am
> I missing something important?

No, it is just over-specification.  It is impossible for an HTTP server
to know the semantics of a representation.  However, if one representation
overwrites another such that both are valid responses to GET on the
same resource, then both are clearly intended to represent that resource.

What the spec is trying to say is that a weak etag cannot be used to
test for byte equivalence of the representation, unlike a strong etag.
The HTTP components don't need to know why.

Apache etags are configurable, so the resource owner can determine what
is sufficient for differentiation based on the resource implementation.
We used to include the system inode by default, but that proved harmful
for server farms using rsync or raid mirrors.

....Roy



