docno="lists-013-3566507"
received="Thu Nov 28 05:15:13 2002"
isoreceived="20021128101513"
sent="Thu, 28 Nov 2002 15:45:13 +0530"
isosent="20021128101513"
name="Diwakar Shetty"
email="Diwakar.Shetty@oracle.com"
subject="Re: Connection:KeepAlive and Proxies"
id="3DE5ECB1.27D3187E@oracle.com"
charset="usascii"
inreplyto="200211271920.gARJKGgD028492&#64;wera.hpl.hp.com"
expires="1"


To: Jeffrey Mogul<Jeff.Mogul@hp.com>
CC: Alex Rousskov<rousskov@measurement-factory.com>,ietf-http-wg@w3.org



The original para was a very long one.
So to reduce it, I added the important sentences only.

Also the whole para was in the section for "Semantic requirements on an HTTP/1.1 proxy."
Hence, it made sense to replace the "Proxy" in the para with "HTTP/1.1 proxy"
In fact, thoughout that para all mention was to HTTP/1.1 proxy with the exception of only one place where "only" proxy was mentioned

So I believe, I did not misquote the book
And niether did the book misquote the RFC because the author never said that it was as per the RFC in the first place

In fact, I am more concerned with how things work (or rather does not work in the current discussion topic)  practically rather than what the
RFC says

But anyway, will henceforth send the quotes on "as-is" basis :-)

Thanks
Diwakar



Jeffrey Mogul wrote:

> Alex wrote:
>
>    I think the book is misquoting the RFC.
>
> Actually, I think Diwakar Shetty's original message misquoted the book.
> (Alex guess this right.)  He wrote:
>
>     Following is a para which i read in one book.
>
>     An HTTP/1.0 client could send a "Keep-Alive" header to a HTTP/1.1
>     proxy that did not understand "Connection" but might mistakenly
>     forward it. If the downstream connection also maintained a
>     "Keep-Alive" connection, the proxy in the middle would never
>     receive the closing of the response
>
> He later identified this as from page 289 in Krishnamurthy & Rexford.
> The actual paragraph is much longer (the quote above is not the
> whole paragraph!) and what the paragraph in the book actually says is:
>
>         [2 sentences I'm not quoting]
>         However, interaction between the Connection header and
>         Keep-Alive header could result in a hung connection.  This
>         occured because an HTTP/1.0 client could send a "Keep-Alive"
>         header to a proxy that did not understand "Connection" but
>         might mistakenly forward it.  If the downstream connection also
>         maintained a "Keep-Alive" connection, the proxy in the middle
>         would never receive the closing of the response.  To avoid such
>         problems, HTTP/1.1 proxies are not permitted to establish a
>         persistent connection with HTTP/1.0 clients.
>
> So the discussion on this mailing list has been misguided because
> the book never mentioned "a HTTP/1.1 proxy that did not understand
> 'Connection'".
>
> I'm sure the Krishnamurthy & Rexford book does have bugs, and
> I suspect this paragraph could have been clearer if the phrase
> "to a proxy" had been "to an HTTP/1.0 proxy".  But from now on,
> let's insist on accurate quotes before discussing whether some
> publication got the story right.
>
> -Jeff



