docno="lists-013-6313738"
received="Mon Dec  8 15:07:06 2003"
isoreceived="20031208200706"
sent="Mon, 8 Dec 2003 13:05:50 0700 (MST)"
isosent="20031208200550"
name="Alex Rousskov"
email="rousskov@measurementfactory.com"
subject="Re: Expires header vs Vary header"
id="Pine.BSF.4.53.0312081303530.93213@measurementfactory.com"
charset="USASCII"
inreplyto="200312081959.hB8JxVjw024648&#64;wera.hpl.hp.com"
expires="1"

To: Jeffrey Mogul<Jeff.Mogul@hp.com>
Cc:ietf-http-wg@w3.org




Yes, of course, but Julian says everything works fine without the
Vary. I find it strange that a Vary header would prevent required
updates.  But it is still possible, of course. Sorry for not being
clear.

Alex.

On Mon, 8 Dec 2003, Jeffrey Mogul wrote:

>     From: Alex Rousskov <rousskov@measurement-factory.com>
>
>     I am not aware of such dependencies. I would have guessed that
>     Mozilla does not update Expires header when receiving a 304
>     response, but then it would probably not have worked without the
>     Vary either.
>
> If Mozilla is not updating the Expires header when it receives a 304
> response with a new value for that header (as in the example in
> Julian Reschke's message), then it is violating this MUST:
>
>    If a cache uses a received 304 response to update a cache entry,
>    the cache MUST update the entry to reflect any new field values
>    given in the response.
>
> in RFC2616 section 10.3.5 304 (Not Modified).  This is restated in
> more detail in section 13.5.3.
>
> -Jeff
>



