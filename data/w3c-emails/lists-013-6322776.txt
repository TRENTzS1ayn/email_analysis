docno="lists-013-6322776"
received="Mon Dec  8 16:42:08 2003"
isoreceived="20031208214208"
sent="Mon, 08 Dec 2003 13:42:06 0800"
isosent="20031208214206"
name="Jeffrey Mogul"
email="Jeff.Mogul@hp.com"
subject="Re: Expires header vs Vary header"
id="200312082142.hB8Lg6Bq016154@wera.hpl.hp.com"
inreplyto="Pine.BSF.4.53.0312081303530.93213&#64;measurementfactory.com"
expires="1"


To: Alex Rousskov<rousskov@measurement-factory.com>
Cc:ietf-http-wg@w3.org


    Yes, of course, but Julian says everything works fine without the
    Vary. I find it strange that a Vary header would prevent required
    updates.  But it is still possible, of course. Sorry for not being
    clear.
    
Sorry, I guess I didn't make my own point clear.

Since RFC 2616 says "the cache MUST update the entry", without
any language about "but this changes if Vary is used", then what
Julian complained about seems to be an implementation bug, if
your interpretation ("Mozilla does not update Expires header when
receiving a 304 response") was correct.

If so, I don't think we really need to discuss it on the HTTP-WG
list.  This should go through Mozilla's bug-reporting process.

On the other hand, Mozilla could simply have decided to disable
caching for any response that carries a Vary header.  This is
perfectly legal, and is a simple but effective way of ensuring
that the Vary specification is observed.

The problem is that we can only infer whether Mozilla is correctly
updating its cache entry, so without some other information
(results of other tests, or reading the source code) we can't
tell whether this is a case of "Vary prevents required updates"
or "Vary disables caching".

I'm sure this has nothing at all to do with Schroedinger's cat.

-Jeff



