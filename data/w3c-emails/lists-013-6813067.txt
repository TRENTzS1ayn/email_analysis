docno="lists-013-6813067"
received="Thu Apr 29 13:01:53 2004"
isoreceived="20040429170153"
sent="Thu, 29 Apr 2004 10:00:57 0700"
isosent="20040429170057"
name="Lisa Dusseault"
email="lisa@osafoundation.org"
subject="Re: PATCH thoughts..."
id="C8DB7C32-99FE-11D8-8BCF000A95B2BB72@osafoundation.org"
charset="USASCII"
inreplyto="200404282232.i3SMWr98016563&#64;wera.hpl.hp.com"
expires="1"


Cc:ietf-http-wg@w3.org, Jamie Lokier<jamie@shareable.org>, Justin Chapweske<justin@chapweske.com>
To: Jeffrey Mogul<Jeff.Mogul@hp.com>


I looked into VCDiff a little more.
  - RFC3283 doesn't define a MIME type for VCDiff.
  - RFC3229 uses VCDiff but since there isn't a MIME type simply uses 
the string 'vcdiff' to identify it.

Sadly, in looking up the MIME registry I discovered that even though 
the W3C note for GDIFF defines a MIME type 
(http://www.w3.org/TR/NOTE-gdiff-19970901), that MIME type does not 
appear in the registry.  So that leaves us with no diff formats with 
registered MIME types.  I had thought that having a registered MIME 
type was the one reason to use GDIFF above others but that's not true 
after all.

I really don't know which delta formats are likely to be most commonly 
available besides diff -e (also mentioned in RFC3229).  I also don't 
have a strong allegiance to using MIME types over short strings as 
RFC3229 does, except that some of the use cases will certainly involve 
XML diff (or transformation) file definitions, and MIME registration 
avoids conflicts there.

So please voice your opinions on this issue to help me off this fence.  
Should PATCH require support for one diff format, and if so, what?  
Should it use MIME types or strings to identify diff formats?  Should 
it register MIME types for VCDiff and/or GDiff (ouch)?

Lisa


On Apr 28, 2004, at 3:32 PM, Jeffrey Mogul wrote:

>     Is there a binary delta format being used, or planned, for delta
>     transmission of cached documents?
>
>     What I mean is that if I have a cached entity with etag "abcdefg", 
> and
>     I request it with If-None-Match, then maybe a server or cache could
>     send me the delta between what I have and the current entity - 
> just to
>     reduce bandwidth.
>
>     If there's such a standard being proposed or even still being
>     designed, it would probably be good to pick the same binary delta
>     format.
>
> IETF Proposed Standards:
>     RFC3229: Delta encoding in HTTP
>     http://www.ietf.org/rfc/rfc3229.txt
>
>     RFC3284: The VCDIFF Generic Differencing and Compression Data 
> Format
>     http://www.ietf.org/rfc/rfc3284.txt
>
> RFC3229 lists a few other possible formats, but vcdiff seems
> to be the consensus (among experts in the area) for the best
> choice.
>
> -Jeff



