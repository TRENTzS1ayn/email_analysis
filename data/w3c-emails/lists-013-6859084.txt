docno="lists-013-6859084"
received="Thu Apr 29 19:15:41 2004"
isoreceived="20040429231541"
sent="Thu, 29 Apr 2004 17:15:26 0600 (MDT)"
isosent="20040429231526"
name="Alex Rousskov"
email="rousskov@measurementfactory.com"
subject="Re: PATCH, gdiff, and randomaccess I/O"
id="Pine.BSF.4.58.0404291707000.48149@measurementfactory.com"
charset="USASCII"
inreplyto="1083276507.30884.77.camel&#64;bog"
expires="1"

To: Justin Chapweske<justin@chapweske.com>
Cc: HTTP working group<ietf-http-wg@w3.org>




On Thu, 29 Apr 2004, Justin Chapweske wrote:

> This brings up another issue.  With the second style of PATCHing,
> the suggestion that "  The server SHOULD provide a MD5 hash of the
> content after the delta was applied.  " becomes very onerous indeed
> since a bunch of small writes to a huge file will result in an
> unacceptable performance hit.

Yes, and the performance hit can be unacceptable for the first kind of
patching as well. However, SHOULD level seems appropriate for this
case. The server is free to skip MD5 calculation for large files, for
example.

> In any case, I think it is important that the specification
> recommend a delta format that can meet the needs of both diff/patch
> type usage as well as remote random-access I/O patterns.

I am not sure I agree. Would it be better to provide a different
method for remote random-access I/O patterns? Random I/Os seem to have
different enough priorities and possibly different set of essential
operations to justify the increased complexity of morphing two content
modification methods together.

Thanks,

Alex.



