docno="lists-013-6968534"
received="Fri Apr 30 05:51:00 2004"
isoreceived="20040430095100"
sent="Fri, 30 Apr 2004 10:50:05 +0100"
isosent="20040430095005"
name="Jamie Lokier"
email="jamie@shareable.org"
subject="Re: PATCH thoughts..."
id="20040430095005.GD13899@mail.shareable.org"
charset="usascii"
inreplyto="Pine.BSF.4.58.0404291204130.48149&#64;measurementfactory.com"
expires="1"

To: Alex Rousskov<rousskov@measurement-factory.com>
Cc: Lisa Dusseault<lisa@osafoundation.org>,ietf-http-wg@w3.org



Alex Rousskov wrote:
> > So please voice your opinions on this issue to help me off this
> > fence.  Should PATCH require support for one diff format, and if so,
> > what?
> 
> Is there a diff format that accommodates all of these:
> - text patching with fuzzy offsets (like Larry Wall's patch)
> - binary patching based on offsets
> - patching not based on offsets

Larry Wall's patch (when given unified or context diffs) can be used
without fuzzy offsets (just disable fuzzy matching in the patcher),
and it can be used on binary files (ugly an inefficient, because it's
still line based and depends crucially on LF bytes).  It doesn't use
byte offsets in either case.

> If yes, use it at a SHOULD level. If not, then it looks like it would
> be a mistake to pick a "winner" at this time.

I agree, there isn't a suitable "winner" at this time.

What does DAV + Delta-V propose at the moment?

The obvious format for PATCH is to pick the same format that can be
_fetched_, CVS-style, to update a workspace.  Is that in Delta-V?

Another capability to aim for is a patch format that is helpful for
resolving fuzzy matches in a 3-way merge in the same way as CVS-style
merging -- again, choose the same as Delta-V.

Finally, it would be nice to have VCDIFF-style compression integrated,
although compressing normal patches works ok so it's not that important.

-- Jamie



