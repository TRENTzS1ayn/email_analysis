docno="lists-013-7027346"
received="Fri Apr 30 17:39:57 2004"
isoreceived="20040430213957"
sent="Fri, 30 Apr 2004 22:39:44 +0100"
isosent="20040430213944"
name="Jamie Lokier"
email="jamie@shareable.org"
subject="Re: PATCH thoughts..."
id="20040430213944.GA18139@mail.shareable.org"
charset="usascii"
inreplyto="E214FC72-9AE9-11D8-8BCF000A95B2BB72&#64;osafoundation.org"
expires="1"

To: Lisa Dusseault<lisa@osafoundation.org>
Cc: Jeffrey Mogul<Jeff.Mogul@hp.com>, HTTP working group<ietf-http-wg@w3.org>, Justin Chapweske<justin@chapweske.com>



Lisa Dusseault wrote:
> I know of server implementations that do not expect to see a message
> body if the Content-Type header is missing and they interpret the
> body, if sent, as the next request.

That's a big fat bug.  They should check the Transfer-Encoding and
Content-Length headers: if either exist, there's a body.
Transfer-Encoding has precedence.  If neither exist, there's a body if
Content-Type is multipart/byteranges.

See "4.4 Message Length" in RFC2616.

-- Jamie



