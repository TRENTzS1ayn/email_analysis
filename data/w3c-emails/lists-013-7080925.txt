docno="lists-013-7080925"
received="Fri Apr 30 18:36:38 2004"
isoreceived="20040430223638"
sent="Fri, 30 Apr 2004 16:02:17 0600 (MDT)"
isosent="20040430220217"
name="Alex Rousskov"
email="rousskov@measurementfactory.com"
subject="Re: PATCH thoughts..."
id="Pine.BSF.4.58.0404301555440.3309@measurementfactory.com"
charset="USASCII"
inreplyto="20040430213944.GA18139&#64;mail.shareable.org"
expires="1"

To: Jamie Lokier<jamie@shareable.org>
Cc: Lisa Dusseault<lisa@osafoundation.org>, HTTP working group<ietf-http-wg@w3.org>



On Fri, 30 Apr 2004, Jamie Lokier wrote:

> They should check the Transfer-Encoding and Content-Length headers:
> if either exist, there's a body. Transfer-Encoding has precedence.

Yes, and _only_ those headers.

> If neither exist, there's a body if Content-Type is
> multipart/byteranges.

Sending a multipart/byteranges request is, in general, a violation of
the following MUST NOT:

   This media type
   UST NOT be used unless the sender knows that the recipient can arse
   it

That is why, I guess, RFC 2616 goes on to say, explicitly (but
informally):

   The presence of a message-body in a request is signaled by the
   inclusion of a Content-Length or Transfer-Encoding header field in
   the request's message-headers.

Many (most?) implementations cannot handle requests with bodies except
for PUT and POST, especially if the body is chunked.

Alex.



