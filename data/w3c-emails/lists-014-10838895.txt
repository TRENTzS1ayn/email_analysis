docno="lists-014-10838895"
received="Fri May 28 03:35:40 2004"
isoreceived="20040528073540"
sent="Fri, 28 May 2004 02:35:30 0500"
isosent="20040528073530"
name="Boris Zbarsky"
email="bzbarsky@MIT.EDU"
subject="Errors in CSS3 Selectors suite"
id="40B6EBC2.4020208@mit.edu"
charset="usascii"
expires="1"


To:public-css-testsuite@w3.org


There are several errors in the 20040510 draft of the CSS3 Selectors test suite [1].

In particular, at least tests 57, 57b, 97--110, 124-136, 124b-136b [2], all have 
the same issue, which I will demonstrate based on the markup in test 97.  As 
written, test 97 has:

  <q xmlns="http://www.example.org/a" a:title="a paragraph">This paragraph
     should have a green background.</q>
  <r xmlns="http://www.example.org/b" b:title="a paragraph">This paragraph
     should be unstyled.</r>

where the "a" and "b" namespace prefixes are never declared in the document.  I 
believe the intent was to have

  <q xmlns:a="http://www.example.org/a" a:title="a paragraph">This paragraph
     should have a green background.</q>
  <r xmlns:b="http://www.example.org/b" b:title="a paragraph">This paragraph
     should be unstyled.</r>

instead of what the test actually has.

In fact, the document as written is not well-formed namespaced XML and a 
compliant namespace-aware XML parser (which I'm sad to discover some browsers 
are not) should throw a well-formedness error on this document.

Failing that, a compliant CSS renderer would render the <q> element with a red 
background given the existing markup and CSS for that test.  This applies to the 
XML with namespace and XHTML versions of the test.

I suspect tests 137--143 have similar issues, but I'm out of time for right now...

In general, it may be easiest to run these tests through a decent 
namespace-aware XML parser to catch all the well-formedness issues.

-Boris

[1] http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/
[2] 
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-57.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-57b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-97.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-98.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-99.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-100.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-101.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-102.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-103.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-104.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-105.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-106.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-107.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-108.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-109.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-110.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-124.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-125.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-126.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-127.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-128.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-129.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-130.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-131.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-132.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-133.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-134.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-135.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-136.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-124b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-125b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-126b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-127b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-128b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-129b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-130b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-131b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-132b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-133b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-134b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-135b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xml/tests/css3-modsel-136b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-57.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-57b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-97.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-98.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-99.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-100.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-101.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-102.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-103.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-104.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-105.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-106.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-107.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-108.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-109.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-110.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-124.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-125.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-126.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-127.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-128.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-129.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-130.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-131.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-132.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-133.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-134.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-135.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-136.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-124b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-125b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-126b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-127b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-128b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-129b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-130b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-131b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-132b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-133b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-134b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-135b.xml
http://www.w3.org/Style/CSS/Test/CSS3/Selectors/20040510/xhtml/tests/css3-modsel-136b.xml



