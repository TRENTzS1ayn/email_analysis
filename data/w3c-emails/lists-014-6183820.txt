docno="lists-014-6183820"
received="Wed May 27 13:45:53 1998"
isoreceived="19980527174553"
sent="Wed, 27 May 1998 10:47:38 0700"
isosent="19980527174738"
name="Scott Berkun"
email="scottber@MICROSOFT.com"
subject="IE update on relative URLs (was RE: Relative URLs in 'for' option  of PICS labels)"
id="8B57882C41A0D1118F7100805F9F68B502F59354@red-msg45.dns.microsoft.com"
expires="1"


To:pics-interest@w3.org
Cc: Laura Tillett<laurati@MICROSOFT.com>, Chris Evans<cevans@MICROSOFT.com>, Julian Jiggins<julianj@MICROSOFT.com>

Unfortunately it does appear that the Win32 version of IE3 and IE4 requires
an absolute URL. Below is a specific example: the first PICS label is *not*
accepted by IE, But the second one is. 

(I'm assuming this is the exact issue that we're proposing - please correct
me if not)

<META HTTP-EQUIV="PICS-Label" CONTENT='(PICS-1.1
"http://www.rsac.org/ratingsv01.html" L GEN TRUE for "rattest.htm" R (N 4 S
3 V 0 L 4))'>

<META HTTP-EQUIV="PICS-Label" CONTENT='(PICS-1.1
"http://www.rsac.org/ratingsv01.html" L GEN TRUE for
"http://batcave/rattest.htm" R (N 4 S 3 V 0 L 4))'>

We could consider changing this behavior for IE5, but unfortunately there's
nothing I can do about IE3 and IE4.

-Scott

-----Original Message-----
From: Ralph R. Swick [mailto:swick@w3.org]
Sent: Monday, May 04, 1998 2:54 PM
To: pics-interest@w3.org
Subject: Relative URLs in 'for' option of PICS labels


PICS 1.1 Label Distribution Label Syntax [1] currently requires all
generic labels to have a 'for' option.  The current PICS 1.1
specification is imprecise about whether the URL in the 'for'
option is permitted to be relative.

If absolute URLs were required then generic labels for a site that

 a. allows both secure http access (https:) and non-secure access (http:)
   or
 b. has multiple network names (e.g. www.altavista.digital.com and
    altavista.digital.com)

would need a label list that anticipates all the combinations under
which a string prefix match could be needed.  If the label list is
stored within the document (say, of the home page) then it has to
enumerate all possibilities with identical ratings clauses.

It has been suggested to us that requiring absolute URLs in the
for option is too restrictive and that explicitly permitting
relative URLs, especially URLs that omit the scheme or network name,
would be useful to some rating environments.  Jim Miller asserts
that it was his intention that the PICS 1.1 spec as written permit
relative URLs.

We (W3C Staff) would therefore like to propose the following
clarification to the PICS 1.1 Label Syntax specification:

 1. clarify that the URL in 'for' and 'complete-label' can be a
    quoted relative URL as defined by RFC 1808 where the scheme
    may also be omitted.

 2. clarify the definition of URL prefix length and URL prfix matching
    to account for omitted scheme or network name.

The specific changes would be something like the following:

General Format

  ... Lacking a specific label, any generic label may be substituted,
  but preference should be given to the generic label which has the
  longest /+URL+/ string.  /+If the generic label gives a relative URL
  in the 'for' option, then the URL should be made absolute as defined
  by RFC-1808 using the current document URL as the base prior to
  calculating the string length.  That is, corresponding parts of the
  URL of the current document should be substituted for any omitted
  parts of the relative URL.+/

2. Information about the label itself.

  ...
  for quotedURL

  The URL (or prefix string of a URL) of the item to which this rating
  applies. This option is required for generic labels and in certain
  other cases (see "Requesting Labels Separately," below); it is
  optional in other cases. Since a single document can have many URLs,
  the URL used to retrieve a document may differ from the URL in the
  for option of a label that accompanies the document.
  /+The URL may be a relative URL as specified by RFC-1808.  The
  scheme may also be omitted.  Relative URLs are interpreted using
  the absolute URL of the current document as the base.  The empty
  URL ("") applies to the current document and to any documents in
  the hierarchy below the current document.+/

3. Other information.

  ...
  complete-label quotedURL
  -or- full quotedURL

  Dereferencing this URL returns a complete label that can be used in
  place of the current one. The complete label has values for as many
  attributes as possible. This is used when a short label is
  transmitted for performance purposes but additional information is
  also available. When the URL is dereferenced it returns an item of
  type application/pics-labels that contains a labellist with exactly
  one label.  /+The URL may be a relative URL as specified by
  RFC-1808.  The scheme may also be omitted.  Relative URLs are
  interpreted using the absolute URL of the current document as the
  base.+/

Detailed Syntax

  /+
  quotedRelativeURL :: '"' relativeURL '"' as defined in RFC-1808,
       extended to permit the scheme to be omitted,
       or quotedURL (as defined above)
  +/

  labeloption ::
  ...
         | 'for' quoted/+Relative+/URL

  otheroption ::
  ...
         | 'complete-label' quoted/+Relative+/URL
         | 'full' quoted/+Relative+/URL

  data :: quoted-ISO-date | quoted/+Relative+/URL | ...

Semantics of PICS Labels and Label Lists

  ...
  For example, a generic label for the URL "http://w3.org" /+or for
  the URL "/" +/ implicitly rates every document available at that site
  /+(at the site of the requested document)+/.

[1] http://www.w3.org/TR/REC-PICS-labels

Your thoughts on this change would be appreciated, especially from
implementors of tools that evaluate PICS labels.  If there are no
dissenting opinions, we will propose to make this update to the
PICS 1.1 specification as an editorial clarification.  If you
approve of the change but feel it is more than an editorial
clarification, please make your opinion known.

-Ralph



