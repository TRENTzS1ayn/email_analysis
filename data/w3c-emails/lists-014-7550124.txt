docno="lists-014-7550124"
received="Sun Jun 15 10:30:43 2003"
isoreceived="20030615143043"
sent="Sun, 15 Jun 2003 17:30:40 +0300"
isosent="20030615143040"
name="Henri Sivonen"
email="hsivonen@iki.fi"
subject="Color correction comments on the PNG spec 2nd ed. PR"
id="F05BC8FC-9F3D-11D7-8D2E003065B8CF0E@iki.fi"
charset="USASCII"
expires="1"

To:png-group@w3.org



Quotes from http://www.w3.org/TR/2003/PR-PNG-20030520/

> It is recommended that explicit gamma information also be provided 
> when either the first or second methods is used, for use by PNG 
> decoders that do not support full ICC profiles or the sRGB colour 
> space. Such PNG decoders can still make sensible use of gamma 
> information. PNG decoders are strongly encouraged to use this 
> information, plus information about the display system, in order to 
> present the image to the viewer in a way that reproduces what the 
> image's original author saw as closely as possible.

I think it would be appropriate to warn implementors about the 
undesirable consequences of focusing only on PNG colors when the the 
PNG image is presented in some larger graphical context such as a 
HTML+CSS page or an SVG graphic. Inconsistent color within such an 
aggregate document looks worse than the colors of the entirety being 
slightly off but consistently.

> When the incoming image has unknown gamma (gAMA, sRGB, and iCCP all 
> absent), choose a likely default gamma value, but allow the user to 
> select a new one if the result proves too dark or too light. The 
> default gamma may depend on other knowledge about the image, for 
> example whether it came from the Internet or from the local system.

Instead of recommending guessing a "likely value", I think it would be 
better to recommend that decoding applications that also handle other 
color sources (eg. GIF, JFIF, CSS) treat the color values of unlabeled 
PNGs consistently with other other unlabeled color sources. That is, it 
would be desirable for a given RGB value to be presented as the same 
color in a Web browser regardless of the RGB values source (CSS, 
unlabeled JFIF, GIF, unlabeled PNG) in order to be able to mix various 
color sources in a design.

The original PNG specification emphasized doing *something* with gamma 
over making PNG images look good as components of a larger web page 
design. As a result, some browsers (eg. Safari, older versions of Opera 
and some really old Mac builds of Mozilla) treat PNG colors 
inconsistently compared to all other color sources reducing the 
usefulness of PNG images as components of larger designs. (More at 
http://iki.fi/hsivonen/png-gamma.html)

-- 
Henri Sivonen
hsivonen@iki.fi
http://www.iki.fi/hsivonen/



