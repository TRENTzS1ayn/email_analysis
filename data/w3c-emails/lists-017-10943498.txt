docno="lists-017-10943498"
received="Sun Oct 20 05:31:43 2002"
isoreceived="20021020093143"
sent="20 Oct 2002 12:31:24 +0300"
isosent="20021020093124"
name="Ville Skytt?"
email="ville.skytta@iki.fi"
subject="Re: [check] Status and Progress"
id="1035106285.8963.77.camel@bobcat.ods.org"
charset="ISO-88591"
inreplyto="65B0EF5E-E242-11D6-8FB8000393BAB03A&#64;w3.org"
expires="1"

To: QA Dev<public-qa-dev@w3.org>



> > In particular, I'm thinking of splitting "check" into (at least) two
> > pieces; the CGI bit containing the logic, and a Perl module containing
> > pretty much all the subroutines with a little OO interface sprinkled on
> > them. And, for extra kicks, I want to strip out all embedded/hardcoded 
> > HTML
> > snippets from the code and replacing them with a templating system
> > (probably i18n-ing the validator in the process).
> 
> I like the ideas. templating the messages is a good move, It may 
> attract people wishing to improve the "user experience" with translated 
> messages (in en_newbie or other languages). "modularizing" a bit seems 
> like a reasonable move too.
> 
> I'm totally in favour to these ideas, provided that (as you mentioned) 
> we branch the code in order to allow bug fixes of the prod version a 
> little more often than real "releases".

Seconded.  But how about using XSLT for the "templating" instead of some
Perl stuff?  Dunno if the XML generation for XSLT should be templatized
or hardcoded in Perl, though...

I've had an idea of using Validator as a backend for a validating proxy
for some time now.  Using such a proxy would be useful when checking
some dynamic pages which are behind custom authentication schemes and
depend on the User-Agent etc.  There are unresolved issues still, like
where to put/how to handle the validation results etc, and I haven't
really looked at the Validator code in the sense of really using it in a
HTTP proxy.  But the modularization of the code sounds good to me in
this respect too.

Oh, perhaps a bit offtopic in this thread, but I noticed a couple of
weeks ago that Validator doesn't run with mod_perl 2, at least the one
that comes with RedHat 8.0 (1.99_05).  IIRC there's nothing we can do
about it, but it happened when passing the STDIN to open3(), barfing
something like "Can't locate method FILENO in request_rec".  But it
works fine with Perl 5.8.0 and Apache 2 (without mod_perl).  I'll
provide more details on request.

-- 
\/ille Skytt?
ville.skytta at iki.fi



