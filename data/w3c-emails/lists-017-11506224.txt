docno="lists-017-11506224"
received="Wed Apr 23 23:05:19 2003"
isoreceived="20030424030519"
sent="Thu, 24 Apr 2003 12:05:14 +0900"
isosent="20030424030514"
name="Olivier Thereaux"
email="ot@w3.org"
subject="[check] the case of the missing Doctype/Charset"
id="91AD6FB2-7601-11D7-A7CD000393BAB03A@w3.org"
charset="USASCII"
expires="1"

Cc: Karl Dubost<karl@w3.org>
To:public-qa-dev@w3.org



Hi.

As far as I can tell the issue was (last) raised in this thread
http://lists.w3.org/Archives/Public/www-validator/2003Mar/thread.html#42
and can be summarized as follows:

Currently the validator considers the absence of doxtype or charset as 
a fatal error not allowing it to proceed with parsing (and validation), 
thus avoiding bogus errors, but potentially repelling users who don't 
want to fix their charset, come back, the fix the doctype, come back, 
and finally be able to see their hundreds of errors. (tsk, some people 
don't know where the real fun is...).

Terje has been implementing some fallback mechanism, which basically 
trigger the doctype/charset override (which is, BTW, always available) 
if none is present. The question is how/when/whether to give the users 
the choice to use this.

A few possible solutions. I'll try to be objective, and will give my 
opinion on each of them in a separate message).

I
   - fatal error by default, improve warning
   - fallback as an option (triggered by radio button)

Ibis
   - fatal error by default, improve warning
   - fallback as an option (in drop-down menu, "detect automatically" 
uses fallback, add blank option to not use fallback - used by default -)

II
   - fallback by default (+warning pointing to explanation(s), 
+tentative validation)
   - (in drop-down menu, "detect automatically" uses fallback, add blank 
option to not use fallback)

IIbis
   - fallback by default (+ warning with explanations, + tentative 
validation)
   - (in drop-down menu, "detect automatically" uses fallback, add blank 
option to not use fallback)

III
   - by default, fallback, but only "summarized" validation, a la
"I have not found a _charset_|_doctype_ in your document, and will need 
one to properly validate the document. (_more info_)
If I try to validate the document with the [foo] charset | [bar] 
doctype, the document appears to be valid|invalid with 1242 errors"
   - Options to give full output of tentative validation

Any preference? Other options?

-- 
Olivier



