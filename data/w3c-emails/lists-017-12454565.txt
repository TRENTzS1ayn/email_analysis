docno="lists-017-12454565"
received="Sun Mar  9 08:32:51 2003"
isoreceived="20030309133251"
sent="Mon, 10 Mar 2003 00:32:30 +1100"
isosent="20030309133230"
name="Frederic Schutz"
email="schutz@mathgen.ch"
subject="Re: [check] 0.6.2 release (Was Re: inaccuracies in validator)"
id="7lfm6v4nskmlstn9brlbjr62vbe616ncof@4ax.com"
charset="usascii"
inreplyto="a0106000b-1024C01439B14B4B11D789E10030657B83E8&#64;[193.157.66.23]"
expires="1"

To: Terje Bless<link@pobox.com>
Cc: QA Dev<public-qa-dev@w3.org>


Le Fri, 28 Feb 2003 19:37:54 +0100, tu as ecrit :

>> what was the decision about storing the RPM/DEBs and their
>> dependencies on v.w.o ?

> I've made the /source/ page point at a /dist/ directory on v.w3.org with
> the intention that this directory will not exist in CVS. This is where I
> intended that anything downloadable should reside.

> Whether or not to host the binary packages and the dependencies there
> depend entirely on what you and Ville think is best. If it is practical for
> you and for users to host it there I think that makes sense (IIRC Olivier
> also thinks this would be ok, right?).

I'll have the package (and its dependencies) on my site in any case, but it
may be a good idea to mirror it on v.w.o, if only to ensure that the
packages will always be available at a "stable" URL, even if someone take
over the package maintenance. A cron'd sync (as suggested by Olivier) would
be fine, this way I won't need any special access to a w3c server.

>> I added a note on the "source" page saying that if you are on a
>> Debian system, you can see the source by doing bla bla and bla.
> Can this reasonably be integrated into the v.w3.org version so you won't
> have to maintain this diff?

Yes -- see attached diff. Comments welcome (about content or grammar).

> I'll see what I can do to make this work better for Debian. It would help
> if you could describe the directory structure and relevant filenames for
> me.

The situation is as follows:

  - /etc/sgml contains all the catalogs, including the main catalog
    (/etc/sgml/catalog) which references the other catalogs
    (/etc/sgml/w3c-dtd-xhtml.cat, etc).
  - all the DTDs are stored in subdirectories of /usr/share/sgml
 
As far as I know, the validator does not really need to know about the
catalog (onsgmls knows about the main catalog), but it has to add
/etc/sgml and /usr/share/sgml to SGML_SEARCH_PATH because of the -R
option.

Just an idea about a possible way to do it:

  - have an option in the config file which specifies additional
    directories that should be added to SGML_SEARCH_PATH;
  - leave the "SGML Library" config option empty in the Debian package, and
    modify check so that it does not specify a catalog for onsgmls in this
    case.

In any case, it would certainly be worth moving some hardcoded options
(like the catalog names, xml.soc etc) into the configuration file in a way
or another.

> In the 0.7.0 timeframe we should be able to provide a suffieciently clean
> sgml-lib package -- possibly the proposed separate DTD registry/collection
> project -- that we could propose Red Hat use that instead/in addition to
> what they ship now.

Following Ville's comment ("I believe the vendor libs are currently
only a small subset of what we want to be able to validate against"), I
was wondering: which DTDs should the validator be able to validate against
? Debian doesn't contain all the DTDs that are provided in sgml-lib, but do
we really need all of them ? If needed, I can package the missing ones, but
some of them do not seem essential.

> Ville maintains the spec file (more or less?) in CVS, but I dunno
> whether that would make sense for you and the Debian package.

No, an independant /debian dir is the best solution at the moment. 

> I think I have this in my TODO somewhere too. Ping me about it if it
> hasn't been fixed when I tag 0.6.2 in CVS will you?

Will do !

Fr?d?ric




text/plain attachment: email.txt




