docno="lists-017-15235930"
received="Mon Aug 19 04:40:15 2002"
isoreceived="20020819084015"
sent="Sat, 17 Aug 2002 18:13:40 0400 (EDT)"
isosent="20020817221340"
name="Wesley W. Terpstra"
email="wesley@terpstra.ca"
subject="xf:escape-uri and utf8"
id="20020817220905.GA6119@maul.vpn"
charset="usascii"
expires="1"

To:public-qt-comments@w3.org






How is uri-escape(str, bool) to deal with unicode strings in str?

It seems to me that it should output the string in utf-8 encoded as hex
stream with %s.

This has several payoffs:

Transparent behaviour for uris:
the examples in the current draft continue to work
All of normal ascii gets encoded as expected
Will behave the way most people expect

A well-defined map for all of unicode

POST/GETs to CGIs can support internationalisation as long as they realize
their data is in utf-8

rfc822 mail headers for non-iso-8859 languages work simply:
<xsl:text>Subject: =?utf-8?Q?</xsl:text>
<xsl:value-of select="translate(uri-encode(subject, true), '%', '=')"/>
<xsl:text>?=<xsl:text>

I am sure many other hacks are possible when one knows that the output is
has charset utf-8. So, please clarify the output charset used for encoding
the unicode string prior to hexifying it. This way all implementation will
use a common charset and greatly increase the utility of this function.

-- 
Wesley W. Terpstra <wesley@terpstra.ca>



