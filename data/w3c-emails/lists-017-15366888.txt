docno="lists-017-15366888"
received="Tue Aug 20 12:06:34 2002"
isoreceived="20020820160634"
sent="Tue, 20 Aug 2002 11:46:30 0400 (EDT)"
isosent="20020820154630"
name="Jonathan Robie"
email="jonathan.robie@datadirecttechnologies.com"
subject="Re: [public-qtcomments] &lt;none&gt;"
id="5.1.0.14.0.20020820113752.02886550@ncmail.datadirecttechnologies.com"
charset="usascii"
inreplyto="5.0.2.1.0.20020819182725.022aeec0&#64;193.51.25.7"
expires="1"


To: Fei Sha<Fei.Sha@prism.uvsq.fr>,public-qt-comments@w3.org





At 12:34 PM 8/19/2002 -0400, Fei Sha wrote:

>in the document: "XML Query Use Cases  W3C Working Draft 16 Aug 2002"
>
>1.1.9.7 Q7
>$b/@year is interpreted as an attribute of the <book>

Yes.

>1.5.4.6 Q6
>List the short titles of all sections (the values of the "shorttitle" 
>attributes of all "section" elements, expressing each short title as the 
>value of a new element.)
>
>If I interprete "...each short title as the value of a new element"
>The result should be:
>
><result>
><stitle>What is markup?</stitle>
><stitle>What is SGML?</stitle>
><stitle>How does SGML work?</stitle>
></result>
>
>Is this interpretation correct?

The text is misleading. The query would actually return:

<result>
<stitle shorttitle="What is markup?"/>
<stitle shorttitle="What is SGML?"/>
<stitle shorttitle="How does SGML work?"/>
</result>

The query could have been written differently to produce the result you 
give, eg:

<result>
  {
   for $s in input()//section/@shorttitle
   return <stitle>{ string-value($s) }</stitle>
  }
</result>

I will change either the query or the text for the next Working Draft.

>What is the expected result of the query:
>
>     for $y in document("www.bn.com/bib.xml")//book/@year
>     return $y

Our answers to use  cases are generally presented as serialized XML text, 
but not every instance of the data model can be serialized as well-formed 
XML. In this case, you have a sequence of attributes, which is a perfectly 
valid query result, but can not be serialized as an XML document. That's 
why we put the attributes into elements in the query in 1.5.4.6 Q6.

Jonathan



