docno="lists-017-15465571"
received="Mon Aug 26 10:19:58 2002"
isoreceived="20020826141958"
sent="Mon, 26 Aug 2002 16:19:38 +0200"
isosent="20020826141938"
name="Kay, Michael"
email="Michael.Kay@softwareag.com"
subject="RE: Data Model WD: [Issue0062: Namespace fixups required]"
id="DFF2AC9E3583D511A21F0008C7E621060453DABB@daemsg02.softwareag.de"
inreplyto="Data Model WD: [Issue0062: Namespace fixups required]"
expires="1"


To: Jeni Tennison<jeni@jenitennison.com>,public-qt-comments@w3.org


> First, I absolutely agree that namespace fixup (as described 
> in Section 4.5 of the XSLT 2.0 WD) should be specified as 
> part of the Data Model, within the definition of element construction.
> 
> Second, when this gets done, remember that as well as the 
> attributes of the element having their own namespace, the 
> values of those attributes and possibly the element itself 
> might be QNames and therefore require namespace nodes to be 
> added to the element....

The problem of writing QName-valued attributes to the result tree is
probably the major thing that's been holding this up. There are significant
problems here that we still have to solve. In general, the model for result
tree construction in XQuery is [now]that values are serialized by converting
them to strings, and the resulting serialized XML is then passed through a
schema processor to attach type annotations. The model in XSLT is very
similar. This model doesn't yet work properly for QName-valued attributes
(let alone other attributes containing namespace prefixes, such as XPath
expressions). There is "work in progress" in this area.

Michael Kay
Software AG



