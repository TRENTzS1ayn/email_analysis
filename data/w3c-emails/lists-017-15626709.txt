docno="lists-017-15626709"
received="Thu Dec  5 15:05:11 2002"
isoreceived="20021205200511"
sent="Thu, 5 Dec 2002 13:04:52 0700"
isosent="20021205200452"
name="Don Chamberlin"
email="chamberl@almaden.ibm.com"
subject="Re: Bug in operator to function mapping in XQuery"
id="OFE8AE1EB2.C584D285-ON88256C86.006D582288256C86.006E20FA@us.ibm.com"
charset="USASCII"
inreplyto="Bug in operator to function mapping in XQuery"
expires="1"

To:lehti@ipsi.fhg.de,public-qt-comments@w3.org


Hi Patrick,
Thanks for pointing this out. Of course, you are right. I will fix this in 
the next edition of the XPath and XQuery documents. I do not believe any 
new functions are needed. Instead, I propose to map "A ge B" to 
"fn:not(op:numeric-less-than(A, B))". Similar changes will be needed to 
the ge and le operators for all the date/time/duration types.
Best regards,
--Don Chamberlin

---------------------- (referenced note) -----------------------------

Date: Wed, 20 Nov 2002 06:05:50 -0500 (EST)
From: "Patrick Lehti" <lehti@ipsi.fhg.de>
To: <public-qt-comments@w3.org>
Message-ID: <004201c29084$bd074bd0$291c0c8d@pcspindle>
Subject: Bug in operator to function mapping in XQuery

Hi,
there is a bug in the operator to function mapping (appendix B.2 in
XQuery 1.0 document and appendix B in Formal Semantics document). 

A ge B is definitly not the same as op:numeric-less-than(B, A) for the
case that A equals B. The same mistake is found for the "le" operator. I
assume that you have to add two additional functions to the F&O document
for these operators.

By the way, this bug was already there in the WD of August. Sorry that I
did not point you to this earlier.

Best regards,
Patrick



