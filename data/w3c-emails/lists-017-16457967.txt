docno="lists-017-16457967"
received="Tue May  7 15:42:46 2002"
isoreceived="20020507194246"
sent="Tue, 7 May 2002 15:27:24 0400 (EDT)"
isosent="20020507192724"
name="Elliotte Rusty Harold"
email="elharo@metalab.unc.edu"
subject="PSVI and XPath 2.0 data model"
id="p04330119b8fdd7b38643@[192.168.254.4]"
charset="usascii"
inreplyto="000901c1f5f0$bc65f840$6501a8c0&#64;pcukmka"
expires="1"


To:<michael.h.kay@ntlworld.com>
Cc:public-qt-comments@w3.org,xml-dev@lists.xml.org

At 6:58 PM +0100 5/7/02, Michael Kay wrote:

>The XPath 2.0 data model is based on the PSVI, not on the schema definition
>language. It's explicitly an aim that you can generate the PSVI by
>validation against a DTD, it should also be possible to generate it by
>validation against other schema languages.
>

On an unrelated matter, does XPath 2.0 bother to define how the PSVI 
is actually constructed from a specific XML document or does it allow 
processors to create whatever PSVI they want to whether or not that 
PSVI has any relation to the original XML document at all? For 
instance, is it acceptable for an XSLT2 processor to replace all 
child elements with attributes or convert rectangle elements into 
circle elements? or simply replace the entire input document with the 
Gospel According to Bob?

Of course, such insane behavior would render a processor useless. 
However, some people have claimed that XSLT 1.0 permits this. I 
personally don't believe those assertions. I think they're based on 
misreadings of the XSLT 1.0 spec. However, I would like to have XSLT2 
rule out these possibilities very clearly, so we can stop having that 
argument. Alternately, if the XSLT2 working group makes the wrong 
decision and endorses such silliness, then everyone on the XSLT 
conformance group can stop wasting their time, since clearly any 
behavior could be made conformant.

Let me make a specific proposal here: the XSLT working draft should 
require that:

1. When two conformant XML processors are presented with the same XML 
document, whether as a stream, DOM Document, a sequence of SAX 
events, or some other form that can reasonably express a XML 
document; and

2. An XSLT stylesheet does not use any features explicitly marked as optional;

Then, both processors must be able to generate an XML document as a 
sequence of bytes or characters, such that, when the two documents 
are compared according to Canonical XML with comments, the two output 
documents are identical.

The wording clearly needs work, but you get the drift. I want it 
possible to be able to do conformance testing on XXSLT processors 
without any weaseling about source tree construction. I want a clear 
path from genuine XML document to PSVI to source tree.
-- 

+-----------------------+------------------------+-------------------+
| Elliotte Rusty Harold | elharo@metalab.unc.edu | Writer/Programmer |
+-----------------------+------------------------+-------------------+
|          The XML Bible, 2nd Edition (Hungry Minds, 2001)           |
|             http://www.cafeconleche.org/books/bible2/              |
|   http://www.amazon.com/exec/obidos/ISBN=0764547607/cafeaulaitA/   |
+----------------------------------+---------------------------------+
|  Read Cafe au Lait for Java news:  http://www.cafeaulait.org/      |
|  Read Cafe con Leche for XML news: http://www.cafeconleche.org/    |
+----------------------------------+---------------------------------+



