docno="lists-017-2809713"
received="Thu Apr 24 17:13:41 2003"
isoreceived="20030424211341"
sent="Thu, 24 Apr 2003 17:13:33 0400"
isosent="20030424211333"
name="Joseph Reagle"
email="reagle@w3.org"
subject="Re: P3P Data Schema as XML Schema"
id="200304241713.34296.reagle@w3.org"
charset="iso-88591"
inreplyto="GAEKIJGJBJOBBJEFAHMLMEANCJAA.giles.hogben&#64;jrc.it"
expires="1"

To:"Giles Hogben"<giles.hogben@jrc.it>
Cc:<public-p3p-spec@w3.org>



On Wednesday 23 April 2003 09:00, Giles Hogben wrote:
> Here are notes and files I promised on XML Schema for BSD. Rigo, perhaps
> you could post the files on a server somewhere as promised. The XSLT
> works with msxml but can easily be adapted for others (see notes below).

Hi Giles, good stuff! Some comments below:

> bsd.xsd is the (formatted) result of a transformation on the P3P1.0 BSD

I presume I should be able to run this against a P3P instance? But one of 
the annoyances of Schema is not being able to clearly distinguish the root 
element, and in this case I don't think there is any? So which subset of a 
P3P XML instance is this schema file supposed to validate against? (Not 
against the root POLICIES ... ENTITY? DATA-GROUP?)

Why is there a seven after the schema element?
  <schema targetNamespace="http://www.w3.org/2002/01/P3Pv1">7

> bsdtransform.xsl is the xslt


> This informal specification is formally specified

<smile/>

> 4. You can use the stylesheet with other xsl processors but you need to
> change the node-set extension. 

That's on line 44 now, the documentation says 42.

Might include the following URI so folks can read about it:
  http://saxon.sourceforge.net/saxon6.5.2/extensions.html#nodeset

"xx" is an unbound prefix. Why not include:
  xmlns:xx="http://exslt.org/common"
in your xslt. Even if it's not used, it won't hurt anything would it?
(Found that namespace in:
  http://www.exslt.org/exsl/index.html
)

I haven't been able to confirm the transform yet. I'm not a big fan of java 
-- never got saxon to run -- I don't think sablotron 
supports that function and xsltproc gives me odd results:

> xsltproc bsdtransforms.xsl bsd.xml
<?xml version="1.0"?>
<schema xmlns:xx="http://exslt.org/common" 
targetNamespace="http://www.w3.org/2002/01/P3Pv1">7<simpleType 
name="allCategories"><restriction base="xs:string">
                                                @br/~<enumeration 
value="uniqueid">
                                                @br/~</enumeration>
                                                @br/~<enumeration 
value="demographic">
                                                @br/~</enumeration>
                                                @br/~<enumeration 
value="physical">
                                                @br/~</enumeration>
                                                @br/~<enumeration 
value="online">
                                                @br/~</enumeration>
                                                @br/~<enumeration 
value="computer">
                                                @br/~</enumeration>
                                                @br/~<enumeration 
value="navigation">
                                                @br/~</enumeration>
                                                @br/~<enumeration 
value="interactive">
                                                
@br/~</enumeration></restriction></simpleType></schema>



