docno="lists-018-10603662"
received="Tue Jul  1 13:51:06 2003"
isoreceived="20030701175106"
sent="Tue, 1 Jul 2003 19:50:47 +0200 "
isosent="20030701175047"
name="Kay, Michael"
email="Michael.Kay@softwareag.com"
subject="RE: MS-FO-LC1-036: stringjoin example is wrong"
id="DFF2AC9E3583D511A21F0008C7E62106073DCF9B@daemsg02.softwareag.de"
inreplyto="MS-FO-LC1-036: stringjoin example is wrong"
expires="1"


To: Jeni Tennison<jeni@jenitennison.com>, Michael Rys<mrys@microsoft.com>
Cc:public-qt-comments@w3.org


> 
> The example is wrong, however, because it uses the expression 
> "name(.)" when it should use "name($n)". The current example 
> would return "section/section/section" since "name(.)" always 
> returns "section". The corrected example is:
> 
>   fn:string-join(for $n in ancestor-or-self::* return name($n), '/')
> 

If we can't have a "for" expression that binds the context item, I really do
think that as a minimum, a "for" expression should unbind ".", so that this
all-too-common error gets detected.

Michael Kay



