docno="lists-018-1915662"
received="Fri Oct  4 07:50:15 2002"
isoreceived="20021004115015"
sent="Fri, 4 Oct 2002 13:50:01 +0200 "
isosent="20021004115001"
name="Kay, Michael"
email="Michael.Kay@softwareag.com"
subject="RE: F&amp;O Constructors and whitespace processing"
id="DFF2AC9E3583D511A21F0008C7E621060453DC16@daemsg02.softwareag.de"
charset="iso-88591"
inreplyto="F&amp;O Constructors and whitespace processing"
expires="1"


To: John Mercado<johnkmercado@yahoo.com>, XQuery Comments<public-qt-comments@w3.org>


> It is unclear to me from the rec whether the
> constructors for the XML Schema types process
> whitespace like an XML Schema processor would.  For
> example, is xs:integer("  12   ") valid?
> 
> How about xs:token("  many     spaces   ")?
> Would that become "many spaces"?
> 
> I know a schema processor would collapse the
> whitespace, but would a query processor?  It might be
> helpful to have a note on that either way.

According to the current WD, whitespace is not allowed in such constructs.
We have already noted this as an error and resolved to correct it.

I think that we wrote the spec believing that "  12  " was in the lexical
space for xs:integer, but we were wrong: the lexical space is actually the
set of values that can appear after whitespace normalization as defined by
the whiteSpace facet. To restore the original intent we need to adjust the
specification for casts and constructors to apply the whitespace
normalization as well as the lexical-space-to-value-space conversion.

Michael Kay



