docno="lists-018-3125496"
received="Mon Sep  2 07:58:25 2002"
isoreceived="20020902115825"
sent="Mon, 2 Sep 2002 13:58:09 +0200 "
isosent="20020902115809"
name="Kay, Michael"
email="Michael.Kay@softwareag.com"
subject="RE: XPath grammar problems and recommendations"
id="DFF2AC9E3583D511A21F0008C7E621060453DB01@daemsg02.softwareag.de"
charset="iso-88591"
inreplyto="XPath grammar problems and recommendations"
expires="1"


To:"Ed.Willink"<Ed.Willink@uk.thalesgroup.com>,"'public-qt-comments@w3.org'"<public-qt-comments@w3.org>


> The Aug 16 Xpath 2.0 WD is much improved on the 30-Apr WD.
> 
> There are however problems. 
> 
> instance of attribute
> ---------------------
> 
> A problem arises when an instnace of is followed by any of
> 
> the or/and/for/quantified/if precedence operators
> 
> since there is then an ambiguity between
> 
> {... instance of attribute operator} ...
> 
> and
> 
> {... instance of attribute} operator ...
> 
> Perhaps some <> annotations should specify a resolution for 
> the above, presumably as the normal left maximisation, since 
> parentheses can be used to force termination between 
> attribute and operator.
> 
> However the ambiguity is unplesasant, and could be better 
> resolved with parentheses in the grammar: instance of (SequenceType).

I'm personally inclined to agree with you. The ambiguity can be resolved by
some kind of backtracking, but it's not nice. I think a number of people are
uneasy about various aspects of the SequenceType production, and this is
something we need to take another look at.
> 
> AtomicType
> ----------
> 
> The grammar for ItemType is trivially impossible since 
> AtomicType is a QName and so covers node and comment etc 
> which are distinct ItemType's.
> 
I guess we're assuming some kind of "first match" resolution here. We need
to be more explicit about the assumptions.

> 
> Lexical states
> --------------
> 
I'll leave these comments to be addressed by people who understand the
parsing technology better than I do.

Michael Kay
Software AG



