docno="lists-018-3778585"
received="Wed Apr  9 15:58:30 2003"
isoreceived="20030409195830"
sent="Wed, 9 Apr 2003 20:31:19 +0100"
isosent="20030409193119"
name="Michael Kay"
email="michael.h.kay@ntlworld.com"
subject="RE: Nested sequences in XPath"
id="000201c2fece$9890f4f0$6401a8c0@pcukmka"
charset="usascii"
inreplyto="3E926974.5020002&#64;prescod.net"
expires="1"

To:"'Paul Prescod'"<paul@prescod.net>
Cc:<public-qt-comments@w3.org>,<evan@evanlenz.net>



> > If we do ever want to add nested sequences, I don't think it's 
> > difficult; we would just add a new kind of item called a 
> > sequence-reference.
> 
> And what would this expression mean in this hypothetical XPath 3:
> 
> (a, (b, c), d, (e, f))
> 

It would mean the same as it means in XPath 2. If we provided a new kind
of item in the type system, we would need to provide new syntax to
support it, for example

  (a, seq-ref(b, c), d, seq-ref(e, f))

But personally, I don't see this happening. The reason that sequences
have been added to XPath is to support list-valued nodes in XML Schema.
I would be greatly surprised if XML Schema is ever enhanced to support
lists-of-lists, and if it isn't, then there is no need for XPath to
support them either.

The idea of sequence flattening in XPath 2.0 is completely consistent
with the way path expressions work in XPath 1.0, where the construct
a/b/c gives a flat node-set rather than a set of sets of sets.

Michael Kay 



