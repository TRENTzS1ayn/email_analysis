docno="lists-018-4146098"
received="Sat Apr 19 14:03:17 2003"
isoreceived="20030419180317"
sent="Sat, 19 Apr 2003 14:02:58 0400"
isosent="20030419180258"
name="Todd A. Mancini"
email="todd.mancini@daxat.com"
subject="RE: Definition of op:numericdivide in the F&amp;O spec"
id="000001c3069d$e8d940d0$0201a8c0@qodfathr"
charset="usascii"
inreplyto="E5B814702B65CB4DA51644580E4853FB07A7B116&#64;red-msg12.redmond.corp.microsoft.com"
expires="1"

To:"'Ashok Malhotra'"<ashokma@microsoft.com>,<public-qt-comments@w3.org>


As someone who has spent time making sure that xs:decimal arithmetic
truly handles infinite precision, I am not in favor of xs:decimal
magically becoming xs:double.  If the user wants the speed but less
accuracy of  xs:double, it's great that the type is available to them
from such a rich base set of types.

 

            -Todd

 

-----Original Message-----
From: public-qt-comments-request@w3.org
[mailto:public-qt-comments-request@w3.org] On Behalf Of Ashok Malhotra
Sent: Friday, April 18, 2003 2:32 PM
To: public-qt-comments@w3.org
Subject: Definition of op:numeric-divide in the F&O spec

 

The definition of op:numeric-divide is not specific enough in how
integer and decimal operands should be handled.

Should they be converted to double and a zero divisor be handled by the
double division returning + or -INF, or should the divisor be checked
for zero before converting to double.

I suggest we change the details to one of the paragraphs below.  My, not
very strong, preference is the first paragraph.

For xs:decimal and xs:integer operands, the operands are first converted
to xs:double.  For xs:float and xs:double operands, floating point
division is preformed as specified in
<http://lists.w3.org/Archives/Member/w3c-archive/2003Feb/att-0150/xquery
-operators.html> [IEEE 754-1985].

For xs:decimal and xs:integer operands, the divisor is checked first.
If it is 0, then an error is raised ("Division by zero"). The operands
are then converted to xs:double.  For xs:float and xs:double operands,
floating point division is preformed as specified in
<http://lists.w3.org/Archives/Member/w3c-archive/2003Feb/att-0150/xquery
-operators.html> [IEEE 754-1985].

 

All the best, Ashok



