docno="lists-018-5377772"
received="Thu Aug 14 15:12:54 2003"
isoreceived="20030814191254"
sent="Thu, 14 Aug 2003 12:06:09 0700"
isosent="20030814190609"
name="Michael Rys"
email="mrys@microsoft.com"
subject="RE: MS-FO-LC1-100: Promotion of untyped values in fn:distinctvalues?"
id="EB0A327048144442AFB15FCE18DC96C769D7E3@RED-MSG31.redmond.corp.microsoft.com"
charset="usascii"
inreplyto="MS-FO-LC1-100: Promotion of untyped values in fn:distinctvalues?"
expires="1"


To:"Ashok Malhotra"<ashokma@microsoft.com>,<public-qt-comments@w3.org>


This seems incorrect. We should not change the type of the values in the
result. We should only use a certain type for the comparison. Also, with
the wording below, what would the semantics be, if you have the static
type

(Xdt:untypedAtomic | xs:string | xs:decimal)*

and a sequence of values of each of the member types?

Best regards
Michael

> -----Original Message-----
> From: Ashok Malhotra
> Sent: Sunday, August 10, 2003 8:30 AM
> To: Michael Rys; public-qt-comments@w3.org
> Subject: RE: MS-FO-LC1-100: Promotion of untyped values in
fn:distinct-
> values?
> 
> fn:distinct-values does not say how values of type xdt:untypedAtomic
are
> handled.  I suggest we use the same rule that we use for aggregate
> functions, namely  "Values of type xdt:untypedAtomic are cast to the
type
> of the other items in $arg. If all values in $arg are of type
> xdt:untypedAtomic they are converted to xs:string."
> 
> All the best, Ashok
> 
> > -----Original Message-----
> > From: public-qt-comments-request@w3.org [mailto:public-qt-comments-
> > request@w3.org] On Behalf Of Michael Rys
> > Sent: Wednesday, July 09, 2003 2:33 AM
> > To: public-qt-comments@w3.org
> > Subject: MS-FO-LC1-100: Promotion of untyped values in fn:distinct-
> values?
> >
> >
> > Class: Technical
> >
> > Section 15.1.11: Are values of type xdt:untypedAtomic promoted? If
so
> > how?
> >



