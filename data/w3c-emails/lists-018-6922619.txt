docno="lists-018-6922619"
received="Fri Dec  5 11:48:54 2003"
isoreceived="20031205164854"
sent="Fri, 5 Dec 2003 08:44:50 0800"
isosent="20031205164450"
name="Ashok Malhotra"
email="ashokma@microsoft.com"
subject="RE: F&amp;O 7.2.1 fn:codepoints-tostring"
id="EDB607C8AC991F40BE646533A1A673E8C5A3A4@RED-MSG42.redmond.corp.microsoft.com"
charset="usascii"
inreplyto="F&amp;O 7.2.1 fn:codepoints-tostring"
expires="1"


To:"David Carlisle"<davidc@nag.co.uk>,<public-qt-comments@w3.org>


David:
Thank you for your comment.  The F&O taskforce discussed this on
12/2/2003 and decided not to make the change to allow characters that
are not legal XML characters.

We will look into changing the wording to clarify which version on XML
is 
supported.

All the best, Ashok

-----Original Message-----
From: public-qt-comments-request@w3.org
[mailto:public-qt-comments-request@w3.org] On Behalf Of David Carlisle
Sent: Monday, November 17, 2003 5:47 AM
To: public-qt-comments@w3.org
Subject: F&O 7.2.1 fn:codepoints-to-string



> If any of the code points in $arg is not a legal XML character,

Have the WGs considered dropping this constraint?
This would of course require relaxing the data model to allow such
characters.

It comes up from time to time on XSL list that people are using XSLT to
query XML documents but generating non-xml using
<xsl:output method="text"/>
and so it might be quite natural to allow non-xml characters in the
output.

James Clark's original xt implemtation had a non-standard nxml output
method to achieve this (using specific elements to represent characters
that were linearised as non-xml characters) but given that the function
codepoints-to-string has been added one could use
<xsl:value-of select="codepoints-to-string(5)"/>
for this. It would of course be a serialisation error to output this
using an xml/xhtml output method.

Actually the example "5" would be legal (presumably) in a data model
based on XML 1.1 as XML 1.1 draft only bans character 0 from the C0
controls, only insisting that the others are linearised using numeric
references.

So even if the constraint is not dropped, the phrase "not a legal XML
character" might need to be clarified with respect to applicable XML
version.

David

________________________________________________________________________
This e-mail has been scanned for all viruses by Star Internet. The
service is powered by MessageLabs. For more information on a proactive
anti-virus service working around the clock, around the globe, visit:
http://www.star.net.uk
________________________________________________________________________



