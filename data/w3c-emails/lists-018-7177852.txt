docno="lists-018-7177852"
received="Mon Dec  8 16:52:47 2003"
isoreceived="20031208215247"
sent="Mon, 8 Dec 2003 13:53:00 0800"
isosent="20031208215300"
name="Michael Rys"
email="mrys@microsoft.com"
subject="RE: [DM] white space"
id="EB0A327048144442AFB15FCE18DC96C70179EAF3@RED-MSG31.redmond.corp.microsoft.com"
charset="usascii"
inreplyto="[DM] white space"
expires="1"


To:"David Carlisle"<davidc@nag.co.uk>
Cc:<public-qt-comments@w3.org>


> > They are not significant if they occur between markup
> > tags without anything else.
> 
> I believe there is no precedent (outside some documentation for a
> particular company's products) for calling white space textnodes in
> mixed content insignificant. This is significant white space in any
> conventional xml or sgml usage. Are you really saying you never expect
> to see
> <a href="foo">this</a> <i>or</i> <a href="bar">this</a>
> and you don't care if Xquery/XSLT are so laxly defined that it is
> impossible to reliably convert this line with an identity transform to
> html?

[Michael Rys] I believe that in document-centric XML they are important
and thus should be guarded with an explicit xml:space="preserve" (or an
external data model generation flag that sets the default preservation
of such whitespace only text nodes to preserve). However in data-centric
XML they are not.

So I argue that we need to provide support for both and the place to put
that support is outside of the data model specification itself.

> >
> > [Michael Rys] This goes into the definition of an XML processor. In
our
> > interpretation the XML processor is the process that generated the
> > information set. The data model generation is an application...
> 
> but according to the infoset doc, the infoset is just an abstraction
not
> something to generate, really. But as I say you could probably get
some
> definition like that that would not mean thatyou were contrary to the
> XML spec, but it's a close call and doesn't help your unfortunate user
> who has all his spaces gone. (This really is a _massive_ problem in
IE,
> where it makes it virtually impossible to reliably generate _any_ html
> from document oriented xml sources (other xhtml, xmlspec, docbook,
etc)

[Michael Rys] I agree that it is a problem in IE and that they should
have used the preserve whitespace property. Now the cost of changing is
probably too high, although if you bug the people in the IE team, they
may reconsider (if they ship a new version and you can prove that the
benefit is worth breaking backwards-compatibility or providing another
user-option). This is however better discussed in the relevant Microsoft
newsgroups or with the people maintaining IE.

> its less of a problem in msxml itself as that has a preservewhite
space
> property that you can set to make it into a more conforming parser,
that
> reports the space. It is this experience that convinces me that the
> current wording, apart from any legalistic issues about undefined
terms
> is simply catastrophic in terms of usability. If white spaces are
> goingto be removed it must not be left up to the parser implementor to
> remove them, there must be a user option (somewhere, anywhere) to
> preserve them.

[Michael Rys] I agree, but that - in my opinion - is not the task of the
W3C XQuery WG but either other groups that define the environment of how
to generate XML datatype instances (such as the XMLPARSE option of the
SQL-2003 standard) or sheer market pressure on the vendors.

> 
> David
> --
> http://www.dcarlisle.demon.co.uk/matthew



