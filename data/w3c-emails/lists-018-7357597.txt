docno="lists-018-7357597"
received="Thu Dec 11 10:10:40 2003"
isoreceived="20031211151040"
sent="Thu, 11 Dec 2003 16:10:36 +0100 (MET)"
isosent="20031211151036"
name="Oliver Becker"
email="obecker@informatik.huberlin.de"
subject="RE: [FO]: OB01 escapeuri"
id="Pine.GSO.4.02.10312111555250.29190100000@naxos"
charset="USASCII"
inreplyto="EDB607C8AC991F40BE646533A1A673E8CE7ECF&#64;RED-MSG42.redmond.corp.microsoft.com"
expires="1"

To: Ashok Malhotra<ashokma@microsoft.com>
Cc:public-qt-comments@w3.org



On Wed, 10 Dec 2003, Ashok Malhotra wrote:

> If $escape-reserved is true, all characters are escaped other than the
> lower case letters a-z, the upper case letters A-Z, the digits 0-9,
> the PERCENT SIGN "%" and the NUMBER SIGN "#" characters and the
> characters referred to in [RFC 2396] as "marks": specifically,
> HYPHEN-MINUS ("-"), LOW LINE ("_"), FULL STOP ".", EXCLAMATION MARK
> "!", TILDE "~", ASTERISK "*", APOSTROPHE "'", LEFT PARENTHESIS "(",
> and RIGHT PARENTHESIS ")".
>
> If $escape-reserved is false, all characters are escaped other than
> the lower case letters a-z, the upper case letters A-Z, the digits
> 0-9, the PERCENT SIGN "%" and the NUMBER SIGN "#" characters and the
> characters referred to in [RFC 2396] as "marks":  HYPHEN-MINUS ("-"),
> LOW LINE ("_"), FULL STOP ".", EXCLAMATION MARK "!", TILDE "~",
> ASTERISK "*", APOSTROPHE "'", LEFT PARENTHESIS "(", and RIGHT
> PARENTHESIS ")".
>
> In addition, the characters referred to in [RFC 2396]
[...]

I wonder if it is really necessary to repeat the whole list of characters
that are never escaped (regardless of $escape-reserved). As a reader I
would assume a subtle difference between these paragraphs, but there
isn't. (aside from the "specifically" ;-)

Wouldn't it be more readable to specify this list only once?

> 7.4.10.1 Examples
> * fn:escape-uri ("http://www.example.com/Weather/CA/Los%20Angeles#ocean",
>                  true()) returns 
> "http%3A%2F%2Fwww.example.com%2F00%2FWeather%2FCA%2FLos%20Angeles#ocean"

Almost. The argument URI should read
"http://www.example.com/00/Weather/CA/Los%20Angeles#ocean"
                       ^^^
(like in the second example, note the missing "/00")

The third example has been already commented by Michael Kay.

Best regards,
Oliver Becker



