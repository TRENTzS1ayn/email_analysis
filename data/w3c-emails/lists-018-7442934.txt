docno="lists-018-7442934"
received="Mon Dec 15 11:26:49 2003"
isoreceived="20031215162649"
sent="Mon, 15 Dec 2003 16:26:11 +0000"
isosent="20031215162611"
name="John Ibbotson"
email="john_ibbotson@uk.ibm.com"
subject="Comments to XQuery WG on Data Model Documentation"
id="OFD6273627.0DE113E9-ON80256DFD.0058ED5480256DFD.005A4999@uk.ibm.com"
charset="USASCII"
expires="1"

To:public-qt-comments@w3.org
Cc:w3c-xml-protocol-wg@w3.org








The SOAP WG has decided to adopt the XQuery Data Model for its Message
Transmission Optimization Mechanism (MTOM). MTOM describes an optimization
mechanism for message transmission and "on-the-wire" format for SOAP
message which may refer to non-XML message parts. As part of the MTOM
design, members of the SOAP WG have used the XQuery Data Model
specification [1] and wished to make comments on the wording of the
document.

In particular, the SOAP WG has found it necessary to clarify our use of the
wording relating to Accessors in section 5 of [1] due to perceived
ambiguities when used wrt the xbinc:include element for MTOM:

Section 5.3 dm:node-name: It was not obvious from the Data Model
specification
what the syntax for this accessor should be. We eventually decided it
should be,
xs:Qname("http://www.w3.org/...../xbinc", "include") but this was only by
noticing
the example in Appendix D of the specification. We should probably have
read the
sections on Functions and Operators, but this was not obvious.

Section 5.4 dm:parent, the specification sates "Returns the value of the
parent property"
which is not a particularly useful description of the accessor. It is not
clear
from traversing the internal hyperlinks how one determines the parent of a
given node.

Section 5.5 dm:string-value is fairly well specified for each node type
(sections 6.2.2, 6.3.2)

Section 5.6 dm:typed-value is also fairly well specified.

Section 5.7 dm:type, the description "Returns the vaue of the type
property" is not very useful.

Section 5.8 dm:children, once again, the description is not very useful.
The same problem exists
for many of the accessor descriptions in Section 6. Many of the
descriptions are of the form:
db:XXXX
"returns the value of the XXXX property"

A subsection of 6 (i.e., 6.1, 6.2, ...) should be read entirely to
understand the behaviour of
an accessor. For example, for Element Nodes, dm:children is defined as
"returns the value of the
children property" in 6.2.2. 6.2.1 defines some constraints over the
children property, but does
not define it. 6.2.3 and 6.2.4 specify own this property is constructed
from an Infoset or a PSVI.

Adding some links between those parts would be helpful to a reader. In the
case of dm:children
for Element Nodes, it would help to add a reference in the definition of
dm:children for Element
Nodes in 6.2.2 to the definition of children property in 6.2.1; and also to
add some text after
the listing of the Element Nodes' properties in 6.2.1 saying that building
those properties from
an Infoset of a PSVI is described in 6.2.3 and 6.2.4.

We will put a note in the MTOM spec to invite comments on or use of the
XQuery Data Model.

[1] http://www.w3.org/TR/xpath-datamodel/

John Ibbotson
CEng FIEE

Emerging ebusiness Industry Architecture ,
XML Technology and Messaging,
IBM UK Ltd, Hursley Park,
Winchester, SO21 2JN

Tel: (work) +44 (0)1962 815188        (home) +44 (0)1722 781271
Fax: +44 (0)1962 816898
Notes Id: John Ibbotson/UK/IBM
email: john_ibbotson@uk.ibm.com



