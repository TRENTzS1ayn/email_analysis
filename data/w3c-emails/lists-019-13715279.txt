docno="lists-019-13715279"
received="Tue Feb 17 13:08:01 2004"
isoreceived="20040217180801"
sent="Tue, 17 Feb 2004 13:07:42 -0500"
isosent="20040217180742"
name="Don Chamberlin"
email="chamberl@almaden.ibm.com"
subject="Re: [XQuery] IBM-XQ-021: Automatic assignment of default namespac  e"
id="OF179470C7.A64AC7B4-ON88256E3D.00626E0D-88256E3D.006393F8@us.ibm.com"
charset="US-ASCII"
inreplyto="4031EAD7.5050702&#64;mindspring.com"
expires="-1"

To:jwrobie@mindspring.com
Cc: Daniela Florescu<danielaf@bea.com>,public-qt-comments@w3.org


Dear Dana and Jonathan,
No, of course IBM-XQ-021 does not suggest that XQuery should behave 
differently from XML. Please read the paragraph that this comment relates 
to (Section 3.7.4, second paragraph in Note). 

According to this paragraph, an implementation can arbitrarily make up a 
prefix for a namespace under certain circumstances rather than using a 
user-specified prefix. Furthermore, the implementation can arbitrarily 
assign or reassign the default namespace at its own initiative, without 
any instructions from a user. Nothing like that occurs anywhere in XML as 
far as I know.

My comment is very simple: I am simply observing that it's dangerous for a 
system to arbitrarily assign the default namespace, because the content of 
an element may be based on the assumption that there is no default 
namespace. I suggested that implementations should not do this.

If you think that my suggestion is "different from XML", please explain 
the difference.

--Don Chamberlin




Jonathan Robie <jwrobie@mindspring.com> 
Sent by: public-qt-comments-request@w3.org
02/17/2004 02:20 AM
Please respond to
jwrobie


To
Daniela Florescu <danielaf@bea.com>
cc
public-qt-comments@w3.org
Subject
Re: [XQuery] IBM-XQ-021: Automatic assignment of default namespac  e







I agree with Dana. It's confusing and dangerous for XQuery to differ 
from XML here, especially since people do copy XML into a query and add 
dynamic expressions.

Jonathan

Daniela Florescu wrote:

> Don,
>
>
> do you mean that you would like XQuery element constructors
>
> to behave differently (with respect to namespace handling) then XML
>
> itself ?
>
>
> I think that's dangerous.
>
>
> Best regards,
>
> Dana
>
>
> On Feb 16, 2004, at 8:43 PM, Don Chamberlin wrote:
>
>
>
> (IBM-XQ-021) Section 3.7.4, Namespace Nodes on Constructed Elements: 
> In the Note in this section, the second paragraph says that an 
> implementation can choose to assign the default namespace (by 
> generating a namespace declaration with a null prefix) when 
> constructing an element. This is a dangerous thing to do. The string 
> content of the element may contain some names that are intended to be 
> in no namespace. Unexpectedly reassigning the default namespace would 
> cause these names in element content to be interpreted incorrectly. I 
> suggest deleting this paragraph.
>
>
> --Don Chamberlin
>



