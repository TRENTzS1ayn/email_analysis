docno="lists-019-14160153"
received="Tue Feb 17 14:44:20 2004"
isoreceived="20040217194420"
sent="17 Feb 04 11:44:15"
isosent="20040217164415"
name="Stephen Buxton"
email="Stephen.Buxton@oracle.com"
subject="ORA-SE-309-B: Poorly worded constraints on the output"
id="200402171944.i1HJiG218895@rgmgw6.us.oracle.com"
expires="-1"


To:public-qt-comments@w3.org
Cc:


SECTION 4: XML output method

The constraints expressed in the third paragraph, as currently
worded, seem incomplete.  The paragraph says
"If the document node of the data model has a single element node 
child and no text node children, and the serialized output is a 
well-formed XML document entity, the serialized output must conform 
to the XML Namespaces Recommendation [XML Names]. If the data model 
does not take this form, and the serialized output is a well-formed 
XML external general parsed entity, then the serialized output must 
be an entity which, when referenced within a trivial XML document 
wrapper like this

<!DOCTYPE doc [
<!ENTITY e SYSTEM "entity-URI">
]>
<doc>&e;</doc>

where entity-URI is a URI for the entity, produces a document which 
must itself be a well-formed XML document conforming to the XML 
Namespaces Recommendation [XML Names]."

This language seems to leave open the following possibilities:
1. The document node has a single element node child and no text
node child, but the serialized output is not well-formed XML.
2. The document node does not have a single element node child,
or has a text node child, but the serialized output is not a 
well-formed XML external general parsed entity.

I think the solution is to reword the paragraph as follows:

If the document node of the input value has a single element node 
child and no text node children, then the serialized output shall
be a well-formed XML document entity that conforms to the XML 
Namespaces Recommendation [XML Names]. Otherwise, the serialized output shall be a well-formed XML external general parsed entity, 
which, when referenced within a trivial XML document wrapper like 
this

<!DOCTYPE doc [
<!ENTITY e SYSTEM "entity-URI">
]>
<doc>&e;</doc>

where entity-URI is a URI for the entity, produces a document 
which must itself be a well-formed XML document conforming to the 
XML Namespaces Recommendation [XML Names].





- Steve B.



