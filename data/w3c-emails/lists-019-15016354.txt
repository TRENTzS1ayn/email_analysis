docno="lists-019-15016354"
received="Wed Feb 18 19:30:45 2004"
isoreceived="20040219003045"
sent="Wed, 18 Feb 2004 16:30:33 -0800"
isosent="20040219003033"
name="Don Chamberlin"
email="chamberl@almaden.ibm.com"
subject="Re: [XQuery] IBM-XQ-009: &quot;xs&quot; namespace should be in-scope"
id="OF894779EA.FDA0989C-ON88256E3F.00007E20-88256E3F.0002CB2E@us.ibm.com"
charset="US-ASCII"
inreplyto="OF440F4EE8.8978C58B-ON88256E37.008169FB-88256E37.008309F2&#64;us.ibm.com"
expires="-1"

To: Don Chamberlin<chamberl@almaden.ibm.com>
Cc:public-qt-comments@w3.org


Dear Mr. Chamberlin,
On Feb. 18, 2004, the Query Working Group considered your comment 
(attached) and confirmed its earlier decision that namespace nodes are not 
generated by QNames occurring in the content of an attribute or element. 
The example in Section 3.7.1.5 of the XQuery document is invalid and will 
be corrected as described in option (b) of your note.

The working group noted that if namespace nodes were automatically 
generated for the "xs" namespace, they would probablyl need to be 
generated for the "xdt" namespace as well. The group also observed that 
this would remove the ability for users to override the bindings of the 
"xs" and "xdt" namespace prefixes. This approach was considered 
undesirable.

Please let us know whether you are satisfied with this resolution of the 
issue.
Regards,
--Don Chamberlin




Don Chamberlin <chamberl@almaden.ibm.com> 
Sent by: public-qt-comments-request@w3.org
02/11/2004 03:51 PM

To
public-qt-comments@w3.org
cc

Subject
[XQuery] IBM-XQ-009: "xs" namespace should be in-scope







(IBM-XQ-009) Section 3.7.1.5 (Type of a Constructed Element) uses the 
following example: 
<a xsi:type="xs:integer">47</a> 
But Section 3.7.4 (Namespace Nodes on Constructed Elements) says that a 
similar example is not valid: 
<p xsi:type="xs:integer">3</p> 

This illustrates an error that many users will make. The namespace "xs" 
that contains all the built-in schema types is not in scope for a 
constructed element unless it is explicitly declared. 

We need to correct the inconsistency between the two sections noted above. 
This can be done in either of the following ways: 

(a) We can make a rule that the "xs" namespace, like the "xml" namespace, 
is automatically in scope for all constructed elements. I recommend this 
approach, because I believe that the justification for "xs" is at least as 
good as for "xml". This will remove a common source of errors and 
frustration. 

(b) We can replace the example in Section 3.7.1.5 with the following ugly 
but correct example: 
<a xmlns:xs="http://www.w3.org/2001/XMLSchema" xsi:type="xs:integer>47</a> 

(along with an embarrassing explanation about why it this is necessary and 
an apology to users). 

--Don Chamberlin



