docno="lists-019-15860584"
received="Fri Feb 20 13:22:44 2004"
isoreceived="20040220182244"
sent="20 Feb 04 10:21:57"
isosent="20040220152157"
name="Stephen Buxton"
email="Stephen.Buxton@oracle.com"
subject="ORA-XQ-411-C: base uri and xml:base interaction needs to be clarified."
id="200402201821.i1KILv227790@rgmgw6.us.oracle.com"
expires="-1"


To:public-qt-comments@w3.org
Cc:


SECTION 4.3: Base URI

Does specifying the baseuri in a module only take effect for lexically defined URIs or does it also apply to any URI values present in the system?

In particular does the xml:base property affect resolution of URLs inside a document? 

* When we convert an anyURI value from an element or an attribute to a string using the resolve-uri() function, does it take into account the xml:base property? 

e.g. consider a purchaseorder document with an xml:base property defined as "http://www.po.com" and has an "attachment" element that is of the anyURI type.

 Now given a query like,
 
 declare base-uri="http://www.some.com";
 for $i in doc("po.xml")
   return doc($i/PurchaseOrder/attachment);

 does the URI for the second doc() get resolved with the http://www.some.com prefix or the xml:base property http://www.po.com?

* When we have doc() or other URI resolutions inside direct element constructors which have an xml:base defined - does it affect the resolution?


For instance,

declare base-uri="http://www.moo.com";
<A xml:base="http://www.foo.com">
  {doc("boo")}
</A>

Does the URL "boo" inside doc() resolve as http://www.foo.com/boo or http://www.moo.com/boo ?

- Steve B.



