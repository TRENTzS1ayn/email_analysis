docno="lists-019-16001979"
received="Fri Feb 20 18:34:55 2004"
isoreceived="20040220233455"
sent="Fri, 20 Feb 2004 23:35:38 -0000"
isosent="20040220233538"
name="Michael Kay"
email="mhk@mhk.me.uk"
subject="RE: [XSLT2.0] IBM-XSLT-111:  Implications of using &quot;as&quot; attribute"
id="000201c3f80a$3f353980$6401a8c0@pcukmka"
charset="us-ascii"
inreplyto="OF1EAEDCA8.2793CE3C-ON85256E3F.0054E518-85256E3F.005CAFB5&#64;ca.ibm.com"
expires="-1"

To:<public-qt-comments@w3.org>



I agree that the phrase "validated and/or converted" is fuzzy.

I propose to replace the sentence:

In this situation, the computed value of the parameter will be validated
and/or converted twice, first according to the rules of the as attribute
on the xsl:with-param element, and then according to the rules of the as
attribute on the xsl:param  element.

by

In this situation, the supplied value of the parameter will first be
processed according to the rules of the as attribute on the
xsl:with-param element, and the resulting value will then be further
processed according to the rules of the as attribute on the xsl:param
element. 

For example, suppose the supplied value is a node with type annotation
xdt:untypedAtomic, and the xsl:with-param element specifies
as="xs:integer", while the xsl:param element specifies as="xs:double".
Then the node will first be atomized and the resulting untyped atomic
value will be cast to xs:integer. If this succeeds, the xs:integer will
then be promoted to an xs:double.

I would be grateful if you could confirm that this clarifies the
specification adequately.

Regards

Michael Kay
(as XSL WG editor)


> 
> [With apologies that these comments are coming in after the 
> end of the 
> Last Call comment period.]
> 
> Section 10.1.1
> 
> The first note in this section states, in part, "In this 
> situation, the 
> computed value of the parameter will be validated and/or 
> converted twice."
> 
> Was it really the intent that the consequence of using the as 
> attribute 
> would be anything other than to invoke the function 
> conversion rules? What 
> is implied by the terms "validated and/or converted", which 
> don't seem to 
> be well-defined?  Converted might refer to the function 
> conversion rules, 
> but what of validated?
> 
> Thanks,
> 
> Henry
> [Speaking on behalf of reviewers from IBM.]
> ------------------------------------------------------------------
> Henry Zongaro      Xalan development
> IBM SWS Toronto Lab   T/L 969-6044;  Phone +1 905 413-6044
> mailto:zongaro@ca.ibm.com
> 



