docno="lists-019-16318835"
received="Mon Feb 23 21:28:17 2004"
isoreceived="20040224022817"
sent="Mon, 23 Feb 2004 21:28:20 -0500"
isosent="20040224022820"
name="David Ezell"
email="David_E3@VERIFONE.com"
subject="Last Call comments on XQuery 1.0: An XML Query Language XSCH-QL-016"
id="E552E4A688635B47AA9132C55C5AADB59DDD3E@TPANTMAIL.verifone.com"
charset="iso-8859-1"
expires="-1"


To:<public-qt-comments@w3.org>


Dear Colleagues,

This comment pertains to the 12 November 2003 internal WD of 
XQuery 1.0: An XML Query Language [1].

Please accept our sincere apologies on being past-due with this
submission.

Regards,
David Ezell (on behalf of the XML Schema WG)

[1] http://www.w3.org/TR/2003/WD-xquery-20031112/

XSCH-QL-016 Section 4.8 Variable Declaration

The notion 'circular definitions' or 'circularity' is not well
defined in the spec. The following wording provides a kind of definition:

    If an initializing expression cannot be evaluated
    because of a circularity (for example, it depends on a function
    that in turn depends on the value of the variable that is being
    initialized), a dynamic error is raised.[err:XQ0054]"

It's not quite clear how circularity between modules is determined.
For example, will the variable initialization be successful in case of such
modules:

  module namespace math = "http://example.org/math-functions";
  import module namespace math2 = "http://example.org/math2-functions";
  declare variable $x as xs:integer {$math2:z};

  module namespace math2 = "http://example.org/math2-functions";
  import module namespace math = "http://example.org/math-functions";
  declare variable $y as xs:integer {$math:x};
  declare variable $z as xs:integer {1};



