docno="lists-019-1763711"
received="Wed May 14 18:49:10 2003"
isoreceived="20030514224910"
sent="Thu, 15 May 2003 00:48:30 +0200"
isosent="20030514224830"
name="Kay, Michael"
email="Michael.Kay@softwareag.com"
subject="RE: TR/xquery-operators/#func-doc"
id="DFF2AC9E3583D511A21F0008C7E62106073DCE30@daemsg02.software-ag.de"
inreplyto="TR/xquery-operators/#func-doc"
expires="-1"


To: Kian-Tat Lim<ktl@ktlim.com>,public-qt-comments@w3.org


I don't share your reading of this (notoriously difficult) RFC.

The paragraph you are quoting occurs within a section that is describing how
to resolve a relative URI against a base URI. It states explicitly that you
can't resolve a relative URI without knowing the base URI, and section 5.1
explains clearly the precedence of the rules for establishing a base URI,
which are reflected in the XML specifications for xml:base. I think that the
paragraph you quote is using the term "current document" loosely (there is
no formal definition of this term and it is not used anywhere else) to mean
"the resource identified by the base URI", and that the base URI should be
established as described in section 5.1 - which in an XML context, means by
using xml:base.

Michael Kay



> -----Original Message-----
> From: Kian-Tat Lim [mailto:ktl@ktlim.com] 
> Sent: 13 May 2003 14:53
> To: public-qt-comments@w3.org
> Subject: RE: TR/xquery-operators/#func-doc
> 
> 
> 
> Michael Kay wrote:
> 
>  > xml:base changes the meanings of relative URIs in a
>  > document, including the meaning of the relative URI "".
> 
> This appears to be a misunderstanding of RFC2396,
> section 5.2 "Resolving Relative References to Absolute
> Form", which states:
> 
>  > 2. If the path component is empty and the scheme,
>  > authority, and query components are undefined,
>  > then [the URI reference] is a reference to the
>  > current document and we are done.
> 
> This occurs without any reference to a base URI,
> whether specified in the document using xml:base
> or via any other method.  This specific example
> is the first one in section C.2 of the RFC.
> 
> As Dave Pawson desires, the relative URI ""
> should be guaranteed to refer to the current
> document, regardless of any xml:base setting.
> 
> -- 
> Kian-Tat Lim, ktl@ktlim.com, UTF-7: +Z5de+pBU-
> 



