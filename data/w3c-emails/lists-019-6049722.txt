docno="lists-019-6049722"
received="Thu Nov 27 11:40:30 2003"
isoreceived="20031127164030"
sent="Thu, 27 Nov 2003 16:40:07 GMT"
isosent="20031127164007"
name="David Carlisle"
email="davidc@nag.co.uk"
subject="Re: DM expressing until-like queries in XPath 2.0"
id="200311271640.QAA16343@penguin.nag.co.uk"
inreplyto="20031127170904.R25034&#64;marx.science.uva.nl"
expires="-1"


To:marx@science.uva.nl
Cc:public-qt-comments@w3.org




[public-qt-comments@w3.org is probably the wrong list for this as it's
no longer a comment on the spec (if it ever was) xsl-list would 
be better, I think this had better be my last post in this thread
(as a non WG member I probably shouldn't have replied in the first place)]

The xpath I suggested wasn't quite right, but it could be corrected.
(You want to say that all ancestors that have l=yes are not
descendents of the initial node, which means adding a couple of not()
into the expression I had which said that all ancestors that do have
l=yes are descendents of the current node.


Something like your version would also work but you can't do 

descendant-or-self/$here::*

as it's a syntax error, you can only use ::* after an axis name (same
as in Xpath 1)

Perhaps you intend

descendant-or-self//*[. is $here]

which returns $here if it is a descendant-or-self of the current node and ()
otherwise.


David



-- 
http://www.dcarlisle.demon.co.uk/matthew

________________________________________________________________________
This e-mail has been scanned for all viruses by Star Internet. The
service is powered by MessageLabs. For more information on a proactive
anti-virus service working around the clock, around the globe, visit:
http://www.star.net.uk
________________________________________________________________________



