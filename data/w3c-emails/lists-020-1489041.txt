docno="lists-020-1489041"
received="Wed Jan 14 16:50:34 2004"
isoreceived="20040114215034"
sent="Wed, 14 Jan 2004 13:50:23 -0800"
isosent="20040114215023"
name="Michael Rys"
email="mrys@microsoft.com"
subject="RE: [XQueryX] 5 A Trivial Embedding of XQuery"
id="EB0A327048144442AFB15FCE18DC96C701BB314D@RED-MSG-31.redmond.corp.microsoft.com"
charset="us-ascii"
inreplyto="[XQueryX] 5 A Trivial Embedding of XQuery"
expires="-1"


To:"David Carlisle"<davidc@nag.co.uk>,<xquery@comcast.net>
Cc:<public-qt-comments@w3.org>


> It is the suggestion that sometimes you need to do that and sometimes
> you don't that makes this problematic.

[Michael Rys] I agree that you always should entitize XQueries in the
trivial embedding...

> > Also, embedding XQuery queries by wrapping them with CDATA sections
> clearly
> > doesn't work when a query contains the sequence ]]>
> 
> You can't put the sequence ]]> in an XML file anyway it's not just
that
> you can't wrap a CDATA section around it, that sequence isn't legal
> anywhere (except ending a cdata section.

[Michael Rys] This is clearly incorrect. An XML document clearly can
contain ]]>. 

> An embedding of xquery into XML that is safe and reversible is
> replace each of < & and > by &lt; &amp; &gt; place resulting string in
> XML element.
> Extract element content (not its linearisation) and parse as Xquery.
> 
> That is essentially what you do for Xpath anyway. The danger is the
> suggestion that unless there are < being used as < (rather than
element
> constructors) the Xquery can be directly placed in the XML.
> 
> David
> 
> 
> --
> http://www.dcarlisle.demon.co.uk/matthew
> 



