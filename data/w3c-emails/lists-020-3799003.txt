docno="lists-020-3799003"
received="Fri Jan 23 16:09:16 2004"
isoreceived="20040123210916"
sent="Fri, 23 Jan 2004 13:09:12 -0800"
isosent="20040123210912"
name="Sarah Wilkin"
email="swilkin@apple.com"
subject="[XQuery] Lexical rules for comment, pi, cdata"
id="64B41CDB-4DE8-11D8-B023-0003935B7D94@apple.com"
charset="US-ASCII"
expires="-1"


To:public-qt-comments@w3.org


In section A.2.2 Lexical Rules, "<!--", "<?" and "<![CDATA[" go to 
XML_COMMENT, PROCESSING_INSTRUCTION, and CDATA_SECTION respectively 
with pushState(). The direct element constructor "<" goes to START_TAG 
with pushState(OPERATOR)

Since the OPERATOR state is not pushed for comments, pis, and cdata, 
the following is illegal:
let $a := <!-- foo -->
return $a

whereas
let $a := (<!-- foo -->)
behaves correctly.

We suggest changing "<!--", "<?", and "<![CDATA" to push the OPERATOR 
state so the parentheses are not necessary.

--Sarah



