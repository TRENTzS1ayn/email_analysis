docno="lists-020-4534202"
received="Thu Jan 29 12:42:01 2004"
isoreceived="20040129174201"
sent="Thu, 29 Jan 2004 18:41:41 +0100"
isosent="20040129174141"
name="Kay, Michael"
email="Michael.Kay@softwareag.com"
subject="RE: [XQuery] A.2.2 Lexical Rules: pattern conflicts"
id="37B64F4BA60E9E4FB9F60929E059802428781F@DAEMSG03.eur.ad.sag"
charset="us-ascii"
inreplyto="[XQuery] A.2.2 Lexical Rules: pattern conflicts"
expires="-1"


To:"Michael Dyck"<jmdyck@ibiblio.org>,<public-qt-comments@w3.org>


> 
> What? Then how does it handle something like this?
> 
>     validate strict context type(po:Address) { <zip>90952</zip> }
> 
> After "validate strict", the lexer is in KINDTEST. If you 
> don't have a transition on "context", the lexer will have to 
> read "context" as a QName, which will lead to a (bogus) syntax error.

I really think we need to distinguish specifying the language from
writing a parser. The BNF here is absolutely clear, and it's up to the
implementor whether a keyword like "context" is recognized by the lexer
because it's in some special state, or whether the lexer simply returns
a QName to the parser, which checks to see if the QName represents the
string "context". 

I would love to see us get rid of lexical states entirely from the
specification of the language, and reduce them to an appendix on
"implementation hints".

Michael Kay



