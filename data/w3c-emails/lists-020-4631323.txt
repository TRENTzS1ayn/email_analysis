docno="lists-020-4631323"
received="Sat Jan 31 18:08:09 2004"
isoreceived="20040131230809"
sent="Sun, 01 Feb 2004 00:06:19 +0100"
isosent="20040131230619"
name="Xavier Franc"
email="xfranc@online.fr"
subject="[XQuery] Error Handling ?"
id="401C34EB.7050505@online.fr"
charset="ISO-8859-1"
expires="-1"


To:public-qt-comments@w3.org



This is a badly lacking feature in XQuery:
AFAIK, there is no way to recover/catch a dynamic error after it happens.

Actually, at least two kinds of dynamic errors should be distinguished:
fatal / non-fatal, or non-recoverable / recoverable
(XSLT2 has this distinction).

Clearly there is a semantic difference between:
1)  a wrong regular expression: this is a programming error,
      there is no real point to recover it
2) trying to parse a document is an environment-dependent
    operation, that may fail for unpredictable reasons:
  there isdefinitely a need to recover such an error

Two possible solutions:

1) introduce an error catching mechanism
     -- in my implementation (Qizx/open) I have simply added a 
catch-error() function.
    But a more sophisticated mechanism (try/catch) would probably be better.

2) at the very least, consider modifying some functions like doc()
  so that they return a conventional value (eg the empty sequence)
  instead of raising an error



