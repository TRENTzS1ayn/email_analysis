docno="lists-020-5228762"
received="Mon Jun  7 11:00:29 2004"
isoreceived="20040607150029"
sent="Mon, 7 Jun 2004 10:55:18 -0400"
isosent="20040607145518"
name="Henry Zongaro"
email="zongaro@ca.ibm.com"
subject="Re: [Serial] I18N WG last call comments"
id="OF4DF0DE2B.BF759CBE-ON85256EAC.004934D7-85256EAC.0051F41C@ca.ibm.com"
charset="ISO-8859-1"
inreplyto="4.2.0.58.J.20040211164817.042d5210&#64;localhost"
expires="-1"

To: Martin Duerst<duerst@w3.org>
Cc:public-qt-comments@w3.org,w3c-i18n-ig@w3.org



Hi, Martin.

     In [1], you submitted the following comment on the Last Call Working 
Draft of XSLT 2.0 and XQuery 1.0 Serialization on behalf of the I18N 
working group:

Martin Duerst wrote on 2004-02-15 12:37:30 PM:
> [19] 6.4 HTML Output Method: Writing Character Data: "When outputting
>    a sequence of whitespace characters in the data model, within an
>    element where whitespace is treated normally, (but not in elements
>    such as pre and textarea) the html output method may represent it
>    using any character sequence that will be treated as whitespace
>    by an HTML user agent.": @@@ We need to check whether this (which
>    allows replacement of whitespace including linebreaks by whitespace
>    not including linebreaks and vice-versa) is okay for Chinese,
>    Japanese, Thai,... (languages without spaces between words).
>    This has to be checked extremely carefully.

In [2], Fran?ois Yergeau added the following information, in response to a 
note from Michael Kay on the topic:

> > I think it's better if we don't try to define the detailed rules here,
> > but just state the constraint: you can replace one whitespace sequence
> > by another if user agents treat them as equivalent.
> 
> The current text does not say that, it says that one sequence of white 
> can be replaced by another if HTML user agents consider the latter as 
> whitespace (presumably in the XML sense).  But HTML user agents need to 
> distinguish line breaks from other whitespace, for the reasons hinted to 

> by Martin. See list item 9 in 
> 
http://www.w3.org/TR/2001/REC-xhtml-modularization-20010410/conformance.html#s_conform_user_agent 

> for the gory details.

     Thanks to you and the I18N working group for this comment.

     The XSL and XML Query Working Groups discussed the comment.  The 
working groups were unable to find any statement in HTML 4.01 that 
different whitespace characters can be treated differently, ignoring such 
elements as pre and textarea.  The reference that Fran?ois provided was 
from the XHTML Modularization Recommendation, although the original 
comment was on the html output method.

     In discussing the comment, some members of the WGs thought that XHTML 
Modularization probably better reflected the requirements placed on HTML 
user agents in order to support languages such as those you mentioned. The 
WGs decided to add a normative requirement in the description of the html 
output method stating that whitespace characters can be replaced only with 
any other sequence of whitespace characters that has the same effect in a 
user agent.  The WGs also decided to add a non-normative reference 
pointing to bullet 9 of section 3.5 of XHTML Modularization, to provide 
further information on the issues involved.

     May I ask you to confirm that this response is acceptable to the I18N 
Working Group?

Thanks,

Henry [On behalf of the XSL and XML Query Working Groups]
[1] 
http://lists.w3.org/Archives/Public/public-qt-comments/2004Feb/0362.html
[2] 
http://lists.w3.org/Archives/Public/public-qt-comments/2004Feb/1025.html
------------------------------------------------------------------
Henry Zongaro      Xalan development
IBM SWS Toronto Lab   T/L 969-6044;  Phone +1 905 413-6044
mailto:zongaro@ca.ibm.com



