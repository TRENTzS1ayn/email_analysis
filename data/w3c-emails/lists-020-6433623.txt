docno="lists-020-6433623"
received="Fri Mar  5 07:07:40 2004"
isoreceived="20040305120740"
sent="Fri, 5 Mar 2004 12:07:35 -0000"
isosent="20040305120735"
name="Michael Kay"
email="mhk@mhk.me.uk"
subject="[XSLT 2.0] Fallback for &quot;as&quot; attribute in non-schema-aware processor"
id="20040305120740.051DBA0B47@frink.w3.org"
charset="US-ASCII"
expires="-1"

To:<public-qt-comments@w3.org>


One of my users (Ed Willink) has raised this interesting suggestion (I have
modified it slightly):

 

If the stylesheet specifies as="element(FOO)" which a non-schema-aware
processor currently rejects, then rather than reporting an error the
processor should instead fall back to treat it as "element()". Similarly,
as="QName?" should fall back to as="xdt:anyAtomicType?".

 

This would make it much easier to write stylesheets that work well both with
and without a schema-aware processor.

 

We could apply this purely at the XSLT level, or we could extend it to the
two XPath constructs that use a SequenceType (instance of, and treat as). In
all cases the effect would simply be to run with less type checking.

 

We could also extend this principle so that a non-schema-aware processor
ignores "type" and "validation" attributes, and xsl:import-schema, rather
than rejecting them. Perhaps such fallback behaviour should be explicitly
requested using the "switch" which we are still trying to invent.

 

Michael Kay

 

 



