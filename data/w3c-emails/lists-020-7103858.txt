docno="lists-020-7103858"
received="Wed Mar 10 09:09:06 2004"
isoreceived="20040310140906"
sent="Wed, 10 Mar 2004 15:08:46 +0100"
isosent="20040310140846"
name="Bjoern Hoehrmann"
email="derhoermi@gmx.net"
subject="Re: [F&amp;O] Protocol language information"
id="40531b6a.1444106655@smtp.bjoern.hoehrmann.de"
charset="us-ascii"
inreplyto="EDB607C8AC991F40BE646533A1A673E8017A5E80&#64;RED-MSG-42.redmond.corp.microsoft.com"
expires="-1"

To:"Ashok Malhotra"<ashokma@microsoft.com>
Cc:<public-qt-comments@w3.org>



* Ashok Malhotra wrote:
>Thank you for your message
>http://lists.w3.org/Archives/Public/public-qt-comments/2004Feb/0147.html
>We discussed this at the joint meeting of the XML Query WG and the XSL
>WG last week.  The joint WGs 
>decided that no change was needed in the wording.  Applications are free
>to use, or not use, such protocol
>language information as they see fit.

I am not satisfied with this response. The current text only considers
the xml:lang attribute and specifically says the function returns false
if (ancestor-or-self::*/@xml:lang)[last()] returns an empty sequence,
this implies that implementations must not use such protocol information
which contradicts your decision and would thus require change. It would
also be necessary to discuss what fn:lang returns if there is no
xml:lang attribute and the protocol information specifies multiple
languages (which would be possible using the HTTP Content-Language
header) and what the specification considers protocol language
information.

I am not too concerned about how fn:lang works (though I worry about
complexity if protocol information is considered and inconsistency with
e.g. the :lang() pseudo-class in CSS if it is not considered...), but
the specification should say whether implementations MUST NOT/MAY/
SHOULD/MUST consider it.



