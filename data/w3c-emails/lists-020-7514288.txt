docno="lists-020-7514288"
received="Mon Mar 15 15:06:43 2004"
isoreceived="20040315200643"
sent="Mon, 15 Mar 2004 20:06:38 -0000"
isosent="20040315200638"
name="Michael Kay"
email="mhk@mhk.me.uk"
subject="Re: XSLT 2.0 ORA-XS-379-Q: ERR XT0955"
id="20040315200642.ED3D4A0C92@frink.w3.org"
charset="us-ascii"
inreplyto="XSLT 2.0 ORA-XS-379-Q: ERR XT0955"
expires="-1"

To:<public-qt-comments@w3.org>
Cc:<Mark.Scardina@oracle.com>


Re: ORA-XS-379-Q:
<http://lists.w3.org/Archives/Public/public-qt-comments/2004Feb/0625.html>
ERR XT0955, Mark Scardina (2004-02-16) 

SECTION 11.8.2: Deep Copy
 
The note states: "This is because failing to copy the namespace nodes
may cause QName values in the content of an element to become invalid."
however, even if copy-namespaces="no", namespace fixup process still
creates namespace nodes. Thus there is no need for this static error
as this condition will not occur.
 
 
MHK personal response:
 
I think this comment is correct, as far as element nodes are concerned.
 
However, I think there is a related problem concerning attribute nodes. It
is not safe to copy the type annotation of an attribute node if the type
annotation is xs:QName. So I think we should replace the existing error
condition with a new dynamic error: when copying an attribute node it is an
error to specify validation="preserve" if the typed value of the attribute
is, or is derived from, xs:QName or xs:NOTATION.
 
Michael Kay

 



