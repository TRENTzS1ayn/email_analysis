docno="lists-020-7807473"
received="Sun Mar 21 12:38:58 2004"
isoreceived="20040321173858"
sent="Sun, 21 Mar 2004 17:38:52 -0000"
isosent="20040321173852"
name="Michael Kay"
email="mhk@mhk.me.uk"
subject="[XSLT 2.0] validation=preserve when copying attribute nodes"
id="20040321173858.DC1EEA0A0D@frink.w3.org"
charset="us-ascii"
expires="-1"

To:<public-qt-comments@w3.org>



In XSL WG discussions of issue qt-2004Feb0625-01 (see [1]) a separate
problem emerged: it is not safe to preserve the type annotation of an
attribute when the attribute is copied (using xsl:copy or xsl:copy-of),
because there is no guarantee that the namespace context of the new
attribute will be the same. This affects the outcome if the attribute value
is an xs:QName.

This also raises questions about the precise meaning of xsl:copy[-of] when
applied to QName-valued attributes - does it copy the typed value or the
string value? In the first case, the namespace prefix of the QName value is
lost, in the second case, the namespace URI is lost.

There are similar discussions affecting the semantics of attribute copying
in XQuery, so this is a joint issue.


[1] http://lists.w3.org/Archives/Public/public-qt-comments/2004Feb/0625.html



