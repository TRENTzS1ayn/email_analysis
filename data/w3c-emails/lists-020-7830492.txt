docno="lists-020-7830492"
received="Mon Mar 22 10:40:10 2004"
isoreceived="20040322154010"
sent="Mon, 22 Mar 2004 10:37:09 -0500"
isosent="20040322153709"
name="Philippe Le Hegaret"
email="plh@w3.org"
subject="[DM] Infoset mapping and dm:node-name"
id="1079969828.2096.19.camel@chacal"
expires="-1"

To:public-qt-comments@w3.org
Cc: WWW DOM<www-dom@w3.org>



Here are the comments from the DOM Working Group regarding the
XQuery/XPath Data Model document [1].

While no other specification, including the specification of XML syntax,
will perfectly match the W3C XML Information Set (Infoset) in all
aspects, the Infoset seems essential as a yardstick to see where
specifications may fail to interoperate properly when exchanging XML
information. In the latest version of DOM Level 3 Core, the DOM working
group has included a mapping between the Infoset and the information in
a DOM tree to be sure there is no confusion, as Infoset continues to be
the standard way of describing various types of standardized
representations of XML content. Note that this mapping between the DOM
model and the Infoset is done in a separate appendix in the
specification, and did not necessitate a complete rewriting of the DOM
specifications. The DOM WG has supported the development of the Infoset
to provides a set of definitions for use in W3C specifications that need
to refer to the information in an XML document.

Some DOM information items have been excluded from the Infoset, with the
understanding that Infoset definitions are most useful for XML
information that is common to multiple specifications and the DOM-only
information has not seemed harmful to compatibility between
specifications that did not require that particular information. DOM,
for example, is perhaps the only standard representation of XML (besides
the XML syntax itself) that cares to distinguish between CDATA sections
and regular text, but the ability to distinguish does not hurt the close
correspondance between infoset and DOM. The Infoset has also been
augmented to include a number of additional items used by other
specifications, for which DOM has included support in later versions of
the specification. The Infoset must be a work in progress adding
newly-identified information that needs common definition so that
specifications relying on infoset definitions may be
interoperable. There is no doubt that there are significant new domains
of XML data that require sharing between specifications that would
benefit from Infoset standardization.

DOM will commonly be used to make use of most other specifications at
W3C including XPath, Web Services, XML Schema, HTML, XML, CSS, XML
Signatures, and so on.  It is highly desirable for specifications to be
defined in terms of the Infoset so that the common XML information can
be exchanged as the currency of XML representation, and where
information is lost or mangled by a specification, that is known as
well. The mismatch between the DOM and XPath specifications in the past
has created issues that could have easily been better aligned in a
common model.

The DOM Working Group is very disapointed by the removal of the Infoset
mapping, included in the previous version of the Data Model, despite our
encouragements and praise of the mapping [2]. The intent of our previous
comments was to help the XSL and XML Query groups have an accurate
mapping between their specifications and the Infoset, and certainly not
meant to discourage the XSL and XML Query groups to have such
mapping. Therefore, we would like to object to the absence of _direct_
mapping between the XQuery/XPath Data Model and the Infoset, and
believes the approach taken by the latest specification of the Data
Model is harmful for the future of the XML Architecture. We are still
concerned about our previous comments [2] regarding the discrepancy
between the XQuery/XPath Data Model and the Infoset, and believe those
remain to be addressed.

Finally, the DOM Working Group reiterates his previous comment (DOM8)
regarding the name conflict between the accessor dm:node-name and the
DOM attribute Node.nodeName. Again, the notion of node names between DOM
and the XQuery/XPath Data Model is significantly different, even if the
XQuery/XPath specification does not call for physical implementation of
the abstract model. A different name (dm:universal-name, or
dm:node-uname, etc.) should be used to avoid conflict and confusion,
such as the ones reported in September 2000 [3].

Regards,

Philippe,
for the DOM Working Group.
(with apologizes for being so late)

[1] http://www.w3.org/TR/2003/WD-xpath-datamodel-20031112/
[2] http://lists.w3.org/Archives/Public/public-qt-comments/2003Jul/att-0003/XPDM2-DOM.html
[3] http://lists.w3.org/Archives/Member/w3c-ac-forum/2000JulSep/0215.html



