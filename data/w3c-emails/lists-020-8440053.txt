docno="lists-020-8440053"
received="Mon Mar 29 14:43:20 2004"
isoreceived="20040329194320"
sent="Mon, 29 Mar 2004 20:43:04 +0100"
isosent="20040329194304"
name="Michael Kay"
email="mhk@mhk.me.uk"
subject="[XSLT 2.0] default namespace for element-available()"
id="20040329194320.72BB0A12ED@frink.w3.org"
charset="us-ascii"
expires="-1"

To:<public-qt-comments@w3.org>



There's an oddity in the definition of element-available(), which is that it
uses the default namespace if the name is unprefixed.

There's some logic to this: you can write

<stylesheet xmlns="http://www.w3.org/XSL/Transform">

<template match="/">
  <if test="element-available('analyze-string')">...</if>
</template>

</stylesheet>

But since the argument to element-available is a lexical QName constructed
at run time, this actually means there's another value in the XSLT part of
the XPath dynamic context: yet another default namespace. This is the only
XPath construct that used the default namespace in XSLT 1.0.

We need to decide whether to keep this definition as it is, in which case
this default namespace ought to be included in the table in section 2.5.2,
or whether to change the definition, with a small risk of backwards
incompatibility. Since element-available() exists in good measure for
compatibility reasons, I think we probably shouldn't change the spec.

Michael Kay 



