docno="lists-020-8564882"
received="Tue Mar 30 17:25:51 2004"
isoreceived="20040330222551"
sent="Tue, 30 Mar 2004 14:25:32 -0800"
isosent="20040330222532"
name="Ashok Malhotra"
email="ashokma@microsoft.com"
subject="RE: ORA-FO-197-C: casting between dayTimeDuration and yearMonthDuration"
id="EDB607C8AC991F40BE646533A1A673E801AAF35B@RED-MSG-42.redmond.corp.microsoft.com"
charset="US-ASCII"
inreplyto="ORA-FO-197-C: casting between dayTimeDuration and yearMonthDuration"
expires="-1"


To:"Michael Rys"<mrys@microsoft.com>,"Stephen Buxton"<Stephen.Buxton@oracle.com>,<public-qt-comments@w3.org>


I've applied suggestion 1 also.

The new text specifically excludes the subtypes from the conversions.

All the best, Ashok

-----Original Message-----
From: Michael Rys 
Sent: Tuesday, March 30, 2004 12:43 PM
To: Ashok Malhotra; Stephen Buxton; public-qt-comments@w3.org
Subject: RE: ORA-FO-197-C: casting between dayTimeDuration and
yearMonthDuration

Isn't 1. below a more general comment that is worth applying anyway?

Also, what is the text now saying (suggestion 2 seems a bit vague in
exactly what to exclude where...

Thanks
Michael

> -----Original Message-----
> From: public-qt-comments-request@w3.org [mailto:public-qt-comments-
> request@w3.org] On Behalf Of Ashok Malhotra
> Sent: Tuesday, March 30, 2004 12:08 PM
> To: Stephen Buxton; public-qt-comments@w3.org
> Subject: RE: ORA-FO-197-C: casting between dayTimeDuration and
> yearMonthDuration
> 
> 
> Steve:
> Thanks for finding this subtle bug.  Fixed as per your suggestion 2.
> 
> All the best, Ashok
> 
> -----Original Message-----
> From: public-qt-comments-request@w3.org
> [mailto:public-qt-comments-request@w3.org] On Behalf Of Stephen Buxton
> Sent: Tuesday, February 17, 2004 2:35 AM
> To: public-qt-comments@w3.org
> Subject: ORA-FO-197-C: casting between dayTimeDuration and
> yearMonthDuration
> 
> 
> SECTION 17.9: casting to duration types
> 
> The second and third bullets describe how to cast between
> xdt:yearMonthDuration and xdt:dayTimeDuration.  The second bullet
> tells how to cast "...a type derived from xs:duration..."
> (which might be xdt:dayTimeDuration) to xdt:yearMonthDuration.
> (The result is P0M).  Similarly, the third bullet tells how to
> cast from xdt:dayTimeDuration to xdt:yearMonthDuration
> (the result is PT0S).  This contradicts the table in section
> 17.1, which says that these casts are not possible.
> 
> This could be fixed in several ways:
> 
> 1. The description of the table in section 1 could be changed.
> Currently it says that "N indicates that there are no supported
> conversions".  As worded, this sounds merely descriptive
> rather than prescriptive.  The description could be changed to read
> "N indicates that the conversion results in an error" (though
> it would still be necessary to specify which error).
> 
> 2. The second and third bullets could be reworded to specifically
> exclude xdt:yearMonthDuration and xdt:dayTimeDuration, respectively,
> and types derived from them.
> 
> 3. The second and third bullets could be removed entirely.
> In that case casting to xdt:yearMonthDuration and
> xdt:dayTimeDuration would fall under the general guidelines in
> 17.4 "Casting within a branch of the type hierarchy", meaning
> that their pattern facets would have to be satisfied in order for
> the cat to succeed.
> 
> 4. The second and third bullets could be reworded to raise an
> error if the components to be discarded are not already 0 in
> the source.  Though this would still permit casting the zero
> values of xdt:yearMonthDuration and xdt:dayTimeDuration to
> one another, so the table would have to say that the conversions
> may succeed.
> 
> - Steve B.



