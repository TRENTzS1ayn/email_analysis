docno="lists-021-3286364"
received="Fri Sep 12 07:12:11 2003"
isoreceived="20030912111211"
sent="Fri, 12 Sep 2003 14:11:58 +0300"
isosent="20030912111158"
name="Dmitry Borodaenko"
email="d.borodaenko@sam-solutions.net"
subject="Re: rubyrdf"
id="20030912111157.GA18396@sam-solutions.net"
charset="us-ascii"
inreplyto="1063320437.6697.10.camel&#64;mizar.nbtsc.org"
expires="-1"

To: RDF-Ruby list<public-rdf-ruby@w3.org>



Only a short reply for now.

On Thu, Sep 11, 2003 at 04:47:18PM -0600, Aredridel wrote:
> > Hm, why don't you take a look into Samizdat then? It doesn't need
> > rbbr to grasp: the whole storage module is less than 500 lines :)
> Yeah, but it's postgres-only, and there's a lot of plpgsql code that I
> don't quite grok yet in there.

This PL/pgSQL stuff is not that scary :)

The only thing that is absolutely required is the "insert_resource" and
"delete_resource" triggers: since all "internal resource" table records
are resources and have their ids refer to the Resource table, I have to
insert new Resource record each time new record in some of these tables
appears, so that one id sequence is used for all resources.

Without this, I wouldn't be able to combine internal and and ordinary
triple-style properties for one resource, not to mention that Statement
table also uses the same id sequence, and that's how statements are
automatically reified.

I took a quick look at the SQLite docs, and I haven't found any mention
of triggers, and, from initial impression, it wouldn't be possible to
repeat that trick in SQLite.

The remaining proposition and rating triggers are there for performance
reasons only, I could as well compute everything that they produce on
the fly.

-- 
Dmitry Borodaenko



