docno="lists-026-0497675"
received="Tue Mar 25 15:24:09 2003"
isoreceived="20030325202409"
sent="Tue, 25 Mar 2003 12:15:01 -0800"
isosent="20030325201501"
name="Assaf Arkin"
email="arkin@intalio.com"
subject="Re: Multi-Party Binding Scenario"
id="3E80B8C5.5050300@intalio.com"
charset="us-ascii"
inreplyto="C1E0143CD365A445A4417083BF6F42CC053D1860&#64;C1plenaexm07.commerceone.com"
expires="-1"


To:"Burdett, David"<david.burdett@commerceone.com>
CC:"'Ricky Ho'"<riho@cisco.com>,public-ws-chor@w3.org


Burdett, David wrote:

>Assaf
>
>I think I have difficulty in imagining an "abstract message using XML
>Schema" that can express things about the contents using an info set and
>identify contents using an XPath.
>
>Can you explain how you could do this when the "business document" in the
>actual message might be XML, or EDI, or a MS Word document, etc.
>  
>
Let's say the application needs to keep track of the buyer's shipping 
address and billing address. Can you extract that from some document? 
Using what type system? Can you express that information as an info set?

A lot of times we see PDF or MS Word documents being sent along with the 
message but they usually don't contain any information you need to look 
into in order to continue communication. So usually it's expressed as 
some piece of binary data.

It becomes more interesting when you look at EDI or other binary formats 
that are being used. For example, one application we've looked at uses 
FTP for sending messages encoded in some binary format, not EDI and not XML.

If we can't look into the message we don't know what the shipping 
address is and we can't ship the product. We don't know what the billing 
address is and can't send an invoice either. So obviously these messages 
can't be used in a choreography.

Unless you can express them in some abstract term. What we've seen are 
two cases.

In one case the message is converted into an XML message or represented 
using some DOM from a binary convertor, then fed into the application 
(business content only, headers are discarded by the messaging layer 
that does that). So if we know what the XML message schema is (in order 
to operate on the message), we can use XPath (or a subset). This gives 
leverage to the use of XML languages. And it also works in reverse, 
converting the XML output into a binary message before sending it.

In another case the message is described as XML to being with and the 
system communicates using XML and very generic APIs (e.g. JAX-RPC). The 
protocol handler is then responsible for doing a variety of conversions 
to other protocols. It may envelope the message using SOAP before 
sending it, pack it into a JMS message, or convert it to/from EDI.

Again, this is a distinction between abstract and over-the-wire. 
Abstract can be expressed as XML, even though over-the-wire can support 
a variety of protocols including both binary forms of XML (e.g. DIME) or 
other binary formats (EDI, IIOP, etc).

arkin


>Thanks
>
>David
>
>-----Original Message-----
>From: Assaf Arkin [mailto:arkin@intalio.com]
>Sent: Tuesday, March 25, 2003 11:46 AM
>To: Burdett, David
>Cc: 'Ricky Ho'; public-ws-chor@w3.org
>Subject: Re: Multi-Party Binding Scenario
>
>
>  
>
>>
>>If you include a specific XPATH expression in a choreography, then the
>>choreography definition is no longer abstract and therefore cannot be
>>    
>>
>reused
>  
>
>>which means it does not scale. I think the binding implied by the XPATH
>>expression should be recorded in a Choreography Binding document that binds
>>an abstract Choreography Definition to the specific, services, messages,
>>documents, used by a specific implementation.
>>
>>    
>>
>
>I disagree. The choreography should talk about an abstract message. 
>Content without specific headers. No protocol binings. Not a "SOAP 
>message" but an abstract message without enveloping.
>
>Say you define the abstract message using XML Schema and can express 
>things about the contents using an info set. You can use XPath as that 
>expression language.
>
>The XPath expression does not refer to the specific message you send 
>over the wire (SOAP or DIME, etc) nor does it refer to what the 
>implementation adds to the message - only to the abstract content model 
>that is consistent across all protocol encodings and implementations.
>
>Why would it not work?
>
>(As a side note, in reality I expect the expressions to be very simple, 
>as simple as identifying one top-level element like tns:shippingAddress 
>or tns:billingAddress. Perhaps a narrowing of XPath would be more helpful.)
>
>arkin
>
>  
>
>>David
>>-----Original Message-----
>>From: Ricky Ho [mailto:riho@cisco.com]
>>Sent: Tuesday, March 25, 2003 11:17 AM
>>To: Burdett, David; public-ws-chor@w3.org
>>Subject: RE: Multi-Party Binding Scenario
>>
>>
>> 
>>
>>    
>>


-- 
"Those who can, do; those who can't, make screenshots"

----------------------------------------------------------------------
Assaf Arkin                                          arkin@intalio.com
Intalio Inc.                                           www.intalio.com
The Business Process Management Company                 (650) 577 4700


This message is intended only for the use of the Addressee and
may contain information that is PRIVILEGED and CONFIDENTIAL.
If you are not the intended recipient, dissemination of this
communication is prohibited. If you have received this communication
in error, please erase all copies of the message and its attachments
and notify us immediately.



