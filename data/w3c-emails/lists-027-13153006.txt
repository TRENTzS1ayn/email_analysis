docno="lists-027-13153006"
received="Sun Apr 18 06:16:20 2004"
isoreceived="20040418101620"
sent="Sun, 18 Apr 2004 06:15:53 -0400"
isosent="20040418101553"
name="Daniel Veillard"
email="veillard@redhat.com"
subject="Re: XPath 2 without WXS (XSD)"
id="20040418101552.GB26268@redhat.com"
charset="us-ascii"
inreplyto="20040418080712.GA3319&#64;linux"
expires="-1"

To: Tobias Reif<tobiasreif@pinkjuice.com>
Cc:public-xml-id@w3.org,Norman.Walsh@Sun.COM,jmarsh@microsoft.com



On Sun, Apr 18, 2004 at 10:07:12AM +0200, Tobias Reif wrote:
> 
> Hi
> 
> Regarding
> 
> http://www.w3.org/TR/2004/WD-xml-id-20040407/#IDAQVQRB
> :
> "XPath 2.0: No change required. The id() function recognizes both DTD-
> and Schema-declared identifiers, and as such would also recognize
> xml:id attributes identified with a minimally conforming schema
> processor."
> 
> Scenario:
> 
> I receive an XML document which includes xml:ids, and neither contains
> any (DTD, WXS) internal subset nor does it reference a DTD or XSD or
> any other schema instance which modifies it (I might validate it with
> Relax NG).
> 
> I process the doc using a fully conforming Basic XSLT Processor [1]
> which thusly is not schema-aware.
> 
> id() [2] should return element nodes with matching xml:id value.
> AFAICS this requires a change/addition to XPath 2.0 [3] (currently in
> last call), but I might miss something.

  [2] states
  "those elements that are in the same document as the context node,
   and that have an ID value equal to one or more of the IDREFs in the list"

How is "element having an ID value defined ? If the definition is that
if hosts an attribute with an [attribute type] property of type ID or
a [type definition] property of type ID, then there is no change needed.

If they define IDness in a different way then yes that would not work
and require coordination. Since I expect the XPAth2 data model to be based
on the Infoset,
  http://www.w3.org/TR/xpath-datamodel/
 section 6.3.3.  lists the [attribute type] property and the ID value
but I could not find any definition of "element ID value" in the
datamodel spec, it is unclear what the id() function really references.

Daniel

-- 
Daniel Veillard      | Red Hat Desktop team http://redhat.com/
veillard@redhat.com  | libxml GNOME XML XSLT toolkit  http://xmlsoft.org/
http://veillard.com/ | Rpmfind RPM search engine http://rpmfind.net/



