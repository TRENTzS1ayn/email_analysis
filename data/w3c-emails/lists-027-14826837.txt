docno="lists-027-14826837"
received="Fri Feb 13 08:56:30 2004"
isoreceived="20040213135630"
sent="Fri, 13 Feb 2004 08:52:40 -0500"
isosent="20040213135240"
name="Sandra Martinez"
email="sandra.martinez@nist.gov"
subject="Re: xml:base attributes in XML test suite driver documents"
id="5.0.0.25.2.20040213084224.04840250@mailserver.nist.gov"
charset="us-ascii"
inreplyto="402C270C.9050700&#64;metalab.unc.edu"
expires="-1"


To: Elliotte Harold<elharo@metalab.unc.edu>
Cc:public-xml-testsuite@w3.org


I also noticed that oasis.xml and japanese.xml also contain such xml:base 
attributes. I will capture this issue and make the suggested changes to the 
Test Suite if there is no objection by the working group.

Thank you for your comments,

Sandra

At 08:23 PM 2/12/2004 -0500, Elliotte Harold wrote:

>I believe there are some bugs in some of the entities that make up 
>xmltest.xml (the master list of all the test cases in the XML test suite. 
>These are related to unnecessary xml:base attributes. Not all of the 
>documents have this problem but some do. One of them (I'll send others as 
>I find them) is xmlconf/xmltest/xmltest.xml. This document begins:
>
><?xml version="1.0" encoding="UTF-8"?>
><!--
>    @(#)xmltest.xml    1.12 99/02/12
>    Copyright 1998-1999 by Sun Microsystems, Inc.
>    All Rights Reserved.
>-->
>
><TESTCASES PROFILE="James Clark XMLTEST cases, 18-Nov-1998" 
>xml:base="xmltest/">
>
>The problem is the xml:base attribute. This means that this element and 
>its descendants have the base URI xmlconf/xmltest/xmltest/ (or 
>file:///home/whatever/xmlconf/xmltest/xmltest/ after the relative URL is 
>resolved with repsect ot the local file system). That's one too many 
>xmltest. Since the document is already in the xmltest directory, no 
>xml:base attribute is needed.
>
>The effect is that the relaive URLs found in the various URI attributes of 
>TEST elements cannot be resolved relative to the base URI of their 
>element, only with repsect to the base URI of the containing entity. This 
>is not in keeping with the XML Base specification. This might not be 
>noticed if the driver were written using SAX2 or DOM2 or some other API 
>that does not take account of xml:base attributtes. It does become 
>important when using XOM, JDOM, possibly DOM3, or other more recent APIs 
>that do conider xml:base attributes when calculating the base URI.
>
>I suggest that any such xml:base attributes be removed from the test suite 
>documents.
>
>--
>Elliotte Rusty Harold
>
>

Sandra I. Martinez
National Institute of Standards and Technology
100 Bureau Drive, Stop 8970,
Gaithersburg, Md. 20899

(301) 975-3579
sandra.martinez@nist.gov



