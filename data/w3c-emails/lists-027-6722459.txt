docno="lists-027-6722459"
received="Wed Jul 16 07:04:54 2003"
isoreceived="20030716110454"
sent="Wed, 16 Jul 2003 12:04:35 +0100"
isosent="20030716110435"
name="Jim Webber"
email="jim.webber@arjuna.com"
subject="RE: Something else to consider"
id="006501c34b8a$0afe16a0$880a090a@kyle"
charset="us-ascii"
inreplyto="BC28A9E979C56C44BCBC2DED313A447001EC2FD5&#64;bond.ncl.ac.uk"
expires="-1"

To:"'Savas Parastatidis'"<Savas.Parastatidis@newcastle.ac.uk>,<public-ws-desc-state@w3.org>



Savas:

> Headers are used when you describe the message exchanges of a 
> protocol. I believe that in most cases this would happen 
> through operations only. I can't see an example where one 
> would want to describe a protocol in WSDL and use attributes 
> but I may be wrong in this. What do people think?

I see no difference between operations and attributes. As someone who works
in transactions I definitely think I need to be able to update an attribute
within the scope of a transaction, just like I can invoke an operation in
the scope of a transaction.

So you could well be right that my proposed attribute syntax prevents this,
unless it is dealt with at the binding level? Or perhaps by some union of
the two sytnaxes:

<attribute name="ncname" access="get|set|both">
  [(body="qname") | (element="qname")]
  [(header="qname") | (element="qname")]?
</attribute>

So you could have attribute declarations like:

<attribute name="foo" access="both">
    <body element="x:SomeElement"/>
    <header element="tx:TxContext" use="set"/>
</attribute>

This XML is a little clumsy , but the intention is that we are now dealing
with a single type or element for the attribute in the body (which as Umit
pointed out was a flaw in Savas' original proposal), but we also allow
headers to be propagated with sets but not gets for example. The problem now
is that I allow someone to define a get attribute and specify a use="set"
for the header :-(

But I think the idea kinda works, if someone could come up with a smarter
way of writing it.

Jim



