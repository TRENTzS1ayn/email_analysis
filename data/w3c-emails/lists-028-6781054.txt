docno="lists-028-6781054"
received="Thu May  3 05:01:38 2001"
isoreceived="20010503090138"
sent="Thu, 03 May 2001 04:00:46 -0500"
isosent="20010503090046"
name="Dan Connolly"
email="connolly@w3.org"
subject="homepage XML bugs [was: text/html for xml...]"
id="3AF11E3E.BAEA3B61@w3.org"
charset="us-ascii"
inreplyto="Pine.WNT.4.31.0105011535390.800-100000&#64;HIXIE.netscape.com"
expires="-1"


To: Ian Hickson<ian@hixie.ch>
CC:"William F. Hammond"<hammond@csc.albany.edu>,mozilla-mathml@mozilla.org,site-comments@w3.org,www-talk@w3.org

Thanks for the detective work, Ian.

Susan/site-comments folks: I suggest not depending
on the DTD for our home page...

Ian Hickson wrote:
> > But does Mozilla call its xml parser for http://www.w3.org/ ?
> 
> Nope. If it did, it would render the page without any expanded
> character entity references, since Mozilla is not a validating parser
> and thus skips parsing the DTD and thus doesn't know what &nbsp;,
> &middot; and &copy; are.

Right... let's use &#160; in stead of nbsp. (tidy -n -ascii
will to this for free).

> Not to mention that it would end up ignoring
> the print-media specific section of the stylesheet, which uses
> uppercase element names and thus wouldn't match any of the lower case
> elements (line 138 of the first stylesheet),

oops! fixed in 2.5 2001/05/03 08:51:29

> and it would use an
> unexpected background colour for the page because the stylesheet sets
> the background on <body> and not <html>, which in XHTML will result in
> a different rendering to the equivalent in HTML4 (same sheet, line 5).

fixed.

 $Id: home.css,v 2.6 2001/05/03 08:55:08 connolly Exp $

> Remind me, why would you want to send XML as text/html?

So that we can continue to serve our readership, as long
as most of the requests come from user agents that only
grok text/html, while managing the content as XML,
so that we can use XML tools on it; for example, transforming
it to RSS using XSLT:

  Site Summaries from XHTML to RSS using XSLT, Aug 2000
  http://www.w3.org/2000/08/w3c-synd/

-- 
Dan Connolly, W3C http://www.w3.org/People/Connolly/



