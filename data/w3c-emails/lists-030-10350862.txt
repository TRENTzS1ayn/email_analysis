docno="lists-030-10350862"
received="Fri Aug 31 16:42:04 2001"
isoreceived="20010831204204"
sent="Fri, 31 Aug 2001 21:41:43 +0100"
isosent="20010831204143"
name="David Carlisle"
email="davidc@nag.co.uk"
subject="Re: Lists in paragraphs allowed by XMLspec DTD"
id="200108312041.VAA29983@penguin.nag.co.uk"
inreplyto="8766b45bry.fsf&#64;Sun.COM"
expires="-1"


To:Norman.Walsh@Sun.COM
CC:spec-prod@w3.org


   / Philippe Le Hegaret <plh@w3.org> was heard to say:
   | Not exactly in fact. We are cheating on this case since we don't close
   | the paragraph when we produce HTML4. Tidy close the paragraph during the
   | XHTML transformation. I don't think that the same can be done in the style
   | sheet.

   It's within the realm of possibility to do this in the stylesheet, but
   it's really ugly and requires intentionally producing some pretty nasty
   output, like:

     <xsl:text disable-output-escaping="yes">&lt;/p&gt;</xsl:text>

   which can have far-reaching consequences.

   Be seeing you,
     norm

If you do it that way (producing non well formed output) then you need
to use disable-output-encoding, which is always a bad idea, but it's not
that hard to make the para template check for any lists (or other
display items) within the paragraph and then output separate HTML p
elements for each chunk of the flow between the display elements.

The MathML stylesheet (which is essentially for xmlspec 1 with some
xmlspec 2 features added) does this and it seems to work, at least the
output validates for the case of the MathML spec.

David

_____________________________________________________________________
This message has been checked for all known viruses by Star Internet
delivered through the MessageLabs Virus Scanning Service. For further
information visit http://www.star.net.uk/stats.asp or alternatively call
Star Internet for details on the Virus Scanning Service.



