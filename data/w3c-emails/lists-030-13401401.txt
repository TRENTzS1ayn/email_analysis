docno="lists-030-13401401"
received="Mon Jun 16 10:23:07 2003"
isoreceived="20030616142307"
sent="16 Jun 2003 16:20:52 +0200"
isosent="20030616142052"
name="Dominique Haza?l-Massieux"
email="dom@w3.org"
subject="Re: Auto-generated Bibliographies"
id="1055773255.970.72.camel@cirrustier"
charset="ISO-8859-15"
inreplyto="f5bznkigwoy.fsf&#64;erasmus.inf.ed.ac.uk"
expires="-1"

To:"Henry S. Thompson"<ht@cogsci.ed.ac.uk>
Cc: Joseph Reagle<reagle@w3.org>,spec-prod@w3.org


On Mon, 2003-06-16 at 12:10, Henry S. Thompson wrote:
> Re latest version, see above.  The problem with URIs is that they are
> not valid XML IDs (oops, even the version I have above is wrong, the
> colon needs to be replaced as well).  And the only nearly-official
> stable fragment identifier syntax we have for XML is IDs.  So I want
> to put in my spec
> 
>   <rdfbib>
>    <xi:include href="http://www.w3.org/2002/01/tr-automation/tr.rdf#http..__www.w3.org_TR_2001_REC-SVG-20010904"/>
>   </rdfbib>
> 
> and have that work forever.  By 'stable' I mean that it will continue
> to work as the order of elements in tr.rdf changes.

So, what about using the document() function in the XSLT provided for
XMLSpec rather than using xinclude? Then we don't need the constraints
of an xml ID? (note that it still requires an RDF file that keeps all
the references of past documents, but that's a separate issue).
Basically, the said XSLT would look up the informations on the
referenced document by loading the relevant data in the RDF file. E.g.
<rdfbib ref="http://www.w3.org/TR/2001/REC-SVG-20010904"/>
would be processed by a 
<xsl:for-each select="xsp:rdflib">
  <xsl:call-template name="getRef"><xsl:with-param name="ref"
select="@ref"/></xsl:call-template>
</xsl:for-each>
and
<xsl:template name="getRef">
<xsl:param name="ref"/>
<xsl:value-of
select="document($uri_of_tr_list)/rdf:RDF/*[@rdf:about=$ref]/dc:title"/>
etc....

(FWIW, generating an xml id in the current processing of the TR in RDF
is not trivial and would require probably another step in producing the
said file - but I don't see it as a big obstacle, I'm just trying to see
whether it is really needed)

Dom
-- 
Dominique Haza?l-Massieux - http://www.w3.org/People/Dom/
W3C/ERCIM
mailto:dom@w3.org




