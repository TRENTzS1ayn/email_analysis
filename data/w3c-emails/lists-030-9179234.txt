docno="lists-030-9179234"
received="Thu May 17 16:31:28 2001"
isoreceived="20010517203128"
sent="Thu, 17 May 2001 13:30:41 -0700"
isosent="20010517203041"
name="Dan Rosen"
email="dr@netscape.com"
subject="Re: Copyright issue"
id="3B0434F1.3060103@netscape.com"
charset="us-ascii"
inreplyto="330564469BFEC046B84E591EB3D4D59CDA91D2&#64;red-msg-08.redmond.corp.microsoft.com"
expires="-1"


To: Jonathan Marsh<jmarsh@microsoft.com>
CC: Norman Walsh<Norman.Walsh@east.sun.com>, Dominique Hazael-Massieux<dom@w3.org>,spec-prod@w3.org

Hi all,

I have a hacked version of the official xmlspec stylesheet which solves 
some of the issues you mention (attached). I haven't actually looked at 
it in several months, but it worked at the time. Here are my comments in 
the changelog:

     21 Feb 2001: (dr@netscape.com)
       - Fixed specref to copy issue ids

     4 Jan 2001: (dr@netscape.com)
       - Fixed copyright to include W3C boilerplate only if element is
         omitted in the document. (Note ugly hack to p element template
         which may cause slowdowns in processing).
       - Removed "role = 2e" hack in author. This should be in a stylesheet
         importing this one (similar practice to DTD customizations).
       - Fixed up whitespace problem between name and affiliation.
       - Improved termdef to not interrupt the flow of text.
       - Much improved handling of inline style (old method: pass extra
         style as a parameter; new method: override template matching
         spec in inline-style mode, and apply-imports).

I'm not sure if this actually summarizes everything I did, but it should 
be easy to see my changes by diffing against an unmodified copy of the 
stylesheet.

Hope somebody finds this useful!
Dan Rosen

Jonathan Marsh wrote:

> Norm, I've been using my own XSLT stylesheet for xmlspec for a while 
> instead of the official one, mostly because early beta versions of 
> MSXML3 were missing features that prevented the "official" stylesheet 
> from running.  But I ran into a problem trying to get the XInclude 
> last call published - the stylesheet added boilerplate.  Besides the 
> fact that this boilerplate was outdated according to pubrules, Dom 
> objected to the lack of copyright info in the XML source itself.  We 
> pulled the XML version because we didn't have a timely solution to 
> these problems.
>
>  
>
> I'm now updating to use xmlspec.xsl, and find it has the same problems:
>
> 1) xmlspec.dtd has a <copyright> element but it doesn't allow the 
> markup required by pubrules.  The pubrules should provide xmlspec 
> boilerplate as well as html boilerplate.
>
> 2) xmlspec.xsl overwrites this markup with boilerplate.
>
> 3) the xmlspec.xsl boilerplate is obsolete.  This means lots of specs 
> (most notably the XML Schema recs) have obsolete copyrights in them.
>
> 4) xmlspec.xsl embeds the copyright boilerplate within the header 
> template so it's difficult to override it.
>
> 5) xmlspec.dtd doesn't have an equivalent to <abbr>.
>
> 6) xmlspec.dtd doesn't allow markup (specifically <abbr>) inside <loc>.
>
> 7) &copy; and &reg; aren't defined in xmlspec.dtd, although arguably 
> all instances should use them.
>
>  
>
> All these problems can be solved in the document's internal subset and 
> an overriding stylesheet (which I've just done for the next XInclude 
> version, samples available), but since each of these problems affects 
> every XML-sourced spec published on the W3C site, it would be nice to 
> extend xmlspec.dtd and fix xmlspec.xsl in a central location.
>
>  
>
> Would you be willing to work with me and the W3C pub team to resolve 
> these issues so we can start posting XML version of our specs again?
>
>  
>
> Thanks!
>
>  
>







text/xml attachment: xmlspec.xsl




