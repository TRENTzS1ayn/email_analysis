docno="lists-035-10942823"
received="Wed Jan 17 03:00:44 2001"
isoreceived="20010117080044"
sent="Wed, 17 Jan 2001 02:00:23 -0600"
isosent="20010117080023"
name="Dan Connolly"
email="connolly@w3.org"
subject="pls fix KURL::isRelativeURL w.r.t. tel: URIs"
id="3A655117.4C2BA975@w3.org"
charset="us-ascii"
expires="-1"


To:kfm-devel@kde.org
CC:uri@w3.org

Short version:

This comment and the code following it are wrong:

        // URL starts with "xxx:/" -> absolute URL

http://us.mandrakesoft.com/cgi-bin/cvsweb.cgi/kdelibs/kdecore/kurl.cpp?rev=1.159&content-type=text/x-cvsweb-markup

It should be
// URI starts with "xxx:" -> absolute URI

per the IETF Draft Standard:

|3. URI Syntactic Components
|
|   The URI syntax is dependent upon the scheme.  In general, absolute
|   URI are written as follows:
|
|      <scheme>:<scheme-specific-part>

August 1998 
     Uniform Resource Identifiers (URI): Generic Syntax
     (RFC 2396) T. Berners-Lee, R. Fielding, L. Masinter 
http://www.ietf.org/rfc/rfc2396.txt

That spec includes a pretty nice little test suite:

| C.1.  Normal Examples
|
|      g:h           =  g:h
|      g             =  http://a/b/c/g
|      ./g           =  http://a/b/c/g

The netscape guys got this wrong a while a go too but
the mozilla folks have since fixed it; see

http://bugzilla.mozilla.org/show_bug.cgi?id=2110

The reason I ask is that I'm trying to add tel: support
to my desktop. cf

  How to Add URI Schemes to Your Desktop
  http://www.w3.org/Addressing/schemes.html#hack-schemes

and in particular:

  Real-Time Resources in the Web: IRC, Telephone, Instant Messaging
  http://www.w3.org/2001/01/rtriw44

I wrote a little HTTP proxy server that handles tel: URIs
from netscape (actually, urn:tel: URIs; sigh...). See:

  telagent
  an HTTP agent for placing and receiving telephone calls
  http://dev.w3.org/cvsweb/2001/telagent/

The KDE services stuff looks promising; in particular,
the .protocol files; I gather the
documentation is out of date; if somebody wants
a documentation beta-tester, let me know.

http://developer.kde.org/documentation/library/2.0-api/classref/kio/KService.html

-- 
Dan Connolly, W3C http://www.w3.org/People/Connolly/



