docno="lists-035-15957987"
received="Fri Apr 12 11:23:15 2002"
isoreceived="20020412152315"
sent="Fri, 12 Apr 2002 10:14:36 -0500"
isosent="20020412151436"
name="Paul Grosso"
email="pgrosso@arbortext.com"
subject="RE: Resolving references against base URIs"
id="4.3.2.7.2.20020412094743.00b91978@172.27.10.30"
charset="us-ascii"
inreplyto="5E13A1874524D411A876006008CD059F192AB0&#64;0-mail-1.hpl.hp.com "
expires="-1"


To:"Williams, Stuart"<skw@hplb.hpl.hp.com>
Cc:www-xml-linking-comments@w3.org,uri@w3.org,"'Jeremy Carroll'"<jjc@hplb.hpl.hp.com>

At 16:55 2002 04 11 +0100, Williams, Stuart wrote:
>Paul,
>
>It seems you're having trouble with Jeremy's attachment.

Well, it's not me--the attachment ends in the middle of an HTML table.
Looking at the markup, it's clear the attachment is incomplete--thanks
for the text copy.

> Below I've extracted a text copy that may help you understand my reponse.

Thanks, some comments embedded.

>    Base                          Relative     Resolved
>Number 
>EASY:  
>a "http://example.org/dir/file"  "../relfile"  http://example.org/relfile
>007  
>
>b "http://example.org/dir/file"  "/absfile"    http://example.org/absfile
>009
>  
>c "http://example.org/dir/file"  "//another.example.org/absfile"
> 
>http://another.example.org/absfile  010  
>
>GETTING HARDER: 
>d "http://example.org/dir/file" "../../../relfile"
> 
>http://example.org/../../absfile  012  

I assume this is a typo and the final path segment is meant to be relfile.


>e "http://example.org/dir/file" ""             http://example.org/dir/file
>008  
>
>f "http://example.org/dir/file" "#frag"
>http://example.org/dir/file#frag  001  
>
>
>MASTER CLASS: 
>g "http://example.org"          "relfile"      http://example.org/relfile
>011  
>
>h "http://example.org/dir/file#frag" "relfile"
>http://example.org/dir/relfile  013  
>
>i "http://example.org/dir/file#frag" "#foo"  http://example.org/dir/file#foo
>013  
>
>j "http://example.org/dir/file#frag"  ""  http://example.org/dir/file  013  

See below for comments on relative URI references consisting only of the
fragment identifier.


>k "mailto:Jeremy_Carroll@hp.com"  "#foo"  mailto:Jeremy_Carroll@hp.com#foo
>015  
>
>l "mailto:Jeremy_Carroll@hp.com"  ""  mailto:Jeremy_Carroll@hp.com 016  
>
>No Consensus: 
>m "mailto:Jeremy_Carroll@hp.com"  "relfile"  mailto:relfile 001  
> 

I'll admit I haven't thought about how relative URI refs work in non-hierarchical
schemes such as mailto.

>> I'm not sure what you are saying here--can you expand?  I haven't been
>able
>> to see Jeremy's HTML file, and I'm not sure I understand what his answers
>> are in the cases he lists below, but I don't see how the in-scope base URI
>> and the document's retrieval URI could affect same document 
>> references.
>
>Part of the context of Jeremy's question is consideration of xml:base and
>the answers
>he offers, the heading of the first column and the comment in his
>rationale...
>
>> >> e,f,i,j,k,l
>> >> Base does apply to same document references in RDF/XML
>
>...all suggest that RDF/XML proposes to 'apply' an in-scope xml:base in
>resolving same document references.

I see, and I agree that would be wrong if that's what Jeremy/RDF is proposing.


So when you say:

> I think your
> >answers would be correct only for those cases where the 
> in-scope base URI
> >and the URI from which the document were retrieved are the same.

I now understand you to be pointing out that his answers for same document
references are only correct if the first column--headed "Base"--is really
the URL for the document itself (and not some other base URI determined,
say, by xml:base), am I understanding you correctly?

Assuming I am, I agree with you.  It is important that RDF and everyone
else realize that use of XML Base requires compliance with RFC 2396 which
requires that relative URI references consisting of just the fragment id
ignore any base URI and instead always refer to a fragment id within the 
current document.

paul



