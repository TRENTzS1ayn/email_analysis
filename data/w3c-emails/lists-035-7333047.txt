docno="lists-035-7333047"
received="Sun Aug 20 21:36:25 2000"
isoreceived="20000821013625"
sent="Mon, 21 Aug 2000 10:38:08 +0900"
isosent="20000821013808"
name="Martin J. Duerst"
email="duerst@w3.org"
subject="Re: Colons in URIs (rfc2396) for Universal Media URNs in URLs"
id="4.2.0.58.J.20000821102309.033156f0@sh.w3.mag.keio.ac.jp"
charset="us-ascii"
inreplyto="399DA58D.6BE4EEB4&#64;mantiscorp.com"
expires="-1"


To:"Aaron E. Walsh"<aaron@mantiscorp.com>,uri@w3.org

Hello Aaron,

At 00/08/18 17:07 -0400, Aaron E. Walsh wrote:
>Hello everyone,
>
>I've just recently joined the uri@w3.org list, and so apologize in
>advance if this subject has been been discussed before (I reviewed the
>archives but couldn't find an answer, although I imagine it's been
>tacked before).
>
>I wonder if un-escaped colons are legal in the path portion of a URL so
>long as they're not in the scheme or domain?

Michael answered this one, yes they are legal (and don't need to
be escaped).



>For example:
>
>http://www.web3dmedia.com/urn:web3d:media:/textures/nature/grass_1.jpg
>http://www.officetowers.com/urn:web3d:media:/textures/nature/rocks_3.jpg

These look definitely like legal URIs.


>I ask because our Web3D Universal Media Working Group uses URNs for
>media referencing, which we'd like to extend to single URL environments
>such as standard HTML browsers and authoring tools (our use of URNs is
>based on the VRML97 ISO standard, which supports multiple URLs/URNs).
>The two URLs above show how we might embed a URN into a URL so that the
>media can be resolved via http (over the net) by products that don't
>understand Universal Media (just like a normal URL) while also giving
>products that understand our system what they need to know in order to
>fetch the media from the user's local system (the URN identifier
>"urn:web3d:media:" is the key; this tells Universal Media products that
>a piece of media is likely be be locally resident and so they'll attempt
>to resolve it locally first before trying the Web).

While the syntax is okay, this may not exactly work. The above
are http URIs, and the fact that they contain 'urn:web3d:media:'
as one of their path components doesn't make any difference.
For the HTML browsers, this would work out because they just send
a request to www.web3dmedia.com with /urn:web3d:media:..., and
www.web3dmedia.com is allowed to treat this in any way it wants
(and may even have set up a directory named urn:web3d:media: just
to make work easy on the server side).

However, the other way round is a bit more difficult. How is VRML
software supposed to treat this differently? Looking at the first
path component and treating it as an URN if it starts with urn:
is definitely wrong; it would go havoc if somebody decided to
use something like http://www.example.com/urn:web3d:media,
which is a perfectly good straight old http URI.

It is of course not forbidden to define such behavior for a single
(or a few) well known domain name(s), just as proxy/caching behavior,
this may not exactly be what you want (but it may be all you can get).


Regards,    Martin.



