docno="lists-036-14318293"
received="Fri Feb 13 03:55:54 2004"
isoreceived="20040213085554"
sent="Fri, 13 Feb 2004 00:56:54 -0800"
isosent="20040213085654"
name="Roy T. Fielding"
email="fielding@gbiv.com"
subject="Re: RFC2396, parsing 'authority' and 'host'"
id="922920A2-5E02-11D8-8468-000393753936@gbiv.com"
charset="US-ASCII"
inreplyto="5.1.0.14.2.20040202130742.00bd2a10&#64;127.0.0.1"
expires="-1"

Cc:uri@w3.org
To: Graham Klyne<GK@ninebynine.org>



On Monday, February 2, 2004, at 05:13  AM, Graham Klyne wrote:
> I just found a bug in my URI parsing code that leads me to suggest a 
> minor revision to the syntax in RFC2396bis:  (taken from CVS revision 
> 1.64, from http://cvs.apache.org/viewcvs.cgi/ietf-uri/rev-2002/)
>
> My error was that I overlooked the square brackets in the host 
> production.
>
> Currently:
>
>   authority   = [ userinfo "@" ] host [ ":" port ]
> and
>   host        = [ IPv6reference / IPv4address / hostname ]
>
> My suggestion is for:
>
>   authority   = [ userinfo "@" ] [ host ] [ ":" port ]
> and
>   host        = IPv6reference / IPv4address / hostname
>
> As well as being less easy to overlook the fact that host is optional, 
> I found it (marginally) easier to code this way.

Due to other changes (that allow host to be of zero length), I have
changed it to

    authority   = [ userinfo "@" ] host [ ":" port ]
and
    host        = IP-literal / IPv4address / reg-name

....Roy



