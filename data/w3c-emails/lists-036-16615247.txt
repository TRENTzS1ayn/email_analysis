docno="lists-036-16615247"
received="Mon May 17 01:46:49 2004"
isoreceived="20040517054649"
sent="Sun, 16 May 2004 23:45:13 -0600 (MDT)"
isosent="20040517054513"
name="Mike Brown"
email="mike@skew.org"
subject="RFC 2396bis sec. D.2 editorial suggestion"
id="200405170545.i4H5jEHI051750@chilled.skew.org"
charset="US-ASCII"
inreplyto="FD61BE21-9306-11D8-B3EA-000393753936&#64;gbiv.com"
expires="-1"


To:uri@w3.org


In RFC 2396bis draft 05 section D.2 ("Modifications from RFC 2396"), the
change to same-document references is currently described like this:

  Removed the special-case treatment of same-document references within the URI
  parser in favor of a section that explains when a reference should be
  interpreted by a dereferencing engine as a same-document reference: when the
  target URI and base URI, excluding fragments, match. This change does not
  modify the behavior of existing same-document references as defined by RFC
  2396 (fragment-only references); it merely adds the same-document distinction
  to other references that refer to the base URI and simplifies the interface
  between applications and their URI parsers, as is consistent with the internal
  architecture of deployed URI processing implementations.

I don't think this is complete or accurate. I suggest changing it as follows:

  The determination of whether a URI reference is a same-document
  reference has been decoupled from the URI parser, simplifying the
  interface between applications and their URI parsers, as is consistent
  with the internal architecture of deployed URI processing
  implementations. The determination is now based on comparison to the
  same base URI that the reference was resolved against, rather than to
  the URI of the "current document", which could sometimes differ. Also,
  it is now permitted to use URI equivalence, not just identity, to make
  the determination. These changes do not modify how references are
  resolved to absolute form, but they may affect whether a reference that
  was defined same-document by RFC 2396 will be interpreted as
  same-document by an RFC 2396bis-based dereferencing engine, and they
  may add the same-document distinction to references that would not have
  had it before.

-Mike



