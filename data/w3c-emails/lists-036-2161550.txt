docno="lists-036-2161550"
received="Mon Nov 18 14:30:07 2002"
isoreceived="20021118193007"
sent="Sun, 17 Nov 2002 23:50:33 -0800"
isosent="20021118075033"
name="Roy T. Fielding"
email="fielding@apache.org"
subject="Re: Ambiguity of Allowed/Recommended URI Syntax and Escaping"
id="6AF7F75F-FACA-11D6-8A85-000393753936@apache.org"
charset="US-ASCII"
inreplyto="9A4413BE-FAC2-11D6-BC99-000A27D7C068&#64;barebones.com"
expires="-1"

Cc: Terje Bless<link@pobox.com>, URI List<uri@w3.org>
To: Jim Correia<correia@barebones.com>



> Under what situations is it encouraged that a URI generated escape those 
> reserved characters in the query?

At any time that the character is considered data instead of a delimiter
of significance to the generator.

> For example, given the URI
>
> http://www.example.com/redir?uri=http://www.example.com/someplace/else/
>
> is it suggested that the : and / be escaped for good practice/robustness?

Yes (see note regarding "/" in query).

>  According to the spec, is it valid for them to be left un-escaped?

Yes, since only the generator knows why they are being used.

> (In the context of the query, what is the meaning of the reserved purpose?
>  The usual reserved purpose of / is as a hierarchy separator, and when 
> used as data in the query part it is no longer a hierarchy separator, 
> correct?)

The generic syntax does not consider it as a hierarchy separator in
the query.  However, that does not prevent the URI generator from
considering it a hierarchy separator, or even a foo-bar separator.
The purpose of reserved characters is to give components some characters
that can be safely used as delimiters within that component.  Whether
or not the generator uses those characters is unknown, and doesn't
matter to other parsers.

....Roy



