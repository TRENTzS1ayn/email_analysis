docno="lists-036-9965602"
received="Sun May 25 10:13:15 2003"
isoreceived="20030525141315"
sent="Sun, 25 May 2003 07:13:12 -0700 (PDT)"
isosent="20030525141312"
name="Rob Cameron"
email="cameron@cs.sfu.ca"
subject="Re: draft-fielding-uri-rfc2396bis-02"
id="200305251413.h4PEDC220163@orpheus.cs.sfu.ca"
inreplyto="draft-fielding-uri-rfc2396bis-02"
expires="-1"


To:uri@w3.org


Following up on issue 033, the following equation is an
important test of consistent implementations:
resolve_relative_URI(compute_relative_URI(u, base), base) = u

To satisfy this for all examples in section 5.4 of rfc2396bis-02,
a change in the algorithm of section 5.2 is required.
The change is needed to ensure that the ./  and ../ processing 
is applied even when a relative  URI is a path starting with "/".
In my implementation:
                if R_path[0] == "/": T_path = merge('', R_path[1:])

A parser and URI processing algorithms that pass all the tests
are available for examination and comment at the following URL.
http://www.cs.sfu.ca/~cameron/uri/URIbis2.py
The parser is based on abnf2re and the algorithms include
compute_relative_URI as described yesterday, with one bug fix
to handle the authorityless relative URI.  

The test program is available as well.
http://www.cs.sfu.ca/~cameron/uri/bis2tests.py



