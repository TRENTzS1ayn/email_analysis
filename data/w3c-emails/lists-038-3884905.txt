docno="lists-038-3884905"
received="Wed Jun 10 16:52:09 1998"
isoreceived="19980610205209"
sent="Wed, 10 Jun 1998 13:57:37 PDT"
isosent="19980610205737"
name="Judith Slein"
email="slein@wrc.xerox.com"
subject="Re: webdav-collection-protocol-00: can we dispense with    Mandatory?"
id="3.0.3.32.19980610165737.009a4cd0@pop-server.wrc.xerox.com"
charset="us-ascii"
inreplyto="3.0.3.32.19980610083535.00814100&#64;mailback.parc.xerox.com"
expires="-1"


To: Jim Davis<jdavis@parc.xerox.com>
Cc: Judith Slein<slein@wrc.xerox.com>,w3c-dist-auth@w3.org,frystyk@w3.org,paulle@microsoft.com,lawrence@agranat.com

I'm hoping we'll get some clarification from the authors of the Mandatory
spec about whether M-PUT with mandatory headers could do what we need for
creating new referential members of collections.  If it can't, we are
certainly back to defining a new ADDREF method.  I have no problem with
using ADDREF.  It was really the thought of having to define new methods to
replace the DAV MOVE and COPY methods that pushed me toward using Mandatory.

If I MOVE or COPY a referential member from one place to another on the
same server, the server must understand the Ref-Integrity header, so there
is no problem.  I'm less confident than you about what would happen for a
request to MOVE or COPY a referential member to a non-compliant server.  I
think we should state explicitly that an attempt to MOVE or COPY a
referential member to a server that does not comply with the referential
members part of WebDAV MUST fail.  Then we could dispense with Mandatory
for the Ref-Integrity header.

So what about the Position header?  We could just get rid of it, and make
clients do a separate PROPPATCH operation to place a new collection member
where they want it in an ordering.

If we keep the Position header, we need something like Mandatory to insure
that the request will fail if the header is not recognized.

There is one other case, not currently in the collections spec, that might
need Mandatory.  We may decide that we need a way to specify, at the time a
collection is created, that it be an ordered collection.  If we introduce a
new Ordered header for use with MKCOL to accomplish this, we need a way to
make the request fail if the server doesn't comply with the ordered
collections part of WebDAV.

At 08:35 AM 6/10/98 PDT, Jim Davis wrote:
>The discussion about Mandatory suggests (to me) that we return to using
>ADDREF as the means of creating a referential member.  Then we can dispense
>with the Mandatory Extensions stuff altogether.
>
>* Servers that don't understand referential members will just fail the
ADDREF.
>
>* DELETE will delete referential members, just as it can delete collections
>and "plain" resources.  So there's no need for DELREF
>
>The only thing we'd lose is the ability to MOVE or COPY a resource while
>*changing* the value of Ref-integrity.  Servers are already requires to
>preserve properties, thus an attempt to MOVE a strong reference to a server
>that can't enforce it would fail anyway.  We only needed M-MOVE to ensure
>the server noticed the Ref-integrity header.
>
>On the other hand I think we still need mandatory headers for ordered
>collections, otherwise there's no way to do a PUT (or ADDREF, if you take
>the suggestion above) to a designated location.  Rats.
>
>By the way how can one change the order of members in  an ordered
>collection?  Presumably one does PROPPATCH on the dav:ordering property,
>but is there also a way to do it with MOVE (e.g. MOVE x After y)
>
>
>
>
Name:Judith A. Slein
E-Mail:slein@wrc.xerox.com
Internal Phone:  8*222-5169
Fax:(716) 422-2938
MailStop:105-50C
Web Site:    http://www.nde.wrc.xerox.com/users/Slein/slein.htm



