docno="lists-039-1087216"
received="Tue May  4 15:27:59 1999"
isoreceived="19990504192759"
sent="Tue, 04 May 1999 12:23:38 -0700"
isosent="19990504192338"
name="Greg Stein"
email="gstein@lyra.org"
subject="Re: Question on uniqueness of exclusive locks"
id="372F493A.73D2513D@lyra.org"
charset="us-ascii"
inreplyto="3.0.5.32.19990504145517.0363db20&#64;localhost"
expires="-1"


To: Henrik Frystyk Nielsen<frystyk@w3.org>
CC:w3c-dist-auth@w3.org

Henrik Frystyk Nielsen wrote:
> 
> Sorry if this has already been discussed but it seems to me that exclusive
> locks can be replicated using the refresh mechanism and hence aren't really
> guaranteed to be exclusive but rather sort of shared. Look at this example:

They could be exclusive if you defined that to mean "exclusive to a
principal."

> - While working in my office I get a lock on a resource and start edit it.
> I suddenly have to run home so I save the edits but don't want to release
> the lock as I don't want other people to start editing the document.
> 
> - Later on at home I continue editing the document but the document is
> still locked by me at work. However, I can discover the identity of the
> lock using a PROPFIND and while I can not relock the resource it seems that
> I can do a refresh on it which again seems to give me a copy of the lock at
> home.

Just holding the authorization and the lock token (found thru PROPFIND),
then you would have the lock at home.

Refreshing is incidental to your scenario.

Note, though: it seems that sections 6.6 and 12.1 do not require the
server to give up the lock token in a PROPFIND. Your home machine may
not be able to figure out what it is.

While the behavior seems okay (exclusive to a principal), it does not
help the user to manage machine-switches like the one you are
describing. Once you bring versioning into the picture, though, your
work machine may be storing intermediates to the server; your home
machine would then work on the intermediate, to be picked back up when
you return to work.

Cheers,
-g

--
Greg Stein, http://www.lyra.org/



