docno="lists-039-11954456"
received="Tue Nov 23 22:31:35 1999"
isoreceived="19991124033135"
sent="Tue, 23 Nov 1999 19:29:59 -0800"
isosent="19991124032959"
name="Jim Whitehead"
email="ejw@ics.uci.edu"
subject="RE: LOCK request body?"
id="NDBBIKLAGLCOPGKGADOJMECCCJAA.ejw@ics.uci.edu"
charset="iso-8859-1"
inreplyto="Pine.LNX.4.10.9911230034140.10639-100000&#64;nebula.lyra.org"
expires="-1"

To:w3c-dist-auth@w3.org


Greg Stein writes:
> Section 8.10.1 states that a LOCK request "SHOULD" have a request body.
> However, it does not state what the server should use as a default if the
> client does not supply a body.
>
> What should a server do? Create a lock of its own choosing?

Uhhhhhhh...

> The text does state "unless this is a refresh request", but the parsing of
> the sentence is not entirely clear. I believe the intent is probably that
> it MUST have a body for asserting a lock, and that it MUST NOT have a body
> for refreshing a lock.

This makes sense to me.

> On a slightly different topic: why is a refresh done using locktokens
> gathered from the If: header, rather than the more obvious Lock-Token:
> header?

I can't recall our original rationale.  We might have been thinking that,
since the lock had to exist for the request to be honored, this effectively
made the locks existence a precondition, and preconditions are expressed
using the If header.

- Jim



