docno="lists-039-12658113"
received="Tue Dec  7 19:04:20 1999"
isoreceived="19991208000420"
sent="Tue, 7 Dec 1999 19:02:48 -0500"
isosent="19991208000248"
name="ccjason@us.ibm.com"
email="ccjason@us.ibm.com"
subject="Re: BINDing using a weak reference"
id="85256841.00005E6A.00@D51MTA03.pok.ibm.com"
charset="us-ascii"
inreplyto="BINDing using a weak reference"
expires="-1"

To:"Eric Sedlar"<esedlar@us.oracle.com>
cc:"Geoffrey M. Clemm"<geoffrey.clemm@rational.com>,w3c-dist-auth@w3.org



>>
Couldn't you make PUT and MKCOL all create strong bindings, and then have
weak
BINDings from BIND?  Then you wouldn't have to introduce fake bindings to
maintain
persistence?
>>
You could do it many ways.  If I interpret Geoff's proposal correctly, a
bindings
to collections would use a symbolic link and all bindings to
non-collections
would us bindings.

Your suggested approach could also be taken.  In WebDAV bindings created
via
GET/MKCOL are no more privledged than those created with BIND.   If you
decided to implement them differently, then you'll have two types of
situations
to handle when a DELETE is requested.  You'd have handle deletion
of bindings to directories implemented as hard links and as symbolic links.
The
deletion of a symbolic link just works.  Deletion of a hard link isn't
quite so
easy.  You can't just delete it because all those symbolic links get
broken.
... so instead you'll have to delete
one of the symbolic links and then move the "deleted" directory to
the location where the symbolic link was.  And then also redirect any other
symbolic links.  Of course in order to do all this, you have to keep
track of all your symbolic links and manage them during method processing.
Geoff's approach makes these methods map to
trivial file system operations and allows GC'ing to be defered



