docno="lists-039-13056828"
received="Thu Dec 30 17:33:07 1999"
isoreceived="19991230223307"
sent="Thu, 30 Dec 1999 17:33:05 -0500"
isosent="19991230223305"
name="Geoffrey M. Clemm"
email="geoffrey.clemm@rational.com"
subject="Re: Creating a lock-null in a locked collection"
id="9912302233.AA16478@tantalum"
inreplyto="7DE119D3D0E15543874F7561EECBDBED02619DE5&#64;BEG.platinum.corp.microsoft.com"
expires="-1"


To:w3c-dist-auth@w3.org


As an addendum to Yaron's response, I'll note that there is a proposal
that WebDAV locking is better understood as locks on URL's rather than
on resources.  This not only makes the current WebDAV locking behavior
easier to motivate (e.g. a resource "loses" a lock after a move
because it is no longer identified by the locked URL), but removes the
need to define a "lock null resource".

One effect of this proposal would be that the answer to Joe's question
would change, i.e. that a LOCK request *never* requires a lock token.
A LOCK request can fail (such as when it would collide with an existing
exclusive lock), but no failure would be resolvable through the addition
of a lock token.

FYI, the current state of the lock proposal is:

A lock can be placed on a URL with a LOCK request.  This URL is called
the "lock base".  If the lock is Depth:N, then a lock is induced on
any URL that consists of the lock base extended by N or fewer
segments.  Only an authorized holder of a lock token for a locked URL
can modify either the state of the resource identified by the URL, or
which resource is identified by the URL.  A URL MAY NOT be locked
with two exclusive locks with the same locktype.

Cheers,
Geoff

   From: "Yaron Goland (Exchange)" <yarong@Exchange.Microsoft.com>

   The depth 0 lock controls the ability to add level 1 children to the
   collection.
   A lock null resource is a resource and hence is a member of whatever
   collections it exists within.
   Therefore to create a lock null resource as a level 1 child of a collection
   with a depth 0 lock one must have the depth 0 lock.

   In other words, yes, you must submit the token on the LOCK on /foo/bar.

   Yaron

   > -----Original Message-----
   > From: Joe Orton [mailto:joe@orton.demon.co.uk]
   > Sent: Thu, December 30, 1999 6:45 AM
   > To: w3c-dist-auth@w3.org
   > Subject: Creating a lock-null in a locked collection
   > 
   > 
   > I have an depth 0 write lock on /foo/. If I do LOCK /foo/bar 
   > to create a
   > lock-null resource, do I need to submit the locktoken for /foo/ in the
   > LOCK request? Or only in the PUT to /foo/bar later?
   > 
   > (Or is it decided that lock-null resources are going to go away?)
   > 
   > joe
   > 



