docno="lists-039-13495353"
received="Mon Apr 10 19:17:45 2000"
isoreceived="20000410231745"
sent="Tue, 11 Apr 2000 01:17:26 +0200"
isosent="20000410231726"
name="Juergen Reuter"
email="reuterj@ira.uka.de"
subject="Lock Tokens"
id=""iraun1.ira.0089001:000410.231738"@ira.uka.de"
expires="-1"

To:w3c-dist-auth@w3.org
cc:reuterj@ira.uka.de,jjh@ira.uka.de


Hi, all!

Section 12.1.2 of WebDAV defines:

<!ELEMENT locktoken (href+) >

and says:

"The href contains one or more opaque lock token URIs which all
refer to the same lock (i.e., the OpaqueLockToken-URI production in
section 6.4)."

I wonder, in what cases there could actually occur multiple href
elements and how they could be useful:

* Section 6.3:
  "A lock token is a type of state token, represented as a [single?] URI,
  which identifies a particular lock."
  This contradicts the above definition.

* Section 9.5:
  'Lock-Token = "Lock-Token" ":" Coded-URL'
  ...
  "The Lock-Token response header is used with the LOCK method to
  indicate the lock token created as a result of a successful LOCK
  request to create a new lock."

  In other words, a server will return a *single* lock token URI as
  Coded-URL in the Lock-Token header.  But what will be returned in
  the locktoken XML element of the corresponding response message body?
  The same single URI?  Or all URIs?  Section 6.3 says: "A lock token
  is returned by every successful LOCK operation in the lockdiscovery
  property in the response body ..."  So, is the Lock-Token header
  needed at all?  Anyway, what are multiple URIs for a single lock token
  useful for?

* Section 13.8:
  Does the lockdiscovery property contain all URIs of a lock token?

* Example 8.9.6:
  "In this example the client has submitted a number of lock tokens with
  the request."
  For better understanding, I propose to change the wording, maybe
  into something like:
  "In this example the client has submitted a number of lock token URIs
  with the request, where each URI represents a lock token."
  Otherwise, all the URIs could refer to the same, single lock token.

* Section 8.10.4: "A successful result MUST return a single lock
  token ...", but this single lock token may contain multiple URIs,
  right?

Comments?

Bye,
     Juergen



