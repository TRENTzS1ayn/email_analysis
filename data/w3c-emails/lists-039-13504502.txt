docno="lists-039-13504502"
received="Mon Apr 10 21:34:51 2000"
isoreceived="20000411013451"
sent="Mon, 10 Apr 2000 18:40:37 -0700 (PDT)"
isosent="20000411014037"
name="Greg Stein"
email="gstein@lyra.org"
subject="Re: Lock Tokens"
id="Pine.LNX.4.10.10004101838010.11297-100000@nebula.lyra.org"
charset="US-ASCII"
inreplyto="&quot;iraun1.ira.0089001:000410.231738&quot;&#64;ira.uka.de"
expires="-1"

To: Juergen Reuter<reuterj@ira.uka.de>
cc:w3c-dist-auth@w3.org,jjh@ira.uka.de


IMO, a locktoken should be equivalent to a *single* URI.

Of course, a given resource may have multiple tokens, but I see no reason
to allow or provide for multiple URIs "in" a locktoken.

I would agree/vote to remove all language in the spec dealing with
multiple URIs in a locktoken.

As a followup question: are any servers out there returning multiple URIs?

[ note that we wouldn't break on the client side since we are simply
  stating that no more than one will ever be present -- we aren't
  changing the format in any way. ]

Cheers,
-g

On Tue, 11 Apr 2000, Juergen Reuter wrote:
> Hi, all!
> 
> Section 12.1.2 of WebDAV defines:
> 
> <!ELEMENT locktoken (href+) >
> 
> and says:
> 
> "The href contains one or more opaque lock token URIs which all
> refer to the same lock (i.e., the OpaqueLockToken-URI production in
> section 6.4)."
> 
> I wonder, in what cases there could actually occur multiple href
> elements and how they could be useful:
> 
> * Section 6.3:
>   "A lock token is a type of state token, represented as a [single?] URI,
>   which identifies a particular lock."
>   This contradicts the above definition.
> 
> * Section 9.5:
>   'Lock-Token = "Lock-Token" ":" Coded-URL'
>   ...
>   "The Lock-Token response header is used with the LOCK method to
>   indicate the lock token created as a result of a successful LOCK
>   request to create a new lock."
> 
>   In other words, a server will return a *single* lock token URI as
>   Coded-URL in the Lock-Token header.  But what will be returned in
>   the locktoken XML element of the corresponding response message body?
>   The same single URI?  Or all URIs?  Section 6.3 says: "A lock token
>   is returned by every successful LOCK operation in the lockdiscovery
>   property in the response body ..."  So, is the Lock-Token header
>   needed at all?  Anyway, what are multiple URIs for a single lock token
>   useful for?
> 
> * Section 13.8:
>   Does the lockdiscovery property contain all URIs of a lock token?
> 
> * Example 8.9.6:
>   "In this example the client has submitted a number of lock tokens with
>   the request."
>   For better understanding, I propose to change the wording, maybe
>   into something like:
>   "In this example the client has submitted a number of lock token URIs
>   with the request, where each URI represents a lock token."
>   Otherwise, all the URIs could refer to the same, single lock token.
> 
> * Section 8.10.4: "A successful result MUST return a single lock
>   token ...", but this single lock token may contain multiple URIs,
>   right?
> 
> Comments?
> 
> Bye,
>      Juergen
> 

-- 
Greg Stein, http://www.lyra.org/



