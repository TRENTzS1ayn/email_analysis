docno="lists-039-13767539"
received="Fri Apr 28 19:17:21 2000"
isoreceived="20000428231721"
sent="Fri, 28 Apr 2000 16:16:35 -0700"
isosent="20000428231635"
name="Brian Morin"
email="bmorin@microsoft.com"
subject="RE: Webfolders and URL encoding"
id="9BDBBF9512077F48ABBDFB197908A9610C91C6@red-pt-01.redmond.corp.microsoft.com"
inreplyto="Webfolders and URL encoding"
expires="-1"


To:"'Dan Burton'"<DPBURTON@novell.com>,w3c-dist-auth@w3.org

The part of this that throws me for a loop is that web folders expects UTF-8
encoded URLs in the href field of the PropFind response, but it does not
send the same URLs back to you and instead goes out of its way to use local
encoding.

My observations working with web folders is that the input URL is based on
the local codepage, and that accept-language is the best way I've found to
guess what that code page is.  Also, when web folders sees characters
outside of the range of the local codepage these render as ? and you can not
operate on them.

Brian Morin
Software Development Engineer
MSN Communities

-----Original Message-----
From: Dan Burton [mailto:DPBURTON@novell.com]
Sent: Friday, April 28, 2000 12:16 PM
To: w3c-dist-auth@w3.org
Subject: Re: Webfolders and URL encoding


Hopefully I'm not out of place with this question. 

Talking about URL encoding and webfolders, how should non-ASCII characters
be encoded? It looks like the Microsoft webfolders encodes them based on the
Windows code page. There is a setting in IE5 that says "Always send URLs as
UTF-8". However WebFolders ignores this setting and never sends the URLs as
UTF-8. The problem I have is that I can not reliably determine what a
character is when it is encoded using code pages.

Thanks,
Dan

>>> "Tim Ellison/OTT/OTI" <Tim_Ellison@oti.com> 04/28/00 12:44PM >>>

This is true (see also http://andrew2.andrew.cmu.edu/rfc/rfc1738.html).

So this format is different to the MIME format called "application/
x-www-form-urlencoded", (ref.
http://www.w3.org/TR/REC-html40/interact/forms.html#h-17.13.4.1) and in
particular is different to the java.net.URLEncoder behaviour.  This will
likely cause 'interesting' incompatibilities with many Java based clients.

Thanks for pointing this out.
Tim



 

                    Greg Stein

                    <gstein@lyra.        To:     Tim Ellison/OTT/OTI
<Tim_Ellison@oti.com>          
                    org>                 cc:     w3c-dist-auth@w3.org

                                         Subject:     Re: Webfolders and URL
encoding               
                    28-04-00

                    02:12 PM

 

 




On Fri, 28 Apr 2000, Tim Ellison/OTT/OTI wrote:
> While we are on the subject of webfolders, can anyone provide insight as
to
> why WebFolders does not use '+' to encode the space character when doing
> URL encoding, and fails to recognise it on responses from the server?
>
> WebFolders appear to consistently use %20 for the space char, and don't
> decode '+' when one is returned.

'+' is not a valid encoding for 'space'. Some clients and servers do it
for parts of a URL (particularly within the 'query' section), but it is
not standard.

Refer to RFC 2396 (URLs) and RFC 2616 (HTTP), Section 3.2.
  http://andrew2.andrew.cmu.edu/rfc/rfc2396.html 
  http://andrew2.andrew.cmu.edu/rfc/rfc2616.html 

Cheers,
-g

--
Greg Stein, http://www.lyra.org/ 



