docno="lists-039-1401705"
received="Tue May 18 17:28:21 1999"
isoreceived="19990518212821"
sent="Tue, 18 May 1999 14:24:05 -0700"
isosent="19990518212405"
name="Jim Whitehead"
email="ejw@ics.uci.edu"
subject="RE: New status code: unordered collection"
id="003901bea174$c1c453a0$d115c380@ics.uci.edu"
charset="iso-8859-1"
inreplyto="3FF8121C9B6DD111812100805F31FC0D087931D4&#64;RED-MSG-59"
expires="-1"

To: Yaron Goland<yarong@microsoft.com>, WEBDAV WG<w3c-dist-auth@w3.org>


On May 12, 1999, Yaron Goland wrote:
> There are relatively few error codes and we should be very hesitant before
> handing out new ones. I think 409 is a good error code for this situation
> but obviously more data is needed.

Well, the reason 409 doesn't work well here is that it's used for several
conditions, some of which the client can recover from by resumbitting the
request, and some it should not.

> We should provide that additional data
> either as a header in the 409 response or in the body.
>
> If we are going to use the body then we do the world a great
> favor if we can come up with a single format so that multiple,
> independent, error conditions can be described.

Um, I just want to ship the Adv. Col. specification.  Since you yourself
immortalized the phrase, "the spec's not ready till there's nothing left to
cut", I hope you'll understand the desire to reduce the scope.

> The most likely
> choice is XML but XML has a problem. It is illegal for an XML
> document to have more than one root. This means that if I want
> to return two error conditions in a single response which were
> created by two unrelated groups I can't return them in a single
> XML document because they have different roots. Therefore we seem
> to have three choices:
>
> 1 - Don't use XML.
> Nice thought but probably impractical for reasons that market
> marketoids heart's glow bright red.
>
> 2 - Use MIME Multipart to include multiple independent XML documents
> This will work but doesn't it just seem such a waste to have to
> throw in MIME multipart processing just because the XML guys made a silly
> mistake?
>
> 3 - Invent a global root element
> I'm a big fan of this solution. Let's just invent some universal
> root element (how about <root>?) and declare that ALL XML
> returned in WebDAV error codes MUST go inside this element. Now we can
> throw in as many independent XML documents as we want and not have to
> worry about the single root problem. If we feel like being really
neighborly
> we can even present this solution to other groups and maybe get all IETF
XML
> to be put inside this element.

Since, as you point out, this work might have applicability beyond just
WebDAV, this suggests to me that it should be addressed in a separate
Internet-Draft, perhaps even leading to a new WG.

- Jim



