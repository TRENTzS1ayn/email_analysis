docno="lists-039-4690342"
received="Tue Mar  9 13:13:30 1999"
isoreceived="19990309181330"
sent="Tue, 9 Mar 1999 14:33:53 -0000 "
isosent="19990309143353"
name="Slein, Judith A"
email="JSlein@crt.xerox.com"
subject="RE: Advanced collections and ordering"
id="201BB34B3A73D1118C1F00805F1582E801BA4D2C@x-wb-0128-nt8.wrc.xerox.com"
charset="iso-8859-1"
inreplyto="Advanced collections and ordering"
expires="-1"


To:"'Max Rible'"<max@glyphica.com>,w3c-dist-auth@w3.org

Ordering in the collections specification is completely under the control of
the client.  The server does nothing to enforce the "correctness" of the
ordering.  

The server is required only to insure that, for collections that are
ordered, every collection member appears in the ordering exactly once and no
resource that is not in the collection appears in its ordering.  Beyond
that, it's up to the client to insure that the ordering follows the
semantics identified by DAV:orderingtype.

This should probably be made clearer in the spec.

--Judy

Judith A. Slein
Xerox Corporation
jslein@crt.xerox.com
(716)422-5169
800 Phillips Road 105/50C
Webster, NY 14580


> -----Original Message-----
> From: Max Rible [mailto:max@glyphica.com]
> Sent: Monday, March 08, 1999 6:04 PM
> To: w3c-dist-auth@w3.org
> Subject: Advanced collections and ordering
> 
> 
> As currently specified, the advanced collections protocol 
> does not cover
> the case of specifying the Position header for an entity in an ordered
> collection in the case that performing this operation would break the
> rules of ordering for that collection.
> 
> Consider a collection created through
> 
> MKCOL /foo HTTP/1.1
> Host: www.quux.com
> Ordered: 
> <http://www.webdav.org/standards/collectionOrder/alphabetical.xml>
> 
> that contains the elements A.html, B.pdf, and C.txt.  (Assume that
> the specification of order for the collection means "sort 
> alphabetically".)
> Any PROPFIND on the collection should yield elements in the order
> A.html, B.pdf, and C.txt.
> 
> If you then add an element to the collection:
> 
> MKREF /foo/Z.ref HTTP/1.1
> Host: www.quux.com
> Ref-Target: <http://www.webdav.org/>
> Position: First
> 
> you are requesting that the collection-- which is defined to sort its
> entries alphabetically-- return Z.ref, A.html, B.pdf, and C.txt, in
> that order!  This could be rather surprising.
> 
> It seems to me that this should either 
> (a) fail with 409 Conflict, since it is impossible to specify 
> a position
>     when there are sorting rules in order
> (b) fail with 409 Conflict, since the new entry conflicts with the 
>     ordering of the collection-- Position: Last would have resulted
>     in 204 Created
> or 
> (c) change the ordering of the collection to DAV:custom such that 
>     the ordering is Z.ref, A.html, B.pdf, and C.txt.
> 
> I am inclined toward (a), for ease of implementation.  Changing a
> collection from ordered to unordered is something that probably should
> not be done lightly.  If someone really wants to change the
> ordering, they can PROPPATCH the DAV:orderingtype to DAV:custom
> and ORDERPATCH it from there.  (It might be good to specify that
> a change of the DAV:orderingtype to DAV:custom from any other
> value should preserve the ordering that was previously evident.)
> 
> -- 
> %% Max Rible %% max@glyphica.com %% 
http://www.amurgsval.org/~slothman/ %%
%% "Before enlightenment:  sharpen claws, catch mice.                   %%
%%  After enlightenment:  sharpen claws, catch mice."            - me   %%



