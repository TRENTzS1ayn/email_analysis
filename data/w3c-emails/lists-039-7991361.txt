docno="lists-039-7991361"
received="Fri Sep 10 13:47:44 1999"
isoreceived="19990910174744"
sent="Fri, 10 Sep 1999 13:54:57 -0400"
isosent="19990910175457"
name="ccjason@us.ibm.com"
email="ccjason@us.ibm.com"
subject="Crossserver ops and lock token swapping."
id="852567E8.0061BA87.00@D51MTA07.pok.ibm.com"
charset="us-ascii"
expires="-1"

To:"Geoffrey M. Clemm"<gclemm@tantalum.atria.com>
cc:yarong@Exchange.Microsoft.com,w3c-dist-auth@w3.org



Geoff,
   I'm tending to agree with you (and Yaron) that cross server moves shouldn't
be a special case in the protocol.  No lock token swapping for example.
Here's a bit of verbage the issue of lock token swapping....

BTW, before I get to the verbage, I just want to say that even if we agree that
cross server isn't a special case, I'd kind of like the spec to mention cross
server operations...  Just to say that various URI's *CAN*  include the host
name for example would be an example of what we can say to remind the reader of
the cross server compatibility.   I just want to bring attention to the fact
that WebDAV should be cross server compatible and to remind us that we shouldn't
really add anything that prevents this.

Now the verbage...

I'd like to propose that moving a lock across servers not change the lock token
for a lock on that moved resource..  The reason I say this is because we are
claiming in the proposal that locks are on resources... not bindings or URI's.
Well, a MOVE operation is basically just a rebinding and in that sense, the
resource itself has not moved.   MOVE just changes some of the URI's at which
resources are accessable.  In this case the resource(s) is now accessable via a
URI on another server.  (Note: It may still be accessable at the source server
via another URI.)   In order to achieve this, we implicitly require (except for
special cases) that server pairs cooperate on bindings... and therefore locks
since a locked resource can be accessed via a URI on either machine.

An argument against what I've just said is... what if someone wants to move a
resource (or tree) between servers.  And neither server really supports
bindings.  (Is server support for multiple bindings to a resource a MUST?)
These are really simple servers with simple mappings.  One mapping per resource.
But one wants to move resources between these servers.  Nothing fancy.  Just
move them.  Can we actually expect unsophisticated servers to actually support
locks generated by other servers?  So this suggests...
   1) MOVE does not move locks from source to destination in any sense.  (But
this breaks model of resource is what is locked.)
      or
   2) We let the destination reassign lock tokens.  (Is this situation important
enough to take this approach and complicate the spec? And wouldn't they still
face authentication issues?)
      or
   3) MOVE wouldn't be allowed between these these servers.  The client would
have to use
DELETE/COPY/DELETE.  (Keeps protocol simple.  Probably is good enough for those
with cheap servers.)

Thoughts?

Further thoughts on cross server.  As some have pointed out, right now the spec
is nowhere near close enough to actually enable two independently developed
servers to do cross server operations besides possibly COPY.  Things like
cooperative authentication and lock and binding protocols are are needed.  And
we need to specify that lock tokens be standardized.  (We might want to address
this now rather than retrofit this later.)  (Judith pointed this out.)  So are
we agree'ing that WebDAV is to be cross server friendly/compatible... but not
enabling?  (Is that what Yaron was trying to say? :-))

J.

------------------------------------------
Phone: 914-784-7569,   ccjason@us.ibm.com



