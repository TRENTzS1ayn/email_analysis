docno="lists-039-8370863"
received="Wed Sep 15 01:03:40 1999"
isoreceived="19990915050340"
sent="Tue, 14 Sep 1999 22:00:58 -0700"
isosent="19990915050058"
name="Kevin Wiggen"
email="wiggs@wiggenout.com"
subject="RE: Bindings, Locks, and MOVE"
id="LNBBKDGPNJMOJNOBHLLMGEGMCCAA.wiggs@wiggenout.com"
charset="iso-8859-1"
inreplyto="852567EC.00802B81.00&#64;D51MTA07.pok.ibm.com"
expires="-1"

To:<ccjason@us.ibm.com>,<w3c-dist-auth@w3.org>



Ahhh  OK so I take back some of my last post.  I am beginning to see clearer
now.

Correct me if I am wrong.

/a/b.html and /x/y.html both point to resource R via BINDS.


1)  I take out an "Exclusive Write" lock L1 on /a/b.html.  Once this is
done, user2

- can READ /a/b.html and /x/y.html (GET)
- cannot DELETE /a/b.html (LOCKED)
- can DELETE /x/y.html (will simply remove the binding)
- cannot PROPPATCH /a/b.html OR /x/y.html (Resource is LOCKED)
- cannot PUT /a/b.html OR /x/y.html (Resource is LOCKED)
- can COPY /a/b.html and /x/y.html
- cannot MOVE /a/b.html (LOCKED)
- can MOVE /x/y.html (will simply move the binding URI, resource not
changed)
- cannot LOCK /x/y.html OR /a/b.html (LOCKED)
- can PROPFIND /x/y.html and /a/b.html (its a write lock)
- cannot MOVE or COPY TO /x/y.html or /a/b.html (Destination resource is
LOCKED) Actually MOVE/COPY TO /x/y.html makes an interesting point of do you
A) Do the delete first which UNBinds the resource and then complete the
MOVE/COPY, or B) fail with resource LOCKED.  I think you have to do B
otherwise you end up with 2 resources where you used to have 1.

2)  I take out a "Depth-Infinity Exclusive Write" lock L2 on /a.  Once this
is done, user2

- can READ /a/b.html and /x/y.html (GET)
- cannot DELETE /a/b.html (LOCKED)
- can DELETE /x/y.html (will simply remove the binding)
- cannot PROPPATCH /a/b.html OR /x/y.html (Resource is LOCKED)
- cannot PUT /a/b.html OR /x/y.html (Resource is LOCKED)
- can COPY /a/b.html and /x/y.html
- cannot MOVE /a/b.html (LOCKED)
- can MOVE /x/y.html (will simply move the binding URI, resource not
changed)
- cannot LOCK /x/y.html or /a/b.html (LOCKED)
- can PROPFIND /x/y.html and /a/b.html (its a write lock)
- cannot MOVE or COPY TO /x/y.html or /a/b.html (Destination resource is
LOCKED)

3)  I take out a "Depth-Zero Exclusive Write" lock L3 on /a.  Once this is
done, user2

- can READ /a/b.html and /x/y.html (GET)
- cannot DELETE /a/b.html (/a's namespace is LOCKED)
- can DELETE /x/y.html (will simply remove the binding)
- can PROPPATCH /a/b.html and /x/y.html (the resource is NOT Locked)
- can PUT /a/b.html and /x/y.html (the resource is NOT Locked)
- can COPY /a/b.html and /x/y.html
- cannot MOVE /a/b.html (/a's namespace is LOCKED)
- can move /x/y.html (will simply move the binding URI, resource not
changed)
- can LOCK /x/y.html and /a/b.html (they are not Locked)
- can PROPFIND /x/y.html and /a/b.html (its a write lock)
- can MOVE and COPY TO /x/y.html and /a/b.html (resource not locked)

Is this correct??

Kevin



