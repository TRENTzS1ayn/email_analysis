docno="lists-040-0496428"
received="Thu Feb  3 11:03:30 2000"
isoreceived="20000203160330"
sent="Thu, 3 Feb 2000 11:03:26 -0500"
isosent="20000203160326"
name="Geoffrey M. Clemm"
email="geoffrey.clemm@rational.com"
subject="Re: 423 Locked"
id="10002031603.AA02383@tantalum"
inreplyto="8525687A.005040F3.00&#64;d54mta03.raleigh.ibm.com"
expires="-1"


To:jamsden@us.ibm.com
Cc:w3c-dist-auth@w3.org


What Jim is asking for is a way for a client to find out "is my
current principal the same as the principal that took out the lock"
*without* asking its user.

I do not believe that is what Richard was asking for, but rather
wanted information to give to the user about who currently has
that resource locked (i.e. the information in the DAV:owner field).
Richard: Is this interpretation correct?

Since a client should *always* ask its user before doing
anything with a lock token from some other client, I maintain
that the currently defined DAV:owner field is adequate for
correct usage of lock tokens, and no DAV:principal field
should be defined.

Cheers,
Geoff

   From: jamsden@us.ibm.com

   There is a DAV property called DAV:lockdiscovery which contains a
   DAV:activelock element which contains, among other things, a DAV:owner
   field describing the owner of the lock. The WebDAV spec does not define the
   content of the DAV:owner element, it only suggests that it should describe
   the owner of the lock in some way that another user could contact the
   owner. Unfortunately, there is no element in DAV:activelock that specifies
   the actual princapal that took out the lock. I believe this is a bug that
   requires all clients to maintain their lock tokens in some other redundant
   repository. This issue has been open for over a year. I hope it gets
   addressed and resolved as part of the ongoing effort to clarify WebDAV
   locking semantics and protocol.


   "Rickard Falk" <rickard.falk@excosoft.se>@w3.org on 02/03/2000 03:46:52 AM

   If a resource is locked with a exclusive lock, and another user tries to
   lock if. The response then is 423 Locked. But, is there any way for the
   client to know who owns the lock?
   I would like the response to look something like this :
   421 Locked
   Date: ...
   Server: ...
   Connection: ...
   LockOwner : user
   LockDate  : date
   LockType  : exclusive
   LockedUntil : date         // if specified when locked

   Comments?

   /Rickard



