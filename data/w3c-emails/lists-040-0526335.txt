docno="lists-040-0526335"
received="Thu Feb  3 12:38:05 2000"
isoreceived="20000203173805"
sent="Thu, 3 Feb 2000 12:30:42 -0500"
isosent="20000203173042"
name="jamsden@us.ibm.com"
email="jamsden@us.ibm.com"
subject="Re: 423 Locked"
id="8525687A.0060BD3F.00@d54mta03.raleigh.ibm.com"
charset="us-ascii"
inreplyto="423 Locked"
expires="-1"

To:w3c-dist-auth@w3.org




Geoff,
I'm trying to solve a different problem than the one you reference below.
I'm not worried about hijacking someone else's lock, what I want is just
some way to get the lock tokens for the resources *I* have locked so I
don't have to hang on to them in my client application.




"Geoffrey M. Clemm" <geoffrey.clemm@rational.com> on 02/03/2000 11:03:26 AM

To:   Jim Amsden/Raleigh/IBM@IBMUS
cc:   w3c-dist-auth@w3.org

Subject:  Re: 423 Locked



What Jim is asking for is a way for a client to find out "is my
current principal the same as the principal that took out the lock"
*without* asking its user.

I do not believe that is what Richard was asking for, but rather
wanted information to give to the user about who currently has
that resource locked (i.e. the information in the DAV:owner field).
Richard: Is this interpretation correct?

Since a client should *always* ask its user before doing
anything with a lock token from some other client, I maintain
that the currently defined DAV:owner field is adequate for
correct usage of lock tokens, and no DAV:principal field
should be defined.

Cheers,
Geoff

   From: jamsden@us.ibm.com

   There is a DAV property called DAV:lockdiscovery which contains a
   DAV:activelock element which contains, among other things, a DAV:owner
   field describing the owner of the lock. The WebDAV spec does not define
the
   content of the DAV:owner element, it only suggests that it should
describe
   the owner of the lock in some way that another user could contact the
   owner. Unfortunately, there is no element in DAV:activelock that
specifies
   the actual princapal that took out the lock. I believe this is a bug
that
   requires all clients to maintain their lock tokens in some other
redundant
   repository. This issue has been open for over a year. I hope it gets
   addressed and resolved as part of the ongoing effort to clarify WebDAV
   locking semantics and protocol.


   "Rickard Falk" <rickard.falk@excosoft.se>@w3.org on 02/03/2000 03:46:52
AM

   If a resource is locked with a exclusive lock, and another user tries to
   lock if. The response then is 423 Locked. But, is there any way for the
   client to know who owns the lock?
   I would like the response to look something like this :
   421 Locked
   Date: ...
   Server: ...
   Connection: ...
   LockOwner : user
   LockDate  : date
   LockType  : exclusive
   LockedUntil : date         // if specified when locked

   Comments?

   /Rickard



