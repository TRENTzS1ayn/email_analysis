docno="lists-040-0680171"
received="Tue Feb  8 15:15:43 2000"
isoreceived="20000208201543"
sent="Tue, 8 Feb 2000 15:15:36 -0500"
isosent="20000208201536"
name="Geoffrey M. Clemm"
email="geoffrey.clemm@rational.com"
subject="Re: Lock"
id="10002082015.AA04053@tantalum"
inreplyto="Pine.LNX.4.10.10002080332120.8462-100000&#64;nebula.lyra.org"
expires="-1"


To:w3c-dist-auth@w3.org


I would like to voice *very* strong support for Greg's suggestion.  In
the presence of versioning, date comparisons such as "Last-Modified"
or "If-Unmodified-Since" do not provide you with reliable information
about the accuracy of what you have in your cache.  In particular, if
an older revision is made the default revision of a versioned
resource, it will have an older date, but your cache should be updated
with that older value.

So ETag values should be the only ones you use to verify that you are
seeing the current value of a resource.

Cheers,
Geoff

   Date: Tue, 8 Feb 2000 03:34:19 -0800 (PST)
   From: Greg Stein <gstein@lyra.org>

   On Tue, 8 Feb 2000, Rickard Falk wrote:
   > I have another 'client side' related question.
   > When I'm issuing a Lock command, can I include the 'If-Unmodified-Since' in
   > the header ( http standard parameter...)?
   > In our client a user can browse through allot of files, without having them
   > locked. Then when he wants to edit the file, he then presses a lock button.
   > But when he presses this button, the client must make sure that the file
   > that he has read, is the latest one. Today I'm doing a Lock, then a Head
   > command to se if the 'Last-Modified' parameter is changed since the Get. It
   > would be much easier if I just could add the 'If-Unmodified-Since' in the
   > Lock request.

   You should be able to use If-Unmodified-Since (mod_dav will check for it).

   Note that you could also use ETag values to check for changes. I think the
   ETag is probably the Right Way to look for possible changes on the server.

   Cheers,
   -g

   -- 
   Greg Stein, http://www.lyra.org/



