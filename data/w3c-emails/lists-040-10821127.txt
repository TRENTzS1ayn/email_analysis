docno="lists-040-10821127"
received="Fri Mar  2 17:21:49 2001"
isoreceived="20010302222149"
sent="Fri, 02 Mar 2001 09:11:30 -0500"
isosent="20010302141130"
name="John Stracke"
email="francis@ecal.com"
subject="Re: trouble connecting to IIS5 from OS X PB"
id="3A9FAA12.6504AE55@ecal.com"
charset="us-ascii"
inreplyto="BC0FBE708897D4118C5500902745938E18DB3D&#64;black.eng.netapp.com"
expires="-1"


To:"Benn, Paul"<paul.benn@netapp.com>
CC:"'w3c-dist-auth@w3.org'"<w3c-dist-auth@w3.org>

"Benn, Paul" wrote:

> PROPFIND / HTTP/1.1 User-Agent: fetch/1.0 Darwin/1.2 (Power Macintosh)
> Accept: */* Host: clab-c1-21.win2ktest.lab.netapp.com:80 Depth: 0  Frame: 7
> server -> client  1077  _AP___
> HTTP/1.1 411 Length Required

Seems pretty clear: IIS5 wants a Content-Length: 0 if you don't have a message
body.  This seems awkward, but I'm not actually sure it violates the specs.
2518/8.1 says:

     A client may choose not to submit a request body.  An empty PROPFIND
     request body MUST be treated as a request for the names and values of
     all properties.

But in 2616/4.4 (which discusses how to determine the length of the body), the
only way I see to infer that no body is present is to know that the message
MUST NOT have a body (e.g., if it's a GET request or a HEAD response), or else
to see that the server closed the connection after the message (does not work
for requests).  So I think IIS5 is probably within its rights to require
Content-Length: 0...though I personally would have written it to be more
forgiving, and assume that no Content-Length: and no Transfer-Encoding: implies
no body.

--
/==============================================================\
|John Stracke    | http://www.ecal.com |My opinions are my own.|
|Chief Scientist |=============================================|
|eCal Corp.      |Think of it as evolution in action.          |
|francis@ecal.com|                                             |
\==============================================================/



