docno="lists-040-12453691"
received="Thu Aug  2 00:56:53 2001"
isoreceived="20010802045653"
sent="Thu, 2 Aug 2001 06:56:18 +0200"
isosent="20010802045618"
name="Julian Reschke"
email="julian.reschke@gmx.de"
subject="RE: rfc2518 issue: DEFER_LOCK_NULL_RESOURCES_IN_SPEC"
id="JIEGINCHMLABHJBIGKBCOEJLCMAA.julian.reschke@gmx.de"
charset="us-ascii"
inreplyto="3B68C70F.4D41C60F&#64;oracle.com"
expires="-1"

To:"Ilya Kirnos"<ilya.kirnos@oracle.com>,"Julian Reschke"<julian.reschke@gmx.de>
Cc:<w3c-dist-auth@w3.org>


> From: Ilya Kirnos [mailto:ilya.kirnos@oracle.com]
> Sent: Thursday, August 02, 2001 5:21 AM
> To: Julian Reschke
> Cc: w3c-dist-auth@w3.org
> Subject: Re: rfc2518 issue: DEFER_LOCK_NULL_RESOURCES_IN_SPEC
>
>
>      Inspection of OPTIONS and PROPFIND responses showed:
>
>      1) Oracle IFS only supports DAV class 1, and doesn't return an ALLOW
>      header
>      on OPTIONS,
>
>
> That's correct, iFS DAV does not support locking in its current version.
>
>      2) <getetag> is "getetag_blah" for all resources,
>
>
> Yes, that's a known hole.  We're looking at cache interaction for our next
> release, this will fall under that.
>
>      3) It tries to return <getlastmodified> in RFC format, but uses it's
>      locale
>      for formatting, which obviously will not produce an RNC formatted
>      date when
>      your language isn't english,
>
> Tell me more about the problem?  Where are we using the locale?

As far as I remember, with WebIFS installed on a german Windows2000 server
machine, it will generate something like "Montag, 12. Jan 1998 08:25:56 GMT"
rather than "Monday, 12-Jan-98 09:25:56 GMT". This means, you can't use the
standard locale date formatting routines for WebDAV (or HTTP) RFC dates
(unless you force it to use the english language).

>      4) It tries to return <creationdate> in RFC format (and fails in the
>      same
>      way), while this should be in ISO8601 format,
>
>
> Does the spec say it has to be ISO8601?  I remember that Web

Yes (<http://greenbytes.de/tech/webdav/rfc2518.html#PROPERTY_creationdate>).

> Folders didn't
> seem to like that, so we put in a hack at the last minute to make
> it display
> dates correctly.

Well. The way it's done now, MS web folders won't even *mount* the directory
because of the broken date format.

I think I remember that an old version of MS web folders only accepted
ISO8691 dates if they came with a data type attribute a la

<creationdate xmlns:dt="urn:uuid:c2f41010-65b3-11d1-a29f-00aa00c14882/"
dt:dt="dateTime.tz">2001-08-01T14:38:27Z</creationdate>

This isn't nice, but at least it doesn't break any client. Newer versions of
web folders don't seem to have this problem.

>      5) <getcontentlanguage> (when not "unknown") is set to language
>      strings like
>      "ENGLISH" (which I think is incorrect according to section 14.13 of
>      [RFC2068])
>
>
> Yep, that's a bug.  Will fix it in our next release.
>
> Let me know if you found any other issues.

Due to the bugs mentioned, I currently can't use WebIFS with anything beside
some special test scripts. Microsoft Webfolders (and Office) will reject
them, so it's hard to do any serious testing.

Thanks for the feedback!

Julian



