docno="lists-040-13552506"
received="Mon Aug 27 15:27:28 2001"
isoreceived="20010827192728"
sent="Mon, 27 Aug 2001 12:24:19 -0700"
isosent="20010827192419"
name="Jim Whitehead"
email="ejw@cse.ucsc.edu"
subject="RE: Getcontentlength &amp; GetContentType"
id="AMEPKEBLDJJCCDEJHAMIMEILDFAA.ejw@cse.ucsc.edu"
charset="iso-8859-1"
inreplyto="NEBBIPHGMAJGGEJMHIGKOEBPCCAA.rickard.falk&#64;excosoft.se"
expires="-1"

To:<w3c-dist-auth@w3.org>


> What should I respond if a client asks for the properties
> Getcontentlength or GetContentType on a collection?

For DAV:getcontentlength, RFC 2518 states, in section 13.4, that it contains
"the Content-Length header returned by a GET without accept headers."

> But it doesn't say, if the value a supposed to be the same as if
> I perform a 'Get' on that url.

I'm finding it difficult to see how you came to this interpretation.

> The collection itself doesn't
> normally have a content, so does this mean that if the collection
> have a default page. That it should return the values of that
> page?

Yes, that was the intent for collections.

If you can retrieve the contents of resource R via a GET on URLs collection/
and collection/index.html, then this implied to me that resource R had two
URL mappings. In particular, it meant that a GET on collection/ was
non-zero, and should result in a value for DAV:getcontentlength and
DAV:getcontenttype.

> Or if the server is set to send a generated HTML page
> listing the children, should the values be text/html and the size
> of that page?

That was also the intent. Now, given the performance implications of this, I
can easily see why a server might not want to compute a value here. Seems
like it would be handy to have a value a server could use to indicate that
the content length is variable, and dynamic, like <d:dynamic/> and thus
allow a server to avoid computing the contents of dynamic resources.

> Or have I missed something in the spec?

Doesn't look like it.

- Jim



