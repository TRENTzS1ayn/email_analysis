docno="lists-040-3486534"
received="Mon Aug 14 20:02:20 2000"
isoreceived="20000815000220"
sent="Mon, 14 Aug 2000 16:56:36 -0700"
isosent="20000814235636"
name="Jim Whitehead"
email="ejw@ics.uci.edu"
subject="RE: WebDAV enabled applet example"
id="NDBBIKLAGLCOPGKGADOJMELODIAA.ejw@ics.uci.edu"
charset="iso-8859-1"
inreplyto="NDBBIKLAGLCOPGKGADOJAELODIAA.ejw&#64;ics.uci.edu"
expires="-1"

To: WebDAV WG<w3c-dist-auth@w3.org>,csamson@ndirect.co.uk


Oops -- looks like this message was accidentally attributed to me when I
re-sent it to the list after it was caught by the spam filter.  It was
originally sent by JC Sampson <csamson@ndirect.co.uk>. I've added this email
address to the accept2 list, so future emails will go through to the list.


My only thoughts are:

>           to_server.println("PROPFIND " + filename + " HTTP/1.0\r\n\r\n");

This looks like it would send too many CRLF's -- I think you should omit the
\r\n\r\n at the end of the line, since the CRLF added by println should be
sufficient.  Also, you should be sending HTTP/1.1, not HTTP/1.0.

>           to_server.println("Host:" +  host);
>           to_server.println("Content-Type: text/xml");
>           to_server.println("Authorization: Basic " + userpass + " ");
>            query="<?xml version=\"1.0\" encoding=\"utf-8\"?>"+
>             "<D:propfind xmlns:D=\"DAV:\">"+
>             "<D:allprop/></D:propfind>";
>           to_server.println("Content-Length: "+ query.length());
>           to_server.println(query);
>           to_server.flush();

Perhaps it also expects a User-Agent header as well.  Do you get the same
behavior interacting against Sharemation <http://www.sharemation.com/>?

- Jim



