docno="lists-040-3840412"
received="Fri Oct 20 02:52:13 2000"
isoreceived="20001020065213"
sent="Fri, 20 Oct 2000 08:34:12 +0200"
isosent="20001020063412"
name="Anton Schegg"
email="anton.schegg@ixos.de"
subject="RE: WebFolder does not recognize my WebDAV server"
id="077097E85A6BD3119E910800062786A90125A289@muc-mail5.ixos.de"
charset="iso-8859-1"
inreplyto="WebFolder does not recognize my WebDAV server"
expires="-1"


To:"'w3c-dist-auth@w3.org'"<w3c-dist-auth@w3.org>

Hello all,

Thanks for the answers. Specifying the namespace (xmlns:D="DAV:") in the
multistatus response is the solution.

Confusion was caused probably through the following:
I specified "http://muc01134:8888/DAV/" in WebFolder. "/DAV/" induces tomcat
to invoke my own servlet (because I configured it in that way). WebFolder
now tries to get a response from "http://muc01134:8888/" before finally
going to try "http://muc01134:8888/DAV/". This is the reason for having some
leading requests (WebFolder checks for frontpage extensions) and responses
in my logfile, which are handled by the HTTP-Server itself and without
invoking my servlet.

Best regards,
Anton Schegg


-----Original Message-----
From: Greg Stein [mailto:gstein@lyra.org]
Sent: Thursday, October 19, 2000 11:00 PM
To: Anton Schegg
Cc: 'w3c-dist-auth@w3.org'
Subject: Re: WebFolder does not recognize my WebDAV server


Oh, geez. What has this list come to. Three replies, and three incorrect (or
close to it) answers...

A1: "respond with HTTP/1.1"
--> well, this is obviously not a prerequisite because we see that Web
    Folders *does* end up doing a PROPFIND. So it obviously doesn't mind.

A2: "use 'DAV :1.1' and 'MS-Author-Via: DAV'"
--> the former should be the 'DAV: 1,2' header and the latter is not
    required (it simply optimizes out a round trip). We also see in the log
    below that Anton returns those for the /DAV directory.

A3: "return MKCOL and PROPFIND in the OPTIONS response"
--> he is returning PROPFIND (but not MKCOL). Web Folders doesn't need the
    MKCOL... it already believes there is a DAV server there by the simple
    evidence that it issues a PROPFIND.


Sigh. Yes, using HTTP/1.1 in the response is a good idea and is technically
required (and it will help with connection persistence and request
pipelining). But it isn't a precondition. It would be good to return MKCOL,
too. I'd also suggest getting rid of that Status: header (it's useless).

I believe your real problem exists in the Multistatus response. You are
using the "DAV" namespace *prefix*, but have not placed the elements into
the "DAV:" *namespace*. Change your outermost element to:

<DAV:multistatus xmlns:DAV="DAV:">

That should hopefully do the trick. I haven't thoroughly analyzed the body
of your multistatus, but a rough glance seems to show it is okay.

Also, have you seen the Slide project? http://jakarta.apache.org/slide/
Or the Magi-DAV project? http://magi.endeavors.org/

Cheers,
-g



