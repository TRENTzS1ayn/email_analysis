docno="lists-041-11843700"
received="Wed Sep 18 12:30:30 2002"
isoreceived="20020918163030"
sent="Wed, 18 Sep 2002 09:29:28 -0700"
isosent="20020918162928"
name="Lisa Dusseault"
email="lisa@xythos.com"
subject="RE: Interop issue: how can clients force authentication?"
id="010401c25f30$903e0dd0$b701a8c0@xythoslap"
charset="us-ascii"
inreplyto="E95E4968-CADF-11D6-9F78-00039384827E&#64;greenbytes.de"
expires="-1"

To:"'Stefan Eissing'"<stefan.eissing@greenbytes.de>
Cc:"Webdav WG"<w3c-dist-auth@w3c.org>



> First, I bet that 100% of all non-broken, existing servers do
> authentication checks before looking at the request resource and
> its properities like locks. It's the sensible thing to do, as a
> user might not even have read permission on the resource. So
> one probably should prevent him/her from finding out about the lock
> status of the resource.

No, and why should they?  There's nothing in RFC2518 that requires
servers to support locks only for authenticated users.  If a resource is
publicly writable, there may be nothing to prevent unauthenticated users
from taking out locks and using lock tokens.  Recall that the If header
can also be used with ETags, which are not at all associated with how a
user is authenticated.

Also, recall that in order to "do authentication checks", the server
must respond to the client with a 401 with the WWW-Authenticate header,
then the client must make another request.  

Of course if the client sent its authentication information on the first
request, the server is likely to check it.  However, the client can't
even send its authentication information if it doesn't yet know whether
the server supports digest or basic, or what realm, nonce, etc.  That's
why Ilya wants to be able to ask the server to reply with a
WWW-Authenticate header.  

Lisa



