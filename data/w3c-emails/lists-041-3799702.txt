docno="lists-041-3799702"
received="Fri Jun 28 18:50:36 2002"
isoreceived="20020628225036"
sent="Fri, 28 Jun 2002 15:48:58 -0700"
isosent="20020628224858"
name="Jim Whitehead"
email="ejw@cse.ucsc.edu"
subject="FW: Re: Collections and Request-URIs"
id="AMEPKEBLDJJCCDEJHAMIGEPPFAAA.ejw@cse.ucsc.edu"
charset="US-ASCII"
inreplyto="Re: Collections and Request-URIs"
expires="-1"

To:"WebDAV"<w3c-dist-auth@w3.org>



Accidentally caught by the spam filter. I have added <gdlxn@us.ibm.com> to
the accept2 list, so future email from Geoff Alexander will go straight
through to the list. Please cc Geoff on your reply, since it's unclear
whether he's subscribed to the list.

- Jim

-----Original Message-----
From: Geoff Alexander [mailto:gdlxn@us.ibm.com]
Sent: Friday, June 28, 2002 2:44 PM
To: w3c-dist-auth@w3.org
Subject: [Moderator Action] Re: Collections and Request-URIs


On Mon, 17 Jun 2002 16:45:44 -0700, Jim Luther wrote:
RFC 2518, section 5.2 says:

"There is a standing convention that when a collection is referred to by
its name without a trailing slash, the trailing slash is automatically
appended.  Due to this, a resource may accept a URI without a
trailing "/" to point to a collection. In this case it SHOULD return a
content-location header in the response pointing to the URI ending with
the "/". For example, if a client invokes a method on
http://foo.bar/blah (no trailing slash), the resource
http://foo.bar/blah/ (trailing slash) may respond as if the operation
were invoked on it, and should return a content-location header with
http://foo.bar/blah/ in it.  In general clients SHOULD use the "/" form
of collection names."

We are developing a WebDAV server and have encountered interoperability
problem with request on collections in which the resource does not have a
trailing slash.  Where do things stand on this issue?  Our testing indicates
that the above does not work in the real world.  For example, both IE 5 and
Netscape 4.7 do not properly process relative references in response to a
GET request on a collection without the trailing slash..  I guess one could
say that IE and Netscape only support the HTTP protocol and not WebDAV
protocol, but then our server would have to determine whether the request
was HTTP or WebDAV (which is not a workable solution).  Also, we have
encountered interoperability problem with other WebDAV clients.

I see three possible solutions:

1. Treat the collection URI with out a trailing slash the same as same URI
with a trailing slash and include a Content-Location header with "corrected"
URI in the response.

2. Perform a a redirect by sending a 301 Moved Permanently response on safe
requests such as GET, HEAD, OPTIONS, and PROPFIND (Where can we find the
definitive list of the safe WebDAV and Delta-V safe methods?) and treat a
collection URI with out a trailing slash the same as same URI with a
trailing slash for unsafe requests.

3. Perform a redirect by sending a 301 Moved Permanently response on all
requests.
It seems that all of three of the solutions result in interoperability
problems with some WebDAV clients.  So what is a WebDAV server writer to do?

Thanks,
Geoff Alexander, Ph.D.
919/254-5216 T/L 444-5216
CMVC WebDAV Development
IBM Corporation
RTP, NC



