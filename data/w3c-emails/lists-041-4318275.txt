docno="lists-041-4318275"
received="Thu Jan 10 20:52:43 2002"
isoreceived="20020111015243"
sent="10 Jan 2002 17:51:54 -0800"
isosent="20020111015154"
name="Erik Seaberg"
email="erk@flyingcroc.com"
subject="Re: FW: I-D ACTION:draft-dusseault-dav-quota-01.txt"
id="86lmf5u01x.fsf@unx51.staff.flyingcroc.net"
inreplyto="HPELJFCBPHIPBEJDHKGKMEPPDDAA.lisa&#64;xythos.com"
expires="-1"

To:w3c-dist-auth@w3c.org
Cc: Lisa Dusseault<lisa@xythos.com>


Lisa Dusseault <lisa@xythos.com> writes:

> A new draft is now out on quota.  I've addressed a number of
> comments, mostly from Jim.  Note that as a result of this review the
> property names have changed.  Please review, it's not long.

A client that wants to know how much storage is actually available in
a collection has to PROPFIND each parent up to "/" looking for the
minimum (quota-bytes - space-used-bytes) value.  That number should be
a live property, since any server enforcing quotas must be able to
produce it fairly efficiently.

It's natural to want to handle this through quotactl(2) on Unix, but
the draft says {DAV:}space-used-bytes "MUST include child collections
and all resources inside those child collections" without regard for
who created them.  Is the intent that all users MUST (or SHOULD) see
identical {DAV:}quota-bytes and {DAV:}space-used-bytes values, or may
an admin reveal quotas they've assigned to particular users?

Should a client be able to atomically reserve some of a collection's
storage so expensive requests don't have to race with others to claim
the last bytes?  It could be a header like

Expect: 100-continue, reserve; content-length="999999"

in a large PUT for example, or a live property on a collection
allowing a reservation for several smaller resources or properties.

On style, HTTP seems to use "octets" rather than "bytes" everywhere
other than range requests.


(BTW, what's the correct charset for the draft?  0xF4 and 0xF6 octets
appear in place of a few quotation marks.)



