docno="lists-041-4931900"
received="Fri Jan 25 07:37:14 2002"
isoreceived="20020125123714"
sent="Fri, 25 Jan 2002 13:36:42 +0100"
isosent="20020125123642"
name="Julian Reschke"
email="julian.reschke@gmx.de"
subject="need clarification about COPY to locked resource response code"
id="JIEGINCHMLABHJBIGKBCIEBJDOAA.julian.reschke@gmx.de"
charset="iso-8859-1"
inreplyto="3906C56A7BD1F54593344C05BD1374B103F8AEA9&#64;SUS-MA1IT01"
expires="-1"

To:"WebDAV"<w3c-dist-auth@w3.org>


Hi,

when running the Litmus test suite against our server, we came across the
following problem for lock test 8 (COPY):

In this test case, a non-locked resource is copied to a locked resource
without giving the lock token in the If: header.

Litmus expects the server to return 423 LOCKED (and this is what moddav
does).

Both our server and IIS however return a 207 MULTISTATUS, and have a
response element for the *destination URI* with an 423 LOCKED status.

I think the latter is correct, because the problem isn't with the request
URI.

In the section about COPY behaviour for *collections*, RFC2518 says [1]:

"If an error in executing the COPY method occurs with a resource other than
the resource identified in the Request-URI then the response MUST be a 207
(Multi-Status)."

I think this should apply to copying non-collections as well.

Julian




[1] <http://www.greenbytes.de/tech/webdav/rfc2518.html#rfc.section.8.8.3>



