docno="lists-041-7389103"
received="Thu Mar  7 10:06:54 2002"
isoreceived="20020307150654"
sent="Thu, 7 Mar 2002 16:06:16 +0100"
isosent="20020307150616"
name="Julian Reschke"
email="julian.reschke@gmx.de"
subject="RFC2518 issue: format for multistatus when no property reported at all"
id="JIEGINCHMLABHJBIGKBCOEMLECAA.julian.reschke@gmx.de"
charset="us-ascii"
inreplyto="JIEGINCHMLABHJBIGKBCEELHECAA.julian.reschke&#64;gmx.de"
expires="-1"

To:"DAV"<w3c-dist-auth@w3.org>


Consider a PROPFIND request like:

<propfind xmlns='DAV:'><prop/></propfind>

I think this is clearly legal (by the DTD) and it can make sense if you're
for instance just getting a list of member URIs for a collection.

What format do we expect for the response body?

1)

<multistatus xmlns="DAV:">
  <response>
    <href>foobar</href>
  </response>
</multistatus>


I think this makes a lot of sense, but it breaks the DTD for the response
element.


2)

<multistatus xmlns="DAV:">
  <response>
    <href>foobar</href>
    <propstat>
      <prop/>
      <status>HTTP/1.1 200 OK</status>
    </propstat>
  </response>
</multistatus>

Conforms to the DTD, but isn't really logical (because in this case you may
expect a 200 propstat element in the case where all queried properties are
reported as 404 NOT FOUND as welll).


3)

<multistatus xmlns="DAV:">
  <response>
    <href>foobar</href>
    <status>HTTP/1.1 200 OK</status>
  </response>
</multistatus>

Conforms to the DTD as well, but isn't very logical. Why would the status
element on response be required, if it is not when properties *are*
reported.


Proposal:

allow format 1).

Julian



