docno="lists-042-10370876"
received="Tue Nov  4 13:35:02 2003"
isoreceived="20031104183502"
sent="Tue, 4 Nov 2003 09:32:31 -0800"
isosent="20031104173231"
name="Stanley Guan"
email="stanley.guan@oracle.com"
subject="Status Code/Entity body encoded in XML"
id="008301c3a2f9$a082f800$c5b42382@us.oracle.com"
charset="iso-8859-1"
expires="-1"


To:<w3c-dist-auth@w3.org>

Hi,

What's the rule of thumb to find out there is an XML payload
in the entity body?  In the following examples, 
    1. Status code alone doesn't provide the clue
        However, the spec. says that:
           "Based on returned status code, the client can 
            always take a resonable course of action."
    2. Content-Type seems to be the clue.

What's the guideline for the server to return an XML payload
in the entity body?  Say, for the PROPFIND, can it returns
200 (instead of 207) as status code and returns the property
value like:
   <?xml version="1.0" encoding="utf-8" ?>
   <D:prop xmlns:D="DAV:">
   ...
   </D:prop>

Will appreciate your clarification!

-Stanley
===============================================
PROPFIND /container/ HTTP/1.1 
Host: www.foo.bar 
Content-Length: xxxx 
Content-Type: text/xml; charset="utf-8" 


   <?xml version="1.0" encoding="utf-8" ?>
   <D:propfind xmlns:D='DAV:'>
     <D:prop><D:lockdiscovery/></D:prop>
   </D:propfind>

>>Response 

HTTP/1.1 207 Multi-Status 
Content-Type: text/xml; charset="utf-8" 
Content-Length: xxxx 


   <?xml version="1.0" encoding="utf-8" ?>
   ...
==============================================
>>Request LOCK /workspace/webdav/proposal.doc HTTP/1.1 Host: webdav.sb.aol.com Timeout: Infinite, Second-4100000000 Content-Type: text/xml; charset="utf-8" Content-Length: xxxx Authorization: Digest username="ejw", realm="ejw@webdav.sb.aol.com", nonce="...", uri="/workspace/webdav/proposal.doc", response="...", opaque="..."    <?xml version="1.0" encoding="utf-8" ?>
   <D:lockinfo xmlns:D='DAV:'>
     <D:lockscope><D:exclusive/></D:lockscope>
     <D:locktype><D:write/></D:locktype>
     <D:owner>
          <D:href>http://www.ics.uci.edu/~ejw/contact.html>
     </D:owner>
   </D:lockinfo>
>>Response HTTP/1.1 200 OK Content-Type: text/xml; charset="utf-8" Content-Length: xxxx    <?xml version="1.0" encoding="utf-8" ?>
    ...



