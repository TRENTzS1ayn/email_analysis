docno="lists-042-1302920"
received="Thu Jan 16 19:42:53 2003"
isoreceived="20030117004253"
sent="Thu, 16 Jan 2003 16:42:13 -0800"
isosent="20030117004213"
name="Chris Knight"
email="Christopher.D.Knight@nasa.gov"
subject="Re: PROPFIND returning *more* than expected, and other questions"
id="3E275165.4070200@nasa.gov"
charset="us-ascii"
inreplyto="JIEGINCHMLABHJBIGKBCAEHOGDAA.julian.reschke&#64;gmx.de"
expires="-1"


To: Julian Reschke<julian.reschke@gmx.de>
CC:w3c-dist-auth@w3.org


Julian Reschke wrote:
 > Chris Knight wrote:
>>I'd like to discuss these questions (hopefully not at length, they
>>should be fairly easy to answer) at the Interim WG meeting...But I
>>thought I'd throw out the e-mail so people could ponder it first.
>>
>>I'm working on a project that is providing rich searching capabilities
>>to DAV properties. One feature we'd like to provide is keyword searching
> 
> 
> Did you consider
> 
> a) a new DASL grammar or
> b) a new REPORT?

Point taken.

>>behaviors for properties. Say, for example, you requested <foo:author>
>>and the resource had <foo:author>, <foo:author_name>, and <foo:authors>
>>the server's response would contain all of these properties.
> 
> 
> If you do this upon PROPFIND/prop, that's illegal.

I thought this too but I didn't find anything in the RFC that would make 
such behavior illegal. I don't think it's worthy of inclusion in the RFC 
but a clarification of this would be worthwhile.  (Clarification being 
must the server only respond with the values requested?)

>>It appears that clients should expect to get fewer properties than they
>>request and I would assume they'd accept more but I'd like to get the
>>opinion of the community to ensure that we aren't doing something to
>>break the protocol.
> 
> Upon PROPFIND/prop, clients should expect to get entries for all properties
> that were requested (not more, not less), possibly with non-200 status codes
> (such as 404 for property not found).

Ah yeah I mis-read the RFC on this one. Ok. I reverse my assumption 
(assuming, instead, that requesting property foo should only return 
property foo's value, not property foobar's as well.)

>>Second question, can a server respond to a PROPFIND for a particular
>>property with multiple values for that property?
> 
> 
> No. A property has exactly one value.

I should have known this one, yeah that's true.

>>Thirdly, if a property has a rich XML structure as it's value, we'd like
>>to return any matching XML tag in that structure.  (So if the
>><foo:authors> tag contained <foo:author>Chris</foo:author>
>><foo:author>David</foo:author> it would return all the <foo:authors> and
>>each of the <foo:author> values separately.)
> 
> 
> I don't understand what this is good for. It's certainly not-compliant
> behaviour.

Agreed.



