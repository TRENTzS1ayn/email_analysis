docno="lists-042-13496746"
received="Mon Jun  7 07:22:18 2004"
isoreceived="20040607112218"
sent="Mon, 7 Jun 2004 07:21:13 -0400"
isosent="20040607112113"
name="Geoffrey M Clemm"
email="geoffrey.clemm@us.ibm.com"
subject="Re: Issue #68: UNLOCK_WITHOUT_GOOD_TOKEN"
id="OFBBF6072F.E7214F2B-ON85256EAC.003DBFAE-85256EAC.003E6554@us.ibm.com"
charset="ISO-8859-1"
inreplyto="40C41AD5.6040204&#64;gmx.de"
expires="-1"

To:w3c-dist-auth@w3.org


Since none of the current implementations agree, I'd go with the
one that seemed to be trying the hardest to implement what the
specification says, and I agree with Julian that this is the Apache
behavior.

Cheers,
Geoff

Julian wrote on 06/07/2004 03:35:49 AM:
> 
> Geoffrey M Clemm wrote:
> 
>  > I would vote for treating the lock-token as a request header
>  > that contributes to precondition checking, so I agree with
>  > the ModDav/Microsoft behavior.
> 
> '%"$%$?! I mistyped the results. The actual results are:
> 
> (a) Microsoft IIS 5.0: (a1) no lock token: 400, (a2) bad lock token: 
412.
> 
> (b) Apache/Moddav 2.0.49: (b1) no lock token: 400, (b2): bad lock token: 

> 400.
> 
> (c) SAP Enterprise Portal 5SP6: (c1) no lock token: 412, (c2): bad lock 
> token: 412.
> 
> (d) Xythos (Sharemation): see (c). (I also note that Xythos is returning 

> invalid lock tokens)
> 
> RFC2616 treats exactly all "If-*" headers as defining preconditions. 
> RFC2518 adds "If" (which is obvious) and also explicitly "Overwrite" 
> (but at least it's clear about it). As RFC2518 nowhere states that the 
> "Lock-Token" header expresses a "precondition", I'm leaning to 
> favorizing Apache's behaviour (which is *not* what IIS does...).



