docno="lists-042-4064419"
received="Thu Mar  6 02:20:57 2003"
isoreceived="20030306072057"
sent="Thu, 6 Mar 2003 08:20:43 +0100"
isosent="20030306072043"
name="Julian Reschke"
email="julian.reschke@gmx.de"
subject="RE: Operations not Atomic (was: bind draft issues)"
id="JIEGINCHMLABHJBIGKBCKEMAGKAA.julian.reschke@gmx.de"
charset="us-ascii"
inreplyto="OFA7EB80DD.AB060CBC-ON85256CE1.0001D4D7&#64;us.ibm.com"
expires="-1"

To:"Jason Crawford"<nn683849@smallcue.com>,"Julian Reschke"<julian.reschke@gmx.de>
Cc:"Brian Korver"<briank@xythos.com>,"WebDAV"<w3c-dist-auth@w3.org>



> From: w3c-dist-auth-request@w3.org
> [mailto:w3c-dist-auth-request@w3.org]On Behalf Of Jason Crawford
> Sent: Thursday, March 06, 2003 1:31 AM
> To: Julian Reschke
> Cc: Brian Korver; WebDAV
> Subject: RE: Operations not Atomic (was: bind draft issues)
>
>
>
>
>
>
> > > For MOVE, I mostly mean the DELETE that occurs when the MOVE causes
> > > an overwrite, although I could be convinced that ending up with 2
> > > bindings to the collection in the event of an interrupted MOVE,
> > > while inadvisable, shouldn't be prohibited.
> >
> > That's indeed a problem. All "overwrite" operations require a DELETE
> (this
> > also applies to BIND (!)), so having them atomic when the target is a
> > collection has the same problems has the collection DELETE itself.
>
>
> I am curious...
>
> What does a system that doesn't support "atomic delete"
> do in this situation if it gets stuck midway though the deallocation
portion
> of the DELETE?   Does it leave the destination partially deleted and
> abort the operation leaving it up the client to figure out what state this
> was all left in?

I think the answer is "yes". If the DELETE on the operation target isn't
atomic, I don't think there's any way to avoid this.

Julian

--
<green/>bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760



