docno="lists-042-4074826"
received="Thu Mar  6 04:24:22 2003"
isoreceived="20030306092422"
sent="Thu, 06 Mar 2003 18:25:41 +0900"
isosent="20030306092541"
name="Taisuke Yamada"
email="tai@iij.ad.jp"
subject="Re: Operations not Atomic (was: bind draft issues)"
id="vwzof4on8x6.fsf@mocha.iij.ad.jp"
charset="us-ascii"
inreplyto="OFA7EB80DD.AB060CBC-ON85256CE1.0001D4D7&#64;us.ibm.com"
expires="-1"

To:"WebDAV"<w3c-dist-auth@w3.org>




>> That's indeed a problem. All "overwrite" operations require a DELETE
>> (this also applies to BIND (!)), so having them atomic when the target
>> is a collection has the same problems has the collection DELETE itself.
>
> What does a system that doesn't support "atomic delete"
> do in this situation if it gets stuck midway though the deallocation
> portion of the DELETE?

Why is "atomic DELETE" a problem? Couldn't it be implemented
just by simply moving resource out of current namespace?
My understanding is that any DELETE is just a MOVE to outerspace.

IMHO, you shouldn't really DELETE it before full COPY/MOVE/BIND
operation completes. If you do that, then you can't rollback
these operations in case of an interrupt (unless you keep DAV
resource content on RDB or something).

--
Taisuke Yamada <tai@iij.ad.jp>
Internet Initiative Japan Inc., Technical Planning Division



