docno="lists-042-4845196"
received="Mon Mar 10 14:59:53 2003"
isoreceived="20030310195953"
sent="Mon, 10 Mar 2003 14:59:45 -0500"
isosent="20030310195945"
name="Clemm, Geoff"
email="gclemm@rational.com"
subject="RE: Move and Delete (was: bind draft issues)"
id="E4F2D33B98DF7E4880884B9F0E6FDEE25ED6FA@SUS-MA1IT01"
charset="iso-8859-1"
inreplyto="Move and Delete (was: bind draft issues)"
expires="-1"


To:"'WebDAV'"<w3c-dist-auth@w3.org>


The check for "is this the last binding" is not sufficient,
because the multiple binding might be to a parent of the
resource.  In the example I gave below, the "wife" binding
might be the only binding to the wife resource, but deleting
it is a problem because there is another binding to JEFF.

Cheers,
Geoff

-----Original Message-----
From: Julian Reschke [mailto:julian.reschke@gmx.de]
Sent: Saturday, March 08, 2003 2:35 AM
To: Clemm, Geoff; 'WebDAV'
Subject: RE: Move and Delete (was: bind draft issues)


> From: w3c-dist-auth-request@w3.org
> [mailto:w3c-dist-auth-request@w3.org]On Behalf Of Clemm, Geoff
> Sent: Saturday, March 08, 2003 3:09 AM
> To: 'WebDAV'
> Subject: RE: Move and Delete (was: bind draft issues)
>
>
>
>    From: Brian Korver [mailto:briank@xythos.com]
>
>    Other than loops, what are the problems unique to multiple
>    bindings and partial MOVE?
>
> One example was posted in the message below:
>
>    From:Clemm, Geoff [gclemm@Rational.Com]
>    Sent:Monday, March 03, 2003 6:34 PM
>    Subject:RE: Move and Delete (was: bind draft issues)
>
>    ...
>    because it can cause a DELETE in one collection to cause a change
>    in another collection, and this kind of "deletion side effect"
>    was something we explicitly were trying to avoid.  For example,
>    suppose /henry/has-friend/jeff and /jim/has-friend/jeff
>    were bindings to the same collection, JEFF, and JEFF has a binding
>    named "wife" to a resource, MARI.  Now suppose henry gets mad
>    at jeff, and issues a "DELETE /henry/has-friend/jeff" request.
>    But suppose at that moment someone else has a Depth:0 lock
>    on the /henry/has-friend collection.  The result of a "best effort"
>    deletion is the removal of the "wife" binding from JEFF.  That
>    may be OK if you were just updating the information accessible
>    from /henry (he isn't JEFF's friend anymore, and he's happy to
>    purge as much information about JEFF as he can), but with multiple
>    bindings, "best effort" deletion has now trashed the JEFF object
>    in all the other contexts in which it is still visible (and the
>    folks that still are his friends are still interested in that
>    information).
>
>    So we're not saying that "best effort deletion" is always a bad thing,
>    but we are saying that "best effort deletion" is a bad thing when
>    you care about multiple bindings to the same resource.

Geoff,

I don't think this issue exists if a server does UNBIND when removing one of
multiple bindings and non-atomic-DELETE when removing the last binding (see
[1]).


[1] <http://lists.w3.org/Archives/Public/w3c-dist-auth/2003JanMar/0263.html>

--
<green/>bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760



