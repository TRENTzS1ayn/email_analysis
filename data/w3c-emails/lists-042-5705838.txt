docno="lists-042-5705838"
received="Thu Mar 27 14:34:56 2003"
isoreceived="20030327193456"
sent="Thu, 27 Mar 2003 20:34:46 +0100"
isosent="20030327193446"
name="Julian Reschke"
email="julian.reschke@gmx.de"
subject="RE: I-D ACTION:draft-ietf-webdav-quota-01.txt"
id="JIEGINCHMLABHJBIGKBCCEDHGOAA.julian.reschke@gmx.de"
charset="US-ASCII"
inreplyto="1020644B-5F1F-11D7-BFAA-000393753936&#64;apache.org"
expires="-1"

To:"WebDAV"<w3c-dist-auth@w3.org>



> From: w3c-dist-auth-request@w3.org
> [mailto:w3c-dist-auth-request@w3.org]On Behalf Of Roy T. Fielding
> Sent: Wednesday, March 26, 2003 1:08 AM
> To: Clemm, Geoff
> Cc: WebDAV
> Subject: Re: I-D ACTION:draft-ietf-webdav-quota-01.txt
>
> ...
>
> > There are some obvious
> > cases (a syntactically ill-formed request), but many of the others
> > could fall in either category (the quota errors, in particular).
>
> Not really.  If the request would have succeeded but did not due
> to an addition of bytes exceeding quota, then it is a 5xx.
> If the request alone is sending a body greater than the quota max
> (disregarding other content on the server), then the correct
> response is not quota-exceeded but rather 413 (Request Entity Too
> Large).
>
> ...

For the record -- having read Roy's comment and looking again at RFC2616 --

"Response status codes beginning with the digit "5" indicate cases in which
the server is aware that it has erred or is incapable of performing the
request."

I now agree that a 5xx code is the right one for "quota exceeded". However I
still think it's valuable to be able to distinguish between the various
reasons for 507 (Insufficient Storage), so I think we should have specific
condition (for marshalling in DAV:error) for the various conditions.

Julian

--
<green/>bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760



