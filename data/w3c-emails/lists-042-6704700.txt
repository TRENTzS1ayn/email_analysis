docno="lists-042-6704700"
received="Mon Aug  4 12:03:08 2003"
isoreceived="20030804160308"
sent="Mon, 4 Aug 2003 18:02:55 +0200"
isosent="20030804160255"
name="Julian Reschke"
email="julian.reschke@gmx.de"
subject="RE: Clarification of COPY semantics with Overwrite: T"
id="JIEGINCHMLABHJBIGKBCCEALIBAA.julian.reschke@gmx.de"
charset="iso-8859-1"
inreplyto="DFF2AC9E3583D511A21F0008C7E6210605C47FD9&#64;daemsg02.software-ag.de"
expires="-1"

To:"Nevermann, Dr., Peter"<Peter.Nevermann@softwareag.com>,<w3c-dist-auth@w3.org>


Clarification of COPY semantics with Overwrite: T1) Yes.

2) 3 (I doubt that many servers get this right :-).

Julian

--
<green/>bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760

  -----Original Message-----
  From: w3c-dist-auth-request@w3.org [mailto:w3c-dist-auth-request@w3.org]On
Behalf Of Nevermann, Dr., Peter
  Sent: Monday, August 04, 2003 5:51 PM
  To: 'w3c-dist-auth@w3.org'
  Subject: Clarification of COPY semantics with Overwrite: T


  RFC2518, Section 8.8.4 states:

     If a resource exists at the destination and the
     Overwrite header is "T" then prior to performing
     the copy the server MUST perform a DELETE with
     "Depth: infinity" on the destination resource.

  RFC3253, Section 1.7 states:

     If at the time of the request, there already is a
     resource at the destination that has the same
     resource type as the corresponding resource at the
     request-URL, that resource MUST NOT be deleted,
     but MUST be updated to have the content and dead
     properties of its corresponding member.

  1) Resource-ID:
  In terms of binding and with the semantics of RFC3253, I suppose that the
DAV:resource-id of the resource being overwritten at destination doesn't
change by the COPY operation. Right?

  2) Bindings:
  Suppose there is a collection C1 mapped to URI-1 with 2 bindings a1->R1
and a2->R2 ... moreover, a colletion C2 mapped to URI-2 with 2 bindings
a1->R1' and a3->R3'.

  Now I issue the follwing request:
    COPY URI-1
    Destination: URI-2
    Overwrite: T

  How many bindings has C2 after the COPY? In the "old" semantics of RFC2518
the answer clearly is 2 since the tree of C2 gets deleted prior to the COPY.
In the semantics of RFC3253 it could be 3: C2 is updated with the dead
properties of C1, a1->R1' is updated with content+dead-props of R1, a2->R2'
is created based of R2 and a3->R3' remains unchanged. Or should a3->R3' be
unbinded?

  Thanks,
  Peter



