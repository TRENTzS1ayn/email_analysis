docno="lists-042-7115647"
received="Mon Aug 11 14:41:09 2003"
isoreceived="20030811184109"
sent="Mon, 11 Aug 2003 20:40:31 +0200"
isosent="20030811184031"
name="Julian Reschke"
email="julian.reschke@gmx.de"
subject="RE: Changing etag and getlastmodified on move/rename"
id="JIEGINCHMLABHJBIGKBCGECMICAA.julian.reschke@gmx.de"
charset="utf-8"
inreplyto="008101c3602f$5fd6fc00$f8cb90c6&#64;lisalap"
expires="-1"

To:"Lisa Dusseault"<lisa@xythos.com>,"'Julian Reschke'"<julian.reschke@gmx.de>,"'Webdav WG'"<w3c-dist-auth@w3c.org>



> From: w3c-dist-auth-request@w3.org
> [mailto:w3c-dist-auth-request@w3.org]On Behalf Of Lisa Dusseault
> Sent: Monday, August 11, 2003 7:38 PM
> To: 'Julian Reschke'; 'Webdav WG'
> Subject: RE: Changing etag and getlastmodified on move/rename
> 
> 
> 
> > It shouldn't. Also, the other combination can occur as well 
> > (ETag changes, but getlastmodified doesn't). This is because 
> > the ETag must be unique for all representations produced for 
> > a particular URL (+ variant-selecting headers), *not* the resource.
> > 
> > Consider:
> > 
> > /a/b with etag "1"
> > /a/c with etag "1"
> > MOVE /a/b -> a/c
> > 
> > The resulting ETag for "/a/c" MUST NOT be 1.
> > 
> 
> Wouldn't the "getlastmodified" value change during this operation 
> as well?  I'm assuming that at the beginning /a/b and /a/c had 
> different content, which is why the ETag had to changed when the 
> MOVE caused the content /a/c to be overwritten with the content 
> from /a/b.  If that's the case then the result of a GET to /a/c 
> is different after the move, so the 'getlastmodified' must also change.

Most of the time yes, but not always: if /a/b and /a/c might have had the same DAV:getlastmodified property before the MOVE, in which case the date for /a/c may not change (one of the reasons why ETags are better than dates).

Seems that the HTTP caching (lastmodified and etag) aren't very compatible with WebDAV namespace operations.


--
<green/>bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760 



