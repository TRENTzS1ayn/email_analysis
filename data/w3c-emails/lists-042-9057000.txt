docno="lists-042-9057000"
received="Sat Oct 11 17:31:01 2003"
isoreceived="20031011213101"
sent="Sat, 11 Oct 2003 14:30:38 -0700"
isosent="20031011213038"
name="Dennis E. Hamilton"
email="dennis.hamilton@acm.org"
subject="Ignoring Versus Not Validating &lt;!DOCTYPE ...&gt;"
id="FFEPLLNFAHGBKNENFGPAEEDKDDAA.dennis.hamilton@acm.org"
charset="us-ascii"
inreplyto="JIEGINCHMLABHJBIGKBCCEILIMAA.julian.reschke&#64;gmx.de"
expires="-1"

To:"Julian Reschke"<julian.reschke@gmx.de>,<w3c-dist-auth@w3.org>



Hi Julian,

I am responding to your last comment first, since I think this is an issue to have be clear right away.  This is one of the places where I see missing precision in definition of the DAV reliance on XML 1.0:

1.Accepting that the WebDAV specification says that WebDAV XML is not to be validated, that is not the same as saying that any <!DOCTYPE ...> Document Type Declaration can be ignored. 

2.XML 1.0 gives specific instructions about what must be done with a Document Type Declaration even for a non-validating processor. The key statement is in XML 1.0 Recommendation section 5.1, Validating and Non-Validating Processors <http://www.w3.org/TR/REC-xml#proc-types>.  

3.The use of Document Type Declarations in non-validating situations is illustrated in the RDF Primer.   See <http://www.w3.org/TR/2003/WD-rdf-primer-20031010/#example48> and the discussion immediately preceding the example.  The official (candidate) RDF Schema for OWL uses this very technique (<http://www.w3.org/TR/2003/CR-owl-ref-20030818/#appB>). 

(These illustrate the RDF hack, by the way.  In some parts of RDF, (adlib) QNames *are* mapped to URIs by concatenation of the namespace URI that the prefix stands for, plus the local-name part, into a new URI.  The <!DOCTYPE ...> is used to set up entity declarations that are used in xmlns:... attributes and in directly writing the URI form in literals and attribute values.)

4.Rather than have so much sensitivity to out-of-band nuances, I think it would be cleaner and more interoperable (for DAV, not arbitrary XML) to have the DAV application of XML 1.0 specify that a Document Type Declaration must not be present.  Then (1) the XML can't be presumed to be validatable, and (2) there is no confusion about the validating versus non-validating use as there is when one is provided.
Since, as you say, it doesn't seem to be used, it might be a good idea to simplify here and say that it is not meant to be.
I don't have any skin in this particular game.  I just think it is a good idea, especially since there doesn't seem to be any demonstration of interoperability with Document Type Declarations present.

-- Dennis

-----Original Message-----
From: Julian Reschke [mailto:julian.reschke@gmx.de]
Sent: Saturday, October 11, 2003 04:04
To: dennis.hamilton@acm.org; w3c-dist-auth@w3.org
Subject: RE: How to use DTDs, or not to (was: RE: ACL and lockdiscovery)


Comments inline...

[ ... ]
>
> 3.4An example of (3.2) is the fact that it is not clear that
> the XML declaration is required for DAV XML documents and whether

As the spec doesn't say that it is required, it isn't.

> a Document Type Declaration is forbidden (as it is for SOAP, if I
> recall correctly).  I can't find where the DAV specification

As the spec doesn't say it's forbidden, it's allowed. Hoewever it does say
that servers/clients must not attempt to validate the documents.

[ ... ]
>
> 3.6Coming back to the specific case of DTD,
>
> 3.6.1It might be more appropriate to specifically reject
> the use of Document Type Declarations in DAV XML 1.0 documents
> that are used in HTTP bodies and headers and certainly for a MIME
> type that asserts DAV application.

Why does it matter? The spec says that they must be ignored, and in real
life I haver never seen a client or server sending a DOCTYPE. I don't think
there's an issue here.

> ...


Regards, Julian

--
<green/>bytes GmbH -- http://www.greenbytes.de -- tel:+492512807760



