docno="lists-042-9944138"
received="Sun Oct 19 21:42:50 2003"
isoreceived="20031020014250"
sent="Sun, 19 Oct 2003 18:42:51 -0700"
isosent="20031020014251"
name="Jim Whitehead"
email="ejw@cse.ucsc.edu"
subject="FW: WebDAV &amp; MacOS X AppleDouble Format"
id="AMEPKEBLDJJCCDEJHAMIAENOJMAA.ejw@cse.ucsc.edu"
charset="US-ASCII"
inreplyto="WebDAV &amp; MacOS X AppleDouble Format"
expires="-1"

To:"WebDAV"<w3c-dist-auth@w3.org>


WebDAV & MacOS X AppleDouble FormatAccidentally caught by the spam filter. I
have added frank.lowney@gcsu.edu to the accept2 list.

- Jim
-----Original Message-----
From: Frank Lowney [mailto:frank.lowney@gcsu.edu]
Sent: Sunday, October 19, 2003 5:16 AM
To: w3c-dist-auth@w3.org
Subject: [Moderator Action] WebDAV & MacOS X AppleDouble Format


As most here know, MaxOS X clients (OS built-in WebDAV support tested) send
files to a WebDAV-enabled server in AppleDouble format.  As I understand it,
this is done because files on MacOS X systems have two forks, one for data
and another for "resources."  The data fork file inherits the original name
of the file whereas the resource fork has the characters "._" prepended.
This is done in spite of the fact that the resource fork file serves no
useful purpose on the server.  Thus, my question is why upload this
vestigial tail?


The "._" prefix makes  the file invisible on most but not all system views.
Invisible or otherwise, these files accumulate and present a variety of
issues to end users and system administrators alike.


The only use for these files that I can imagine is that they serve a "round
trip" purpose.  If the resource fork of a file contains information on the
client's local system  and is then uploaded to the server and subsequently
downloaded to another client machine, does the resource data become reunited
with the data fork?  If so, one might have an argument to support this
practice, albeit a flawed one.


One flaw concerns the degree to which these two files can be kept paired
together in the same directory.  What happens if the resource fork file and
the data fork file get separated from one another or mixed-up with files of
the same name in other directories?  Another flaw concerns common HTML files
such as index.html  where it is particularly difficult to imagine resource
information of sufficient value to justify all of this juggling.


I have an indirect line of communication with an Apple engineer who
challenged me to show how this was a problem so that he could bring the
matter up with his colleagues.  If anyone here can add to or clarify what I
have offered, I'd be happy to pass that on as well.


----------- The engineer's challenge & my reply: ------------------


  ------ Forwarded Messag


  Does the Mac OS X 10.x WebDAV client convert resource forks into ._
  files when copying files to a WebDAV server?

  If that is the question, the answer is yes.

  If this is a problem, I need impact information to lobby for changing
  this behavior and potentially make it configurable.


The context.  Our experience covers three types of webserver as follows:


1) Apache on MacOS X and MacOS X Server


2) WebSTAR V on MacOS X


3) BEA WebLogic on Solaris (in support of the WebCT Vista Courseware
Management System)


The problem.  The MacOS X Client (what you get via Command-K from the
Finder) transmits files via WebDAV in Apple Double format.  Thus a file
named mypix.jpeg on a local MacOS X system arrives on the server as two
files as follows:


mypix.jpeg      ;containing data fork data

._mypix.jpg     ;containing resource fork data


The resource data file is normally invisible on most Unix based systems
because its name begins with "._" but these files do accumulate over time.
Their numbers and total disk space requirements present a number of
potential issues including making diagnostic work unnecessarily difficult.
These resource fork files are totally useless on the webserver.  They do not
add to any functionality on the webserver.


These files are not always invisible and can confuse both sysadmins using a
CLI as well as end users who may see them via a web-based editing system.
Examples of the latter include the current version of WebCT Vista, an
enterprise-level Courseware Management System that relies upon a BEA
Weblogic webserver and an Oracle DB.


WebDAV support in Vista is complimented by a web-based file manager that is
necessary to certain operations not possible via WebDAV having to do with
what Vista calls "shared resources."  In the file manager, these "._"
prefixed files are visible and a source of great confusion with end users
(mostly university faculty) who think that they are seeing double, don't
know which of the two files to create links to and so on.


Our faculty also use Windows XP where none of these issues obtain.


I hope that this impact information is helpful.



--
=====================================================================
Dr. Frank Lowney  frank.lowney@gcsu.edu
    Director, Electronic Instructional Services, a unit of the
    Office of Information and Instructional Technology,
    Professional Pages: http://www.gcsu.edu/oiit/eis/
    Personal Pages: http://www.faculty.de.gcsu.edu/~flowney
Voice: (478) 445-5260
=====================================================================
We don't make instruction effective, we make effective instruction more
accessible.

Please note that my new e-mail address is: frank.lowney@gcsu.edu



