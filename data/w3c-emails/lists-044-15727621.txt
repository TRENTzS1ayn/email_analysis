docno="lists-044-15727621"
received="Tue Aug 29 15:52:34 2000"
isoreceived="20000829195234"
sent="Tue, 29 Aug 2000 12:52:17 -0700"
isosent="20000829195217"
name="John Boyer"
email="jboyer@PureEdge.com"
subject="RE: Insignificant whitespace"
id="BFEDKCINEPLBDLODCODKGELFCEAA.jboyer@PureEdge.com"
charset="iso-8859-1"
inreplyto="CD0FF8F92CA8D311B9AB00105A14D5570B1224&#64;server.remtec.fi"
expires="-1"

To:"Petteri Stenius"<Petteri.Stenius@done360.com>,"IETF/W3C XML-DSig WG \(E-mail\)"<w3c-ietf-xmldsig@w3.org>


Hi Petteri,

The upcoming C14N draft is quite a bit clearer about retention of all
whitespace in character content (except \r characters that disappear due to
line delimiter normalization).  It is both specified in the prose and shown
by example.  In other words, xml:space is an attribute needed by other
applications.

However, I like this as a transform, though I don't know whether the chairs
will approve of adding it at this time.  Chairs?

Seems to me that if you have a DTD, then you can decide what constitutes
insignificant whitespace, which is whitespace found in content models other
than mixed those containing #PCData.  This could get tricky in the second
case, since it's not the whole content model containing a #PCDATA, but just
the parts where #PCDATA is allowed.

However, we cannot count on having the DTD nor on being able to read it at
that level if it were.  Instead, it might make sense to define the transform
in terms of the XPath data model.  Any text node containing only whitespace
could be consider insignificant.

This rule could be constrained by xml:space="preserve" provided the
attribute is in the node-set and contained in an element ancestor of a
'whitespace' text node.

How does this sound to the WG?


John Boyer
Development Team Leader,
Distributed Processing and XML
PureEdge Solutions Inc.
Creating Binding E-Commerce
v: 250-479-8334, ext. 143  f: 250-479-3772
1-888-517-2675   http://www.PureEdge.com <http://www.pureedge.com/>



-----Original Message-----
From: w3c-ietf-xmldsig-request@w3.org
[mailto:w3c-ietf-xmldsig-request@w3.org]On Behalf Of Petteri Stenius
Sent: Monday, August 28, 2000 10:50 PM
To: IETF/W3C XML-DSig WG (E-mail)
Subject: Insignificant whitespace



Hello,

The issue with whitespace in XML element content has been very briefly
discussed during interop testing. I would like raise this issue on the list,
as I believe many people expect insignificant whitespace to be cleaned up by
the C14N algorithms.

The current specification provides no way for an application to skip or
cleanup insignificant whitespace from a signed XML document before
digesting. However, 'insignificant' comment elements are skipped by the
default C14N algorithm!

I think we could make use of a transformation algorithm that cleans up
insignificant whitespace, the algorithm should obviously detect xml:space
attributes.

Petteri

--
Petteri Stenius                          Petteri.Stenius@done360.com
Done Information, Ltd.                         Office +358-9-5259240
                                                 Fax +358-9-52592411
http://www.doneinformation.com/               Mobile +358-50-5506161



