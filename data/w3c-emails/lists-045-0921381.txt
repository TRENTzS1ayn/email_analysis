docno="lists-045-0921381"
received="Tue Oct  3 14:55:55 2000"
isoreceived="20001003185555"
sent="Tue, 03 Oct 2000 19:54:30 +0100"
isosent="20001003185430"
name="merlin"
email="merlin@baltimore.ie"
subject="Re: C14N Last Call"
id="E13gXCw-0000WY-00@yog-sothoth"
inreplyto="BD93B9BF6CDBD3119494009027F43CB4F5E796&#64;us-mtvmail1.ariba.com"
expires="-1"

To:w3c-ietf-xmldsig@w3.org
Cc:"Doug Bunting"<Doug@ariba.com>,"John Boyer"<jboyer@pureedge.com>



Hi,

I strongly agree with Doug Bunting's note:

r/Doug@ariba.com/2000.09.26/12:47:45
>*In [the bullets near the end of section 2.2], why are attribute nodes
>output using an order derived from the namespace URI values?  Such a
>requirement seems more appropriate if the Canonical XML recommendation
>includes namespace re-writing rules.  As things are now, why not sort
>the attributes using the namespace prefix as the primary key?

Sorting by URI value is reasonably more complex than sorting by
prefix.

Additionally, consider the following document:

  <Foo xmlns:foo="bar" xmlns:bar="baz">
    <Bar xmlns:foo="rab" foo:attr="value" bar:attr="value" />
  </Foo>

And consider a node set including everything but xmlns:foo="rab".

For sorting purposes, is the namespace URI of foo:attr equal to "rab"
or "bar"? According to my parser, it is equal to "rab" but according
to my node set it is "bar".

2.2 states that "an element E has namespace nodes that represent its 
namespace declarations..." which does not preclude namespace attributes
absent from the node set.

If we sort by namespace prefix then this problem does not arise
because interpretation of the attribute's namespace URI does not affect
sorting.

Merlin



