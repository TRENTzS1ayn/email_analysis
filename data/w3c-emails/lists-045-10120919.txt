docno="lists-045-10120919"
received="Tue Jul  3 09:56:28 2001"
isoreceived="20010703135628"
sent="Tue, 03 Jul 2001 09:56:07 -0400"
isosent="20010703135607"
name="Joseph M. Reagle Jr."
email="reagle@w3.org"
subject="Reference Validation of Same Document URIs"
id="4.3.2.7.2.20010703094456.039f7738@localhost"
charset="us-ascii"
inreplyto="A5374D237E78D41195810090279CC91A014886B3&#64;xcup04.cup.hp.com "
expires="-1"


To:"KOBZAR,IGOR (HP-Cupertino,ex1)"<igor_kobzar@hp.com>
Cc:w3c-ietf-xmldsig@w3.org

[Note change to Subject:]

At 22:41 7/2/2001, KOBZAR,IGOR (HP-Cupertino,ex1) wrote:
>I have a question regarding the expected behavior for caclulating the digest
>value of the null URI (URI="") in case if reference does not contain a
>Transforms element.  URI="" identifies the nodeset (minus any comment nodes)
>of the XML resource containing the signature.  The Transforms element is
>optional.  Does application that calculates a digest value has to skip this
>reference from calculation, or skip the digest value element, or skip the
>text of the digest value element, or indicate an error/warning?

I'm not sure if I understand, but I'll try to answer from my own 
understanding. If you have a  'same-document' reference the result is a 
nodeset. For reference validation you are required to validate that reference.

If that reference is followed by a subsequent enveloped transform, all 
conformant implementations MUST be able to process it. If the same document 
reference is an ID or XPointer, implementation SHOULD be able to process it. 
(If they can't, they can throw an error.)

>Is the test for such expected behavior a part of the compatibility 
>tests?  Any reply is appreciated.

Note in [1] all implementations implement the enveloped transform, not all 
support arbitrary XPointer/XPath expressions.


--
Joseph Reagle Jr.                 http://www.w3.org/People/Reagle/
W3C Policy Analyst                mailto:reagle@w3.org
IETF/W3C XML-Signature Co-Chair   http://www.w3.org/Signature
W3C XML Encryption Chair          http://www.w3.org/Encryption/2001/



