docno="lists-045-11353456"
received="Tue Jul 31 13:54:01 2001"
isoreceived="20010731175401"
sent="Tue, 31 Jul 2001 19:49:26 +0200"
isosent="20010731174926"
name="Christian Geuer-Pollmann"
email="geuer-pollmann@nue.et-inf.uni-siegen.de"
subject="RE: Question: Base64 Transform Nodeset Input"
id="176553876.996608966@clouseau"
charset="us-ascii"
inreplyto="7874BFCCD289A645B5CE3935769F0B520C343B&#64;tigger.PureEdge.com"
expires="-1"

To: John Boyer<JBoyer@PureEdge.com>,w3c-ietf-xmldsig@w3.org


Hi John

Yes, I know that the <comment> Element is not an XML Element (bad choosen 
example).. The problem resulted in my understanding of what is an XPath 
node set and how I convert an input stream to a node set which is valid 
input for the transforms. Given a Document like:

<?xml version="1.0"?>
<!-- Comment 1 -->
<doc>Hello, world!<!-- Comment 2 --></doc>

Q: Does the xpath node set contain 2 nodes (the comment 1 and the <doc> 
element) or does it contain 4 nodes (both comments, the <doc> element and 
the text node?

Christian

> The inserted <comment> element (which is not an XML comment, but rather
> an XML element like any other) would cause a problem for base-64
> decoding.  The behavior to mimic is XPath string(), which  concatenates
> all descendant text nodes.
>
> -----Original Message-----
> From: Christian Geuer-Pollmann
> [mailto:geuer-pollmann@nue.et-inf.uni-siegen.de]
> Sent: Tuesday, July 31, 2001 5:55 AM
> To: w3c-ietf-xmldsig@w3.org
> Subject: Question: Base64 Transform Nodeset Input
>
>
> What does section "6.6.2 Base64" mean whan it states:
>
> "If an XPath node-set (or sufficiently functional alternative) is given
> as
> input, then it is converted to an octet stream by performing operations
> logically equivalent to 1) applying an XPath transform with expression
> self::text(), then 2) taking the string-value of the node-set."
>
> Is the following fragment valid input which decodes to "The URI of the
> transform is http://www.w3.org/2000/09/xmldsig#base64"
>
> <BASE64>
> VGhlIFVSSSBvZiB0aGUgdHJhbn<comment>Inserting this comment should not
> change
> anything for processing</comment>
> Nmb3JtIGlzIGh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1s
> ZHNpZyNiYXNlNjQ=
> </BASE64>



