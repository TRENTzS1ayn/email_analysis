docno="lists-045-12379507"
received="Tue Sep  4 07:11:56 2001"
isoreceived="20010904111156"
sent="04 Sep 2001 12:08:22 +0100"
isosent="20010904110822"
name="Henry S. Thompson"
email="ht@cogsci.ed.ac.uk"
subject="Re: FW: Base64"
id="f5b7kvfusbd.fsf@cogsci.ed.ac.uk"
charset="us-ascii"
inreplyto="Wed, 29 Aug 2001 12:19:02 -0400&quot;"
expires="-1"

To:reagle@w3.org
Cc:"Karl Scheibelhofer"<Karl.Scheibelhofer@iaik.at>,"Gregor Karlinger"<gregor.karlinger@iaik.at>,<merlin@baltimore.ie>,"XMLSigWG"<w3c-ietf-xmldsig@w3.org>,www-xml-schema-comments@w3.org


Joseph Reagle <reagle@w3.org> writes:

> [cc:'d to schema comments since we need clarity on upcoming errata]
> 
> On Wednesday 29 August 2001 08:27, Karl Scheibelhofer wrote:
> > i just had the same problem in signing a base64 encoded certificate. i read
> > the according part of XML Schema and i think Xerxes behaves correctly here.
> 
> OK, first a summary of the issue if I can get it straight:
> 
> The xmldsig WG would like for schema validation to *not* collapse the 
> whitespace of base64 data in the *normalizedValue* of element content (as 
> specified in XML1.0). 

First check -- neither XML 1.0 nor XML Infoset specifies any notion of 
normalised value for element content.

Conformant XML Schema processors add a [schema normalized value]
property to element info items validated with simple type definitions.

> There are scenarios in which people validate the signature itself
> (instead of the data it signs which is served by an explicit
> transform) and this then affects the computation of the signature:
> the signature's base64 data [1] whitespace is collapsed:
> 
>    "For all *atomic* data-types other than string ... the value of 
>    whitespace is collapse." [2]

This describes the whitespace normalization that takes place in
computing the [schema normalized value] -- nothing to do with element
content per se.

ht
-- 
  Henry S. Thompson, HCRC Language Technology Group, University of Edinburgh
          W3C Fellow 1999--2001, part-time member of W3C Team
     2 Buccleuch Place, Edinburgh EH8 9LW, SCOTLAND -- (44) 131 650-4440
    Fax: (44) 131 650-4587, e-mail: ht@cogsci.ed.ac.uk
     URL: http://www.ltg.ed.ac.uk/~ht/



