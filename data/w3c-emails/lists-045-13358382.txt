docno="lists-045-13358382"
received="Thu Oct 11 07:36:38 2001"
isoreceived="20011011113638"
sent="Thu, 11 Oct 2001 12:57:59 +0200"
isosent="20011011105759"
name="Christian Geuer-Pollmann"
email="geuer-pollmann@nue.et-inf.uni-siegen.de"
subject="Again: Signing a ds:Object - what's the right XPath"
id="2077699801.1002805079@pinkpanther"
charset="us-ascii"
inreplyto="1912622333.1002640002&#64;pinkpanther"
expires="-1"

To:w3c-ietf-xmldsig@w3.org


Hi all,

let me ask again. What's the right XPath to completely identify a subtree 
based on the top-level element of the subtree. Using the XPath

here()/ancestor::ds:Signature[1]/ds:Object[1]

I can identify the first ds:Object in my ds:Signature. But for tor xpath 
ds:Transform to work properly, I have to modify this xpath that it doen't 
return a nodeset but evaluates to true for all descendant-or-self of this 
ds:Object. I tried

ancestor-or-self::node() =
here()/ancestor::ds:Signature[1]/ds:Object[1]

but this XPath fails to catch the Attributes inside e.g. the ds:Object. 
What mistake do I make?

Christian



> <ds:Signature>
> ...
> <ds:Transform Algorithm="http://www.w3.org/TR/1999/REC-xpath-19991116">
> <ds:XPath>
>  ancestor-or-self::node()
>            =
>  here()/ancestor::ds:Signature[1]/ds:Object[1]
> </ds:XPath>
> </ds:Transform>
> ...
> <ds:Object Id="object-1">some text</ds:Object>
> </ds:Signature>



