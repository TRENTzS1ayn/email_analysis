docno="lists-045-6659299"
received="Wed Jun 13 07:54:34 2001"
isoreceived="20010613115434"
sent="13 Jun 2001 12:54:24 +0100"
isosent="20010613115424"
name="Henry S. Thompson"
email="ht@cogsci.ed.ac.uk"
subject="Re: XML Schema base64Binary simple type"
id="f5bofrs4mtr.fsf@cogsci.ed.ac.uk"
charset="us-ascii"
inreplyto="Wed, 13 Jun 2001 12:10:17 +0200&quot;"
expires="-1"

To:"Gregor Karlinger"<gregor.karlinger@iaik.at>
Cc:"XMLSigWG"<w3c-ietf-xmldsig@w3.org>


"Gregor Karlinger" <gregor.karlinger@iaik.at> writes:

> Henry,
> 
> > Attribute value whitespace is considered markup.  Attribute value
> > normalization always takes place, even in the absence of DTDs [1]
> > 
> > Schema processing simply extends the same approach to element content.
> > 
> > ht
> > 
> > [1] http://www.w3.org/TR/REC-xml#AVNormalize
> 
> To overcome problems resulting from this parser behaviour, you employ 
> canonicalization (SignedInfo is canonicalized mandatory, and
> for signed XML data objects you should apply an approiate
> canonicalization transform).

So the problem is that 

  there-exists x suchthat wfcs(x) & C(I(x)) != C(I(SAT(x)))

where wfcs is a predicate true of well-formed XML document encodings,
C is XML Canonical form, I is the XML 1.0 Infoset and SAP is an XML
Schema-aware transducer.  This is certainly true -- it was not a
constraint on the design of XML Schema that it preserve canonical
form.

However, it is _not_ the case that whitespace affects the question of
whether

  there-exists x suchthat wfcs(x) & C(I(x)) != C(PSVI(I(x)))

where PSVI is the post schema-validation Infoset.  This is because the 
PSVI only _augments_ the input Infoset, it doesn't change it.

So for instance the character info item daughters of an EII with type
xs:base64Binary will not have changed.

[There _is_ a problem with defaulted attributes, however.  But that's a 
different problem, I guess, that naturally arises in dealing with
schema processing.]  

But I'm still struggling to understand how/why these cases are a problem
for XML Signature -- please provide me with scenario where a problem
arises.  You seem to be making assumptions about processing models
that I think are not necessary . . .

Thanks for your patience.

ht
-- 
  Henry S. Thompson, HCRC Language Technology Group, University of Edinburgh
          W3C Fellow 1999--2001, part-time member of W3C Team
     2 Buccleuch Place, Edinburgh EH8 9LW, SCOTLAND -- (44) 131 650-4440
    Fax: (44) 131 650-4587, e-mail: ht@cogsci.ed.ac.uk
     URL: http://www.ltg.ed.ac.uk/~ht/



