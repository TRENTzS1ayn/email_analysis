docno="lists-046-0152640"
received="Fri May 24 04:31:47 2002"
isoreceived="20020524083147"
sent="Fri, 24 May 2002 10:36:48 +0200"
isosent="20020524083648"
name="Christian Geuer-Pollmann"
email="geuer-pollmann@nue.et-inf.uni-siegen.de"
subject="Re: Error in merlin-iaikTests-two.tar.gz?"
id="10054217.1022236608@crypto"
charset="us-ascii"
inreplyto="Error in merlin-iaikTests-two.tar.gz?"
expires="-1"

To: merlin<merlin@baltimore.ie>,reagle@w3.org
cc: Gregor Karlinger<gregor.karlinger@iaik.at>,w3c-ietf-xmldsig@w3.org


Hi Merlin,
hi Joseph,

I guess, NOW I got it. First of all, I can verify Merlin's signature now. 
Just to check that I understood it right:

If I c14nize a document subset, I do only have to make this weird xml:* 
copying magic if the current element is an "orphan" node (to use this 
exclc14n lingo term), i.e. if the parent of the element is not in the 
document subset.
If the parent of the current element IS in the document subset, I do NOT do 
the copying of all xml:* attrs, right?

Joseph, please do not include the geuerp-iaikTests-one.zip from my former 
mail, it's wrong. I don't post a geuerp-iaikTests-two.zip because it does 
the same things which are in Merlins example.


Christian

--On Donnerstag, 23. Mai 2002 14:24 +0100 merlin <merlin@baltimore.ie> 
wrote:

>
> Hi Christian,
>
> This is a feature of the c14n spec; see the second paragraph
> of 2.4:
>
>   The processing of an element node E MUST be modified slightly when an
>   XPath node-set is given as input and the element's parent is omitted
>   from the node-set. The method for processing the attribute axis of an
>   element E in the node-set is enhanced. All element nodes along E's
>   ancestor axis are examined for nearest occurrences of attributes in the
>   xml namespace, such as xml:lang and xml:space (whether or not they are
>   in the node-set). From this list of attributes, remove any that are in
>   E's attribute axis (whether or not they are in the node-set). Then,
>   lexicographically merge this attribute list with the nodes of E's
>   attribute axis that are in the node-set. The result of visiting the
>   attribute axis is computed by processing the attribute nodes in this
>   merged attribute list.
>
> This probably isn't aesthetically ideal; however, it doesn't
> cause any problems.
>
> Merlin
>
> r/geuer-pollmann@nue.et-inf.uni-siegen.de/2002.05.23/14:45:23
>> Hi Merlin,
>>
>> I have a problem to verify your signature.xml from
>> merlin-iaikTests-two.tar.gz which was for testing exclusive c14n: The
>> first  Reference (digest input in c14n-0.xml) seems to be wrong. The
>> others can be  verified. It looks like this (indentation added by me):
>>
>> - c14n-0.xml -----------------------
>>
>> <Parent xml:foo="bar"
>>        xml:fool="barbar"
>>        xml:lang="en"
>>        xml:space="default">
>>
>> <GrandChild xml:foo="barbarossa"
>>            xml:fool="barbar"
>>            xml:lang="ge"
>>            xml:space="preserve"></GrandChild>
>>
>> </Parent>
>> ----------------------------------
>>
>> This reference was simply the XPath transform (and implicit inclusive
>> c14n  omitting comments). What I see is that both the Parent and the
>> GrandChild  have a xml:fool="barbar" attribute while the GrandChild
>> shouldn't.
>>
>> Regards,
>> Christian
>>
>
>
> -------------------------------------------------------------------------
> ---- The information contained in this message is confidential and is
> intended for the addressee(s) only.  If you have received this message in
> error or there are any problems please notify the originator immediately.
> The  unauthorised use, disclosure, copying or alteration of this message
> is  strictly forbidden. Baltimore Technologies plc will not be liable for
> direct, special, indirect or consequential damages arising from alteration
> of the contents of this message by a third party or as a result of any
> virus being passed on.
>
> This footnote confirms that this email message has been swept for Content
> Security threats, including computer viruses.
> http://www.baltimore.com
>
>



