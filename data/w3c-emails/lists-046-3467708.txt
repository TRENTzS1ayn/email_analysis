docno="lists-046-3467708"
received="Fri Feb 15 17:41:35 2002"
isoreceived="20020215224135"
sent="Fri, 15 Feb 2002 23:43:39 +0100"
isosent="20020215224339"
name="Christian Geuer-Pollmann"
email="geuer-pollmann@nue.et-inf.uni-siegen.de"
subject="Re: Question for implementors: XPath model and CDATA sections"
id="204337924.1013816619@crypto"
charset="us-ascii"
inreplyto="200202152002.PAA28020&#64;tux.w3.org"
expires="-1"

To:reagle@w3.org, Karl Scheibelhofer<Karl.Scheibelhofer@iaik.at>
Cc:w3c-ietf-xmldsig@w3.org


--On Freitag, 15. Februar 2002 15:02 -0500 Joseph Reagle <reagle@w3.org> 
wrote:

> I can certainly undertake to respond to any issues related to the specs
> and  forward requests on, but I'm not sure what one can do with respect
> to Xalan  since I'm not closely involved with that work. But I think
> there are a few  implementors here using Xalan, so perhaps they could
> share their  experiences or come up with an approach?

At the moment, I'm a little bit confused. I don't know whether it's 
possible to create an obfuscated XPath transform which selects only parts 
of a sequence of Text/CDATA nodes?

I do the following: My c14n eats a NodeList which is a list of all (DOM) 
Nodes which are to be serialized. Then I traverse the DOM tree using a 
TreeWalker and if the current node is in the list, I output it. Now the 
tweak: when I encounter a Text/CDATA node which is in the list, I output 
all next-siblings of type Text/CDATA without checking whether they are in 
the list.

Sorry for the long URL (maybe broken in two lines), but here the change is 
visible:

http://cvs.apache.org/viewcvs.cgi/xml-security/src/org/apache/xml/security/
c14n/implementations/Canonicalizer20010315.java.diff?r1=1.8&r2=1.9&diff_for
mat=h

Any ideas whether this is correct?



Regards,
Christian



