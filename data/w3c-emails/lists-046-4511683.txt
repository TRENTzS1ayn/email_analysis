docno="lists-046-4511683"
received="Tue Mar 19 15:01:58 2002"
isoreceived="20020319200158"
sent="Tue, 19 Mar 2002 21:06:09 +0100"
isosent="20020319200609"
name="Christian Geuer-Pollmann"
email="geuer-pollmann@nue.et-inf.uni-siegen.de"
subject="Alternative XPath Filter"
id="41094200.1016571969@pinkpanther"
charset="us-ascii"
expires="-1"

To: John Boyer<jboyer@PureEdge.com>, Joseph Reagle<reagle@w3.org>
Cc:w3c-ietf-xmldsig@w3.org


Hi John,

I have a question about the "XML-Signature XPath Filter 2.0" [1]:

Is it possible to apply two xmldsig-xpath-filter transforms after each 
other? Two with Filter="exclude" wont make sense because they operate on 
the full document so that the results from the first transform would be 
discarded by the second one. But maybe it's possible to make an exclude and 
than an include?

Motivation for this question: Assume I have a SOAP msg, inside the body is 
a transaction and _inside_ the transaction, there's somewhere nested the 
signature. I want to sign the body without the signature. This means that I

1: exclude all things outside the body
2: include the body
3: exlude the signature in the body

Let's bridge to the transform which I suggested in [2]: Using my transform, 
I would

exclude-but-search    /
include               /SOAP:Envelope/SOAP:Body
exclude               /SOAP:Envelope/SOAP:Body/x:Transact/ds:Signature

Is it clear why I need _three_ flags and use this inside a single transform 
step?

Regards,
Christian

[1] http://www.w3.org/Signature/Drafts/xmldsig-xpath

[2] 
http://lists.w3.org/Archives/Public/w3c-ietf-xmldsig/2002JanMar/0226.html
 
http://lists.w3.org/Archives/Public/w3c-ietf-xmldsig/2002JanMar/0223.html



