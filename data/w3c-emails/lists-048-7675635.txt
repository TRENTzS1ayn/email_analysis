docno="lists-048-7675635"
received="Sun Oct 14 09:46:10 2001"
isoreceived="20011014134610"
sent="Sun, 14 Oct 2001 08:46:08 -0500"
isosent="20011014134608"
name="Dan Connolly"
email="connolly@w3.org"
subject="Re: use cases for Literal? RSS? Dublin Core? PRISM? DAML? XAP?"
id="3BC99720.8EEC79C@w3.org"
charset="us-ascii"
inreplyto="011f01c1548b$2fe1d080$01000001&#64;MITCHUM"
expires="-1"


To: dehora<dehora@eircom.net>
CC:w3c-rdfcore-wg@w3.org

dehora wrote:
> 
> >> Dan Connolly:
> No, I think the tests are fine; the spec is just sloppy.
> >
> 
> You'll have to do better than this. XML well formedness is one of the
> few areas surrounding literals where the M&S is neither sloppy nor
> ambiguous.

Hmm... I read it one way, you read it another, and both of us
can support our positions from the text. In my book, that's
sloppy and ambiguous.

You inferred that the RDF spec was using "well-formed
XML" in the sense of 2.1 Well-Formed XML Documents.

I infer that it's using "well-formed XML" in the sense
of 4.3.2 Well-Formed Parsed Entities:

  An internal general parsed entity is well-formed if its replacement
text
  matches the production labeled content.

  [...] 

  [43]   content  ::= CharData? ((element | Reference | CDSect
                            | PI | Comment) CharData?)*

  -- http://www.w3.org/TR/2000/REC-xml-20001006#wf-entities
  -- http://www.w3.org/TR/2000/REC-xml-20001006#NT-content

> The refactoring syntax draft also insists upon well
> formedness; it's not sloppy on this point either. Please don't assume
> that the tests and specifications can stand in isolation. As things are
> I can code two different behaviours against the body of work. That
> wastes everyone's time, hurts interop, slows adoption; it's hardly
> smart.

That would be bad. But fortunately, as far as I can tell, noone
has invested in the interpretation that parseType="Literal" constrains
the value to have a single root.

> Think the spec is wrong? Then propose to kill the well formedness
> constraint in view of implementation feedback. The best place to exact
> that change is in the refactoring syntax draft, you'll find text to that
> effect below.

quite... thanks for hunting down the relevant details, but
I suggest a slightly different fix; I don't think
we're removing any constraints; just clarifying...

[...]
> Proposal:
> 
> remove the well formedness constraint from to allow certain rdf tests to
> stand. Please be aware that this change allows XML literal fragments to
> be non-well formed.

Clarify the well-formedness constraint to refer to well-formed
XML content (as opposed to well-formed XML documents, which
must, for example, have a single root).

> Old text: Section 3.1
> 
> "6.34 literal any well-formed XML "
> 
> new text:
> 
> "6.34 literal any XML"

new text:
"6.34 literal any well-formed XML content, in the
sense of the content production in the XML grammar."

> Old text: section 4.20
> 
> "4.20 Production literal (was 6.34 literal)
> Any non-empty well-formed XML."
> 
> New text:
>
> "4.20 Production literal (was 6.34 literal)
> Any non-empty XML."

new text:

  "4.20 Production literal (was 6.34 literal)
  Any non-empty XML content."


Dave, do you agree this is a simple editorial fix? If so,
please make it (or something like it). Or do you
think it's a substantive issue that the WG should consider?

-- 
Dan Connolly, W3C http://www.w3.org/People/Connolly/



