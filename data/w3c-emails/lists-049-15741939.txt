docno="lists-049-15741939"
received="Wed Feb 20 06:22:17 2002"
isoreceived="20020220112217"
sent="Wed, 20 Feb 2002 11:21:45 -0000"
isosent="20020220112145"
name="Jeremy Carroll"
email="jjc@hplb.hpl.hp.com"
subject="RE: Outstanding Issues - rdfms-literal-is-xml-structure"
id="JAEBJCLMIFLKLOJGMELDGEAPCDAA.jjc@hplb.hpl.hp.com"
charset="iso-8859-1"
inreplyto="5.1.0.14.0.20020211145304.02952ec0&#64;0-mail-1.hpl.hp.com"
expires="-1"

To:"Brian McBride"<bwm@hplb.hpl.hp.com>,"RDF Core"<w3c-rdfcore-wg@w3.org>




> rdfms-literal-is-xml-structure :
> A literal containing XML markup is not a simple string, but is an XML
structure.

> This issue was put on hold pending the outcome of the datatypes
discussion.


Again before this was on hold I suggested using XML Canonicalization.

From:

http://lists.w3.org/Archives/Public/w3c-rdfcore-wg/2001Sep/0378.html

[[[
[36]
+ MAY have their Unicode string component as given by the
  Unicode string of the XML Canonicalization of the document
  subset consisting of the element content. See XML
  Canonicalization section 2.4.
  http://www.w3.org/TR/2001/REC-xml-c14n-20010315#DocSubsets
  The XML Canonicalization specifies a UTF-8 string, the
  RDF Literal is the encoded Unicode string.
  Such a canonicalization MAY or MAY NOT include comments.


[50]
For maximum interoperability RDF processors are RECOMMENDED
to use XML canonicalization without comments as the string
in the RDF Literal formed by the rdf:parseType="Literal"
property element production.
]]]

I would now modify this a bit.

1: Use the latest canonicalization spec.
  Exclusive XML Canonicalization
  http://www.w3.org/TR/2002/CR-xml-exc-c14n-20020212
  see particularly:
  http://www.w3.org/TR/2002/CR-xml-exc-c14n-20020212#sec-Specification


   This has a parameter the InclusiveNamespaces PrefixList
http://www.w3.org/TR/2002/CR-xml-exc-c14n-20020212#def-InclusiveNamespaces-P
refixList
   which should, for RDF/XML processing, generally be empty.


2: I would try to phrase it so that RDF/XML applications may return any
representation that can be transformed into the above "canonical"
representation; without requiring that conformant RDF processors actually do
the canonicalization.



e.g.


"Literals arising from rdf:parseType="Literal" correspond to an XML
structure and MAY be represented as a canonical XML string using Exclusive
XML Canonicalization. Two such literals are equal whenever their Exclusive
XML Canonicalizations are equal."


Thus RDF processors that want to worry about equality of literals need to do
the works, whereas the DPH who isn't worried is provided with a semantics
for rdf:parseType="Literal" in terms of the abstract graph syntax  (it is
the canonical form as a representation of an XML structure), but the DPH has
no obligation to actually canonicalize.



Jeremy



