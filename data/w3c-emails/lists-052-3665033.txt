docno="lists-052-3665033"
received="Thu Aug  7 04:27:30 2003"
isoreceived="20030807082730"
sent="Thu, 7 Aug 2003 11:27:27 +0300"
isosent="20030807082727"
name="Patrick Stickler"
email="patrick.stickler@nokia.com"
subject="Re: xmlsch-02"
id="005f01c35cbd$bc5160d0$f89216ac@NOE.Nokia.com"
charset="iso-8859-1"
inreplyto="4GKOSB.A.1MC.azTM_&#64;metia"
expires="-1"


To:"ext Brian McBride"<bwm@hplb.hpl.hp.com>,"rdf core"<w3c-rdfcore-wg@w3.org>

I think the present specification and tests are correct.

The fact that some implementations are more accepting of lexical
forms which are not in fact valid according to the XSD specs
indicates a potential problem with those implementations, if
we are expecting them to properly enforce the definitions of
the datatypes in question.

It's one thing for an implementation to be able to make use
of an illformed literal such as " 1 "^^xsd:integer. It's quite
another thing for it to say that the literal is valid. It is
not. The XSD definition of the lexical space of xsd:integer is
quite clear about that.

Implementations which make no distinction between usable vs.
valid lexical forms will likely fail tests intended to reflect
support for such a distinction; and, as you indicate, some do.

APIs for XSD datatype handling which combine whitespace (and 
other XML related) processing with the L2V mapping, to allow
convenient processing of arbitrary content data, and thereby
discarding the distinction between valid and usable forms, 
may not be suitable for use by RDF applications where validation
of lexical forms is important. It appears Xerces is one such
API which discards that important distinction.

The bottom line is that RDF implementations which fail the 
present tests in question are broken (even if the blame is with 
an underlying XML or XSD specific API) and should be fixed.

It would be tempting to treat the whitespace processing as
part of the XSD L2V mapping, but it's pretty clear IMO that
it is not. Cest la vie.

Cheers,

Patrick


----- Original Message ----- 
  From: ext Brian McBride 
  To: rdf core 
  Sent: 06 August, 2003 19:36
  Subject: xmlsch-02



  xmlsch-02 is about whitespace processing of datatypes.  We previously 
  decided that since " 1 "  is not in the lexical space of xsd:decimal, 
  " 1 "^^xsd:decimal does not denote a literal and created some test cases 
  to illustrate this.

  It turns out the many implementations are failing these test cases. 
  Some use the Xerces xsd implementation which happily translates " 1 " to 
    1.  Before he went on vacation jjc indicated to me that maybe we 
  should think again about this one.

  Does anyone know enough about whitespace processing in xml schema 
  datatypes to suggest an alternative way to handle this.  I don't know 
  enough, so am not qualified.

  Brian



