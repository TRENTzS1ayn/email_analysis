docno="lists-052-6028561"
received="Wed Aug 27 10:57:55 2003"
isoreceived="20030827145755"
sent="Wed, 27 Aug 2003 16:55:19 +0200"
isosent="20030827145519"
name="Jos De_Roo"
email="jos.deroo@agfa.com"
subject="RE: pfps-06 hold off?"
id="OFD5B0D41B.B27CFCCE-ONC1256D8F.004E5CB0-C1256D8F.0051FDFB@agfa.be"
charset="us-ascii"
inreplyto="pfps-06 hold off?"
expires="-1"

To:"<Patrick.Stickler"<Patrick.Stickler@nokia.com>
Cc:bwm@hplb.hpl.hp.com,Patrick.Stickler@nokia.com,phayes@ihmc.us,w3c-rdfcore-wg@w3.org




Well, it's a bit complicated...
In our implementation

  :Jenny :age "33"^^xsd:integer.

does rdf:, xsd:integer entail

  :Jenny :age "33.0"^^_:D.

but for instance

  :Jenny :age "33"^^xsd:long.

does rdf:, xsd:integer entail

  :Jenny :age "33.0"^^_:D.

using Xerces but not using .NET
where we can use an appropriate
[[
if (dt == XSDlong)
  return XmlConvert.ToInt64(s1).CompareTo(XmlConvert.ToInt64(s2));
]]
whereas for Xerces we have to rely on
[[
if (dt == XSDlong) {
  TypeValidator dv = new DecimalDV();
  return dv.compare(dv.getActualValue(s1, null), dv.getActualValue(s2,
null));
}
]]
because we couldn't find a better TypeValidator
(but that was months ago)



--
Jos De Roo, AGFA http://www.agfa.com/w3c/jdroo/


                                                                                                                                        
                      <Patrick.Stickler@                                                                                                
                      nokia.com>                To:       Jos De_Roo/AMDUS/MOR/Agfa-NV/BE/BAYER@AGFA                                    
                      Sent by:                  cc:       <bwm@hplb.hpl.hp.com>, <phayes@ihmc.us>, <w3c-rdfcore-wg@w3.org>,             
                      w3c-rdfcore-wg-req         <Patrick.Stickler@nokia.com>                                                           
                      uest@w3.org               Subject:  RE: pfps-06 hold off?                                                         
                                                                                                                                        
                                                                                                                                        
                      2003-08-27 03:00                                                                                                  
                      PM                                                                                                                
                                                                                                                                        
                                                                                                                                        







> -----Original Message-----
> From: ext Jos De_Roo [mailto:jos.deroo@agfa.com]
> Sent: 27 August, 2003 15:44
> To: Stickler Patrick (NMP/Tampere)
> Cc: bwm@hplb.hpl.hp.com; Stickler Patrick (NMP/Tampere);
> phayes@ihmc.us;
> w3c-rdfcore-wg@w3.org
> Subject: RE: pfps-06 hold off?
>
>
>
> For example in the testcase
>
> does
>
> :Jenny :age "33"^^xsd:integer.
>
> rdf:, xsd:integer entail
>
> :Jenny :age " 33 "^^?D.
>
> (but I should have better written
> :Jenny :age " 33 "^^_:D.
> here in RDFCore)
>
> and our answer is
> :Jenny :age " 33 "^^xsd:integer.


The answer is 'no' because " 33 " is not a member of the
lexical space of xsd:integer and thus is not equivalent
to the lexical form "33".

The fact that you get 'yes' is because you are not actually
testing the validity of the lexical form, but applying
a coercion function that is not equivalent to the L2V
mapping, as provided by a tool intended to operate
in a looser environment, allowing spurious whitespace,
rather than deal with actual lexical forms of XML Schema
simple types.

Again, what do you get if the test is the following:

  Does

  :Jenny :age "33"^^xsd:integer.

  rdf:, xsd:integer entail

  :Jenny :age "33.0"^^?D.

???

Patrick



