docno="lists-053-3722203"
received="Wed Mar 12 07:19:27 2003"
isoreceived="20030312121927"
sent="Wed, 12 Mar 2003 13:19:58 +0100"
isosent="20030312121958"
name="Jeremy Carroll"
email="jjc@hpl.hp.com"
subject="whitespace facet - xmlsch-02"
id="200303121319.58165.jjc@hpl.hp.com"
charset="us-ascii"
expires="-1"

To:w3c-rdfcore-wg@w3.org




In 1.2 in
http://lists.w3.org/Archives/Public/www-rdf-comments/2003JanMar/0489.html
the XML Schema WG say:
[[
In brief, XML Schema's simple types each define a whitespace facet,
    which governs the kind of whitespace pre-processing done by an XML
    Schema processor before the lexical form is checked for type validity.
]]

We have ignored this, and all facets, to date.

A result, which may cause confustion is that:

<rdf:Description>
  <eg:p rdf:datatype="&xsd;int"> 3 </eg:p>
</rdf:Description>

has an ill-formed literal (however we say that).

It is ill-formed because we make no provision for the whitespace normalization 
envisaged in XML Schema Datatypes.

We could have decided that:
[[
For those RDF datatypes that are XML Schema datatypes,
- the facets are a part of their formal structure in RDF
- whitespace handling is done before the lexical to value mapping, in 
conformance with Xml schema part 2.
]]

We would have significant editorial obstacles; the most obvious way to descibe 
this would be as part of the lexical to value mapping, which is *not* how XML 
Schema do it.

In the corresponding XML Schema case the string " 3 " in the document has its 
whitespace stripped to "3" early, and "3" is the lexical value that is mapped 
to the integer three.

I see a lrage amount of RDF data and implementations that are confused about 
whitespace handling in RDF. Partly this may reflect on M&S, but some examples 
are (under)informed by our WDs. 

Jeremy



