docno="lists-054-2675835"
received="Fri Dec 13 15:52:53 1996"
isoreceived="19961213205253"
sent="Fri, 13 Dec 96 14:24:37 CST"
isosent="19961213202437"
name="Michael Sperberg-McQueen"
email="U35395@UICVM.UIC.EDU"
subject="RE: RS/RE, again (sorry)"
id="199612132053.PAA28122@www10.w3.org"
inreplyto="Fri, 13 Dec 1996 15:14:05 -0500"
expires="-1"


To: Tim Bray<tbray@textuality.com>, W3C SGML Working Group<w3c-sgml-wg@w3.org>

On Fri, 13 Dec 1996 15:14:05 -0500 Tim Bray said:
>I support Jean's position, that we leave -XML-SPACE in, and either
>cut it back to one value (COLLAPSE) or expand it to three values
>(PRESERVE, COLLAPSE, REMOVE), but change its meaning so that it acts
>as a signal from the processor to the application, but that the
>processor *always* in all cases passes all the bytes through to
>the app.

Does this mean a validating XML processor should both pass through
all the bytes (n.b. this *still* isn't all the bytes, unless you
want me to pass you the white space and quotation marks in the
interior of start-tags, which you just aren't going to get, not
from my parser), *and* use its knowledge of the DTD to add an
appropriate -XML-SPACE attribute spec before passing the data to the
app?  So an XML processor which emits sgmls-output-format data might
read

 <?XML version='1.0' encoding = 'iso646' RMD='internal' ?>
 <!DOCTYPE list [
 <!ELEMENT list (item*) >
 <!ELEMENT item (#PCDATA | list)* >
 <!ATTLIST
 ]>
 <list>

 <item n=1>
 this is the first item</item>

 <item n=2>this is the
 second
 </item>

 </list>

and emit (I assume some tabs and space in invisible locations)

 A-XML-SPACE TOKEN REMOVE
 (LIST
 -\n\n
 AN CDATA 1
 A-XML-SPACE TOKEN PRESERVE
 (ITEM
 -\nthis is the first item
 )ITEM
 -\n\n
 AN CDATA 2
 A-XML-SPACE TOKEN PRESERVE
 (ITEM
 -this is the       \nsecond\n
 )ITEM
 -\n\009\009\009\n
 )LIST

A processor which doesn't read the DTD would emit the wrong values
for -XML-SPACE some of the time (it would always say #IMPLIED or
something).

Is this what you have in mind, or something different?

-C. M. Sperberg-McQueen



