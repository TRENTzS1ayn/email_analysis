docno="lists-055-15377498"
received="Thu Jun  5 09:46:12 1997"
isoreceived="19970605134612"
sent="Thu, 05 Jun 1997 11:56:44 GMT"
isosent="19970605115644"
name="Peter Murray-Rust"
email="Peter@ursus.demon.co.uk"
subject="SHOW=&quot;EMBED&quot;"
id="7634@ursus.demon.co.uk"
expires="-1"


To:w3c-sgml-wg@w3.org

<NOTE>
This may look as if it raises the namespace problem, but it doesn't :-)
</NOTE>

In constructing XML documents I find I am being driven to split large documents
into smaller chunks.  [The reasons are:
- bandwidth preservation
- memory limitations in the Java VM
- time to process document tree branches that won't be viewed
- different DTDs .]

There are two approaches:
external text entities.
links 

The benefits for ETEs is that they *may* be completely handled by the parser
and catalog machinery if required; the difficulties are:
- if they are included and expanded automatically, the document size
and tree problems are as before
- there is no *application-indpendent* way of signalling whether 
expansion is required ['may be recognised when the entity itself is referred 
to']
- recursive expansion including non-WF entities will break the parsing
process in an *application-dependent* manner (e.g. +-draconian)
- [namespace - but sotto voce]

The benefits for links are:
- they save memory
- non-WF documents only break a small and well-defined part of the 
structure
- recursive expansion is under greater control
- [there is no ********* problem].
- it is possible to parse non-XML documents on the fly into XML (they
need a MIME type in JUMBO).

So I am redesigning my documents  (using XML-LINK="SIMPLE", nothing more)
to look like:

<?XML VERSION="1.0"?>
<!DOCTYPE FOO SYSTEM "foo.dtd" [
]>
<FOO>
<P>When 
<A HREF="mol.cml">Molecule I</A> reacts with NaOH the
rate of reaction <A HREF="eqn.xml">Equation 1</A> is first order</P></FOO>

and mol.cml:
<?XML VERSION="1.0"?>
<!DOCTYPE CML SYSTEM "cml.dtd"[
]>
<MOL>
<ATOMS>...</ATOMS></MOL>

and eqn.xml
<?XML VERSION="1.0"?>
<!DOCTYPE MathML SYSTEM "mathml.dtd"[
]>
<EXPR><EXP/><MINUS/>k<TIMES/>t</EXPR>  <!-- hope that's valid for exp(-kt) -->

If I use the defaults (REPLACE, USER) I get a button which has to be clicked,
etc.  If I use (EMBED, AUTO) I get an object (active molecule, active math)
embedded in the text.  EMBED, USER means I acn delay the expansion, but the
result is the same.

XML-LINK 4.1 says: 'embedded for the purposes of display or processing, in 
the body of the resource and at the location where the traversal started'.

I take this to mean that it *might* be interpeted as 'now being part of' the
original document.  As a WF document there is no validity problem.  But I
(and I suspect others) would like to have control over this, other than
in an application-dependent way.  I don't know the right  phrase but
it might be something like WF-transclusion.  EMBED does not give sufficient
control over the process, and I would argue for an additional XML-LINK
control.  

<NOTE>I have found Eliot's reply to my queries on XML-DEV about LINK very 
helpful and I assume that WG/ERB members who need to know have read it.
I hope that what I outline here is now reasonable usage, though in this
case I suspect that 4.1 could be clarified.  If the additional tree is now 
included as part of the old tree ('embedded ... in the body of the resource'),
I'm not exactly sure what its structure would be</NOTE>

P.

-- 
Peter Murray-Rust, domestic net connection
Virtual School of Molecular Sciences
http://www.vsms.nottingham.ac.uk/



