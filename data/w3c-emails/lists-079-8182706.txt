docno="lists-079-8182706"
received="Thu Jun 26 02:36:14 2003"
isoreceived="20030626063614"
sent="Thu, 26 Jun 2003 15:36:11 +0900 (JST)"
isosent="20030626063611"
name="Masayasu Ishikawa"
email="mimasa@w3.org"
subject="Re: Can Browsers Attempt to Render Broken XHTML?"
id="20030626.153611.74745328.mimasa@w3.org"
charset="us-ascii"
inreplyto="1C84C842-A769-11D7-BE38-0003930E8CF0&#64;idyllmtn.com"
expires="-1"


To:w3c-wai-ig@w3.org


Kynn Bartlett <kynn@idyllmtn.com> wrote:

> Okay, so if an XHTML document is not well-formed, that's a fatal error. 

Yes.

>   What
> should a user agent do with a fatal error?  Let's see what else [XML] 
> says:
<snip/>
> A browser is _not_ allowed to "recover gracefully" if it detects a
> problem (lack of well-formedness) in an XHTML document.

Right.  If a document is really served as XHTML.

The point is the media type.  If you want your document to be
processed as XHTML by user agents, send it as XHTML, i.e. with
the media type 'application/xhtml+xml'.  XHTML user agents that
support the 'application/xhtml+xml' media type, including Amaya,
Camino, DocZilla, Mozilla, Netscape 6/7, Opera 6/7, Safari, and
X-Smiles, will not recover from a fatal error and won't render
your XHTML document if it's not well-formed.  The only non-conformant
browsers that somehow recognize the 'application/xhtml+xml' media
type and yet render the document despite well-formedness error are
iCab (at least up to v2.9.1) and w3m (at least up to v0.4.1), as
far as I'm aware of.

If you send your document as 'text/html', you are effectively
telling that "process it as HTML", and the user agent handling
of an invalid document is undefined.

Regards,
-- 
Masayasu Ishikawa / mimasa@w3.org
W3C - World Wide Web Consortium



