docno="lists-081-0427288"
received="Sun Mar 21 13:06:24 2004"
isoreceived="20040321180624"
sent="Sun, 21 Mar 2004 13:06:23 -0500"
isosent="20040321180623"
name="ATutor"
email="info@atutor.ca"
subject="Re: [WAI-IG] Serving my page in the right language"
id="405DD99F.8020009@atutor.ca"
charset="ISO-8859-1"
inreplyto="405DC82B.9020803&#64;atutor.ca"
expires="-1"


To:w3c-wai-ig@w3.org
Cc: Paul Davis<paul@ten-20.com>, David Dorward<david@us-lot.org>


I little guidance in ATutor language negotiation might help:

If you are reviewing the code, most of the language negotiation is done 
in include/lib/select_lang.inc.php. The output from this script is 
stored in a session variable which is displayed through a small block of 
code in the various header files found throughout ATutor.

Assuming a user is accessing ATutor for the first time, or is not yet 
logged in, the script attempts to determine what the user's preferred 
language is by detecting it in the  HTTP_ACCEPT_LANGUAGE environment 
variable (the browser's setting), and if a translation is available, 
that language is displayed. Otherwise ATutor retreives a user's language 
preference from their profile settings, or if that fails it's retreived 
from the default language setting set for the system's by the system 
administrator. If all fail then English is displayed.

Hope this helps...

greg 

ATutor wrote:

>
>
> Paul Davis wrote:
>
>> ...It is always easy and safer to seek the
>> negative angle. I feel it may be time for your's and others' 
>> expertise to be
>> used, not just discussed. That way, may be something could be 
>> achieved, not
>> matter how small. The longest journey starts with a small step. Dare 
>> you to
>> take it.
>>
>>
>>  
>>
> Before a scrap breaks out, see how language negotiation is dealt with 
> in ATutor. Try the demo or download and install a copy if you want to 
> review the code... (atutor.ca also negotiates language when using the 
> translator site)
>
> ATutor Demo
> http://www.atutor.ca/atutor/demo.php
>
> ATutor Download
> http://www.atutor.ca/atutor/download.php
>
> Be gentle *smile* We're workin' on it.
>
> greg
>
>



