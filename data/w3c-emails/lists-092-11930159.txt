docno="lists-092-11930159"
received="Thu Dec 26 18:56:12 2002"
isoreceived="20021226235612"
sent="Thu, 26 Dec 2002 18:56:05 -0500 (EST)"
isosent="20021226235605"
name="Charles McCathieNevile"
email="charles@w3.org"
subject="6.4 - progress Re: config problem - Amaya on OS X"
id="Pine.LNX.4.30.0212261819150.17763-100000@tux.w3.org"
charset="US-ASCII"
inreplyto="Pine.LNX.4.30.0212230458050.24177-100000&#64;tux.w3.org"
expires="-1"

To:<www-amaya-dev@w3.org>



Amaya 6.1 seems to compile happily from the fink package on OS 10.2.1 and
10.2.3

Compiling 6.4 hasn't yet worked. First problem was to get it to look in the
right places - it searched for gdk_imlib in /sw/include/glib1.2 but it it in
/sw/include. (Since I don't know enough about compiling I just symlinked them
from /sw/include/glib1.2 but I would prefer to figure out how to get it to
look in /sw/include for cleaner design)

Then it started compiling, getting thotlib etc done until it got to libwww:

creating cache ./config.cache
checking host system type... configure: error: can not guess host type; you
must specify one
libwww is configured
/bin/sh: cd: libwww/modules/md5: No such file or directory
make[3]: *** No rule to make target `libmd5.la'.  Stop.
make[2]: *** [libwww_make_module_md5] Error 2
make[1]: *** [amaya_comp_libwww] Error 2
make: *** [amaya_prog] Error 2
mymac>

At this point I have re-read Carine's instructions a few times, and although
I think they will allow me to compile a working 6.4 I am wondering whether it
is worth continuing. I will not have access to a Mac again for a while, so I
will probably try to compile 7.1 and build a patchfile for fink.

The disadvantage is that Carine and Damian have used different approaches to
fixing the problems. Since I don't have the resources to take over
maintaining the package I had hoped that it could be done with minimal
changes to Damian's existing packages.

It is not clear if Damian is going to continue to maintain the package
either, in which case an orphan 7.1 is better than an orphan 6.1. But given
that there are apparently a number of people using Amaya on MacOS it would be
better to maintain the package. This would also allow us to provide a fink
binary package for Mac OSX.

I was recently asked to provide instructions for installing for people who
find the fink install is the very limit of their ability to deal with
compiling - I will talk to Carine about adding those to the page about
building fink on OS X or publishing them seperately, and will post them to
this list as soon as I receive a copy.

Cheers

Charles

On Mon, 23 Dec 2002, Charles McCathieNevile wrote:

>On Sun, 22 Dec 2002, Charles McCathieNevile wrote:
>
>>
>>Hi folks,
>>
>>The short story:
>>
>>I got Damian Steer's original amaya-gtk info and patch files from fink
>>unstable and edited to give a 7.1 install, and ran into a configuring
>>problem.
>>
>>It downloaded the source, built dlcompat-dev, lib-jpeg and lib-png quite
>>happily. It seemed to run fine until it came to creating makefiles, and then
>>it just created empty files.
>>
>>Since I am now stuck not knowing enough to fix it I am going to try the
>>following steps:
>>
>>1. build Amaya-gtk 6.1 from fink - this is known to work on OS X.1 so if it
>>     builds on X.2 that is useful information.
>
>This works fine.
>
>>2. build a fink package for 6.4 - this shouldn't involve any real changes
>>     from 6.1 so I am hoping that it just works...
>
>This doesn't work - the patch needs to be changed still, and I didn't get it
>to do the right thing :( (I am wondering if the patch got everything right
>for my 7.1 compile... will re-try)
>
>cheers
>
>Chaals
>
>

-- 
Charles McCathieNevile  http://www.w3.org/People/Charles  tel: +61 409 134 136
SWAD-E http://www.w3.org/2001/sw/Europe ------------ WAI http://www.w3.org/WAI
 21 Mitchell street, FOOTSCRAY Vic 3011, Australia  fax(fr): +33 4 92 38 78 22
 W3C, 2004 Route des Lucioles, 06902 Sophia Antipolis Cedex, France



