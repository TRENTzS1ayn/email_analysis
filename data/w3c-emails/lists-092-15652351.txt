docno="lists-092-15652351"
received="Fri May  7 16:37:26 2004"
isoreceived="20040507203726"
sent="Fri, 7 May 2004 16:37:11 -0400 (EDT)"
isosent="20040507203711"
name="Thomas Schulz"
email="schulz@adi.com"
subject="Re: error on makedepend"
id="200405072037.i47KbB86017090@dolphin.adi.com"
inreplyto="error on makedepend"
expires="-1"


To:zuse@libero.it
Cc:www-amaya-dev@w3.org


> From: Riccardo Mottola <zuse@libero.it>
> To: <www-amaya-dev@w3.org>
> Subject: error on makedepend
> 
> Hello,
> 
> I'm trying to compile Amaya 8.5 release, on AIX 4.2 with gcc 2.95 and motif
> 
> I configured and saw no problems, using gnu-make I launched make:
> gmake[1]: Entering directory `/usr/local/build/Amaya/AIX/tools/mkdep'
> g++ -O2 -W -x c++ -D__cplusplus -I../../ -c ../../../tools/mkdep/mkdep.c -o
> mkde
> p.o
> ../../../tools/mkdep/mkdep.c: In function `void do_depend()':
> ../../../tools/mkdep/mkdep.c:388: ANSI C++ forbids implicit conversion from
> `voi
> d *' in assignment
> gmake[1]: *** [mkdep.o] Error 1
> gmake[1]: Leaving directory `/usr/local/build/Amaya/AIX/tools/mkdep'
> gmake: *** [tools/mkdep/mkdep] Error 2
> 
> Ideas?
> 
> -Riccardo

I had to make the following change to mkdep.c

> diff mkdep.c.orig mkdep.c
388c388
<         mmap_map = malloc(mmap_mapsize);
---
>         mmap_map = (char *)malloc(mmap_mapsize);


See the archives of this list for other changes that I had to make for AIX.
Note that I was building on AIX 4.1, so you should not have all of the
problems that I had.

Tom schulz
Applied Dynamics Intl.
schulz@adi.com



