docno="lists-092-7182462"
received="Wed Jan 12 02:37:40 2000"
isoreceived="20000112073740"
sent="Tue, 11 Jan 2000 20:48:54 -0500 (EST)"
isosent="20000112014854"
name="bglbv@my-deja.com"
email="bglbv@my-deja.com"
subject="Re: multikey on Unix"
id="20000112014755.1778.qmail@my-deja.com"
charset="us-ascii"
inreplyto="multikey on Unix"
expires="-1"


To:www-amaya-dev@w3.org
Cc:danton@inexo.com.br

To Danton Nunes and everyone else who wonders about dead keys, AltGr, etc:
I'm currently working on this, and I think I now have a reasonable
understanding of the problem. Basically, Amaya does some dirty things
when handling KeyPress events, and falls flat in the presence of the
XKEYBOARD extension to the X11 protocol. It expects the Mod3 modifier
key (AltGr on my keyboard) to set the Mod3Mask bit in the event state,
but XKEYBOARD intercepts this.

I'm working on a solution which should result in cleaner handling of
keyboard input at least on platforms (like Linux) with a recent version
of X11. I'll try not to break things for older versions (which means
#ifdef'ing the changes). The idea is to take a more "hands-off" approach
to KeyPress events, letting Xlib functions do all the work of translating
them. I'll forward my changes to the Amaya core development team once
I'm happy with them.



