docno="lists-092-7441237"
received="Tue Jan 25 21:54:06 2000"
isoreceived="20000126025406"
sent="Tue, 25 Jan 2000 21:46:29 -0500 (EST)"
isosent="20000126024629"
name="bglbv@my-deja.com"
email="bglbv@my-deja.com"
subject="A modest proposal..."
id="20000126003955.1770.qmail@my-deja.com"
charset="us-ascii"
expires="-1"


To:www-amaya-dev@w3.org

(Please don't take that Subject: for a reference to Swift.)

I suggest that the Amaya maintainers remove the automatically-generated
*_f.h header files from the CVS repository (with "cvs remove", i.e.
moving them to the Attic). The reason is that these can and *should* be
regenerated with cextract whenever changes are made. "make proto" takes
care of this. Having them in the repository both bloats the distribution
and increases the risk of mismatches developing between the headers and
the actual functions they describe.

(Among other things, this would expose the fact that dialogue/browser.c
still includes environ_f.h, which is no longer being updated from any
environ.c since that file no longer exists. It should be including
fileaccess_f.h instead.)

I would also suggest that every .c file include its associated _f.h file.
That way the compiler gets a chance to check the prototypes for consistency.
The same holds for the header files that define the public API, of course.

Speaking of which, shouldn't some of TtaReadByte and friends be promoted
to the public API, since they are being used in various places outside
thotlib? (amaya/transparse.c, batch/app.c, batch/grammar.c, etc.)



