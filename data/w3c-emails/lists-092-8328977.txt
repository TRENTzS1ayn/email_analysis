docno="lists-092-8328977"
received="Tue May  2 02:50:14 2000"
isoreceived="20000502065014"
sent="Sun, 30 Apr 2000 21:40:18 -0400 (EDT)"
isosent="20000501014018"
name="bglbv@my-deja.com"
email="bglbv@my-deja.com"
subject="memory deallocation bug"
id="20000501013911.18479.qmail@my-deja.com"
charset="us-ascii"
expires="-1"


To:www-amaya-dev@w3.org

Using current CVS Amaya, Linux/i386, gcc 2.95.2 20000313 (Debian GNU/Linux).

Page http://www.musictrad.com/accueil/index.html exposes a memory bug in
Amaya. After loading it, as soon as I try to move to another page, a SEGV
fault occurs. Both ccmalloc and dmalloc report fencepost violations;
dmalloc further suggests that a piece of memory may have been freed twice
(i.e. the fencepost was overwritten with the pattern used to fill freed
memory). With electric-fence I get a SEGV in RemovePosRelation() at line
2375 of thotlib/view/boxrelations.c, but the cause is not immediately
apparent. It could even be a compiler bug, as far as I can tell; can anyone
else reproduce the problem?



