docno="lists-093-15622846"
received="Fri Jun 25 12:47:30 1999"
isoreceived="19990625164730"
sent="Fri, 25 Jun 1999 18:47:25 +0200 (MET DST)"
isosent="19990625164725"
name="jose.kahan@w3.org"
email="jose.kahan@w3.org"
subject="Re: Compile error for 2.1 on Solaris 2.7"
id="199906251647.SAA21878@tuvalu.inrialpes.fr"
charset="ISO-8859-1"
inreplyto="C6DEFCFC4371D211A1B600805FA7AD19633534&#64;groexmbcr04bck.pfizer.com"
expires="-1"


To:jack_h_ostroff@groton.pfizer.com(Ostroff Jack H)
Cc:www-amaya@w3.org

Hello Jack,

Thanks for your complete report.

> make[3]: *** [HTZip.lo] Error 1
> make[3]: Leaving directory `/devel/local/w3c/Amaya/sun/libwww/Library/src'
> make[2]: *** [libwww] Error 2
> make[2]: Leaving directory `/devel/local/w3c/Amaya/sun'
> make[1]: *** [../libwwwapp.a] Error 2
> make[1]: Leaving directory `/devel/local/w3c/Amaya/sun/amaya'
>
> zlib.h is in Amaya/libpng/zlib, and there seem to be references to zlib in
> the main Makefile, but it doesn't seem to be propagating the complete
> include list.  Copying *.h from Amaya/libpng/zlib to Amaya/libwww
> seems to be a dirty workaround.  Any suggestions as to the correct
> correction?

We haven't yet tried to compile Amaya on solaris 2.7.

It's strange that it can't find the include, as it's on the Amaya
Makefile:

        @(cd $(LIBWWW)/Library/src ; $(MAKE) CC="$(CC)" CFLAGS="$(CFLAGS)" \
                -I$(THOTDIR)/libpng/zlib \
                libwwwapp.la \
                libwwwhttp.la \
                libwwwhtml.la \
                libwwwmime.la \
                libwwwcache.la \
                libwwwstream.la \
                libwwwfile.la \
                libwwwdir.la \
                libwwwtrans.la \
                libwwwcore.la \
                libwwwutils.la \
                libwwwzip.la)

Could you try chaging the -I$(THOTDIR) and put an -ICompletePathtoZlib
instead, and see if it works better?

The Makefile worked well while compiling from scratch on solaris2.5
and linux.

-Jose



