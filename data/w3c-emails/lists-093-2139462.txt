docno="lists-093-2139462"
received="Tue May 13 08:31:37 1997"
isoreceived="19970513123137"
sent="Tue, 13 May 1997 08:19:43 +0300 (EET DST)"
isosent="19970513051943"
name="Sami Lempinen"
email="ssl@sci.fi"
subject="RE: Parameters in &lt;img src&gt; interpreted as entities"
id="XFMail.970513091522.ssl@sci.fi"
charset="us-ascii"
inreplyto="5l80au$tbt&#64;alfie.demon.co.uk"
expires="-1"


To: (Nick Holloway)<Nick.Holloway@alfie.demon.co.uk>
Cc:list-amaya@alfie.demon.co.uk

-----BEGIN PGP SIGNED MESSAGE-----

Greetings,

On 12-May-97 Nick Holloway wrote:
>This is present in Amaya 1.0a, but has been present in earlier releases.
>
>If Amaya reads in the following HTML:
>
>    <a href="/cgi-bin/program?x=1&y=1">Link</a>
>    <img src="/cgi-bin/program?x=1&y=1">
>
>It doesn't complain about the link, but it does complain that "&y="
>is an invalid entity in the <img>.
>

AFAIK, Amaya is right in doing so. RFC 1866 says:

            NOTE - The URI from a query form submission can be
            used in a normal anchor style hyperlink.
            Unfortunately, the use of the `&' character to
            separate form fields interacts with its use in SGML
            attribute values as an entity reference delimiter.
            For example, the URI `http://host/?x=1&y=2' must be
            written `<a href="http://host/?x=1&#38;y=2"' or `<a
            href="http://host/?x=1&amp;y=2">'.

            HTTP server implementors, and in particular, CGI
            implementors are encouraged to support the use of
            `;' in place of `&' to save users the trouble of
            escaping `&' characters this way.

I came across the same issue when I was working on my HTML validator
(http://www.snowman.sci.fi/lehtori/ - it's not ROT13'd, it's in Finnish ;-) and
received angry messages from people who were getting errors when referring to
CGI scripts.

>Another interesting feature is that "&ft;" is turned into a ">" symbol,
>but I don't recognise that as a valid entity.
>

That looks like an error to me.

BTW - did my bug reports concerning the Save As dialog and Amaya losing the
NOWRAP attribute ever make it to the list? I do not think I ever saw any
replies.

Enjoy,

Sami

- ---------------------------------------------------------
               Sami Lempinen * ssl@sci.fi
   http://www.sci.fi/~ssl/ * http://www.snowman.sci.fi/
- ---------------------------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: 2.6.3i
Charset: noconv

iQCVAwUBM3gDLSRFo0lpa/91AQEkSAP9GJ+tkxgIa8NnSWqsZldFCWarXusFv5w/
EOrSM6s+d5WvwJKiKZkLEy4BBTyzCYse5NfjqPvhY9z0XBKMCK4g1bZ5uUeb+Cki
w2LchOOhBmEUYquk74VX3fnKepQEAKcHY3bGmAwspOldoMUWOm579eVv1g24Cbil
DQeWu0vwCZo=
=hAug
-----END PGP SIGNATURE-----



