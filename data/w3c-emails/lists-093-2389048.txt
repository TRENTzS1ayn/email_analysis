docno="lists-093-2389048"
received="Mon May 19 21:48:31 1997"
isoreceived="19970520014831"
sent="Mon, 19 May 1997 14:49:36 -0500"
isosent="19970519194936"
name="Doug Martin 4-6576"
email="martind@mr.med.ge.com"
subject="HTMLstyle.c compilation error"
id="9705191449.ZM12115@sgi59"
charset="us-ascii"
expires="-1"


To:martind@mr.med.ge.com,www-amaya@w3.org

This is the same problem reported by Cowen,  Fri, 5-16. The only difference is
that I am on an Irix machine, but I think it is the same problem. After some
debugging, I have traced the problem to a structure missing a few elements; the
problem is that I can't even find the structure definition despite scouring the
source directories. Please take a moment to glance thru the explanation below
and see if the location of this structure (when I finally get to it after my
long intorductory stuff) definition you may be aware of; it seems that perhaps
I have the wrong version of one of the source distributions:

1. Problem: the compiler chokes on a few statements in HTMLstyle.c, e.g.:

if (context->drv->UpdatePresentation != NULL)
   context->drv->UpdatePresentation (target, context, unused);

with:

/data/martind/Thot/amaya/HTMLstyle.c: In function `ParseHTMLStyleDecl':
/data/martind/Thot/amaya/HTMLstyle.c:1279: structure has no member named
`UpdatePresentation'
/data/martind/Thot/amaya/HTMLstyle.c:1280: structure has no member named
`UpdatePresentation'


2. The context structure is defined as:

        PresentationContext context;

3. which is defined in presentdriver.h which is included in HTMLstyle_f.h which
is included in HTMLstyle.c (the offending file) as:

  typedef struct struct_PresentationContext
  {
     PtrPresentationStrategy drv;

     ...

4. and right before this the PtrPresentationStrategy structure is defined as:

  typedef struct struct_PresentationStrategy *PtrPresentationStrategy;

5. so all I need to do is find the definition of struct_PresentationStrategy
and I can see if these elements are really missing, and maybe just get a newer
or different version of whatever distribution contains this file. But alas, I
can not find the definition of this structure anywhere.

6. it's curious, because there is an earlier usage of a structure of this type
that uses it as:

   if (context->drv->CleanPresentation != NULL)
      context->drv->CleanPresentation (target, context, unused);

in which context is defined identically, but the compiler does not complain so
the CleanPresentation element must be defined, hence I know the compiler is
finding the definition somewhere.

Help, and thanks.

-- Doug Martin





-- 
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
+  John D. Martin                       phone: (414) 521-6576         +
+  Global Advanced Technology Group     email: martind@mr.med.ge.com  +
+  GE Medical Systems
+  P.O. Box 414, W-875                                                +
+  Milwaukee, WI 53201-0414                                           +
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++



