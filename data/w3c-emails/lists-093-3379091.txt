docno="lists-093-3379091"
received="Wed Feb 12 09:26:15 1997"
isoreceived="19970212142615"
sent="Wed, 12 Feb 1997 09:26:34 +0100"
isosent="19970212082634"
name="Daniel Veillard"
email="Daniel.Veillard@imag.fr"
subject="Re: Amaya and 32 bit color"
id="199702120826.JAA04113@praslin.inrialpes.fr"
charset="us-ascii"
inreplyto="Amaya and 32 bit color"
expires="-1"


To: root<root@hemul.p52.hioslo.no>
Cc:www-amaya@w3.org


>There is a problem with Amaya 0.95b and 32 bit color, I get these messages
>for most images:
>
>>?Don't know how to format image for display of depth 32
>
>I use a Matrox Millenium under XFree86 3.2A on a RedHat 4.0 distribution 
>of linux, if that matters. Any workaround or fixes?

  Could you try with packed 24 bits. We don't have such a graphics
adapter here, the best is 24 bit displays. Otherwise the handling
of 24 and 32 images should be similar, could you try to recompile
from sources, changing in Thot/thotlib/image/gifhandler.c in function
MakeImage around line 1019 :

               break;
            case 24:
               bit_data = (unsigned char *) TtaGetMemory (width * height * 4);

to

               break;
            case 24:
            case 32:
               bit_data = (unsigned char *) TtaGetMemory (width * height * 4);

and check wether this simple patch works.

   thanks for your help,

Daniel
-- 
Daniel Veillard@w3.org      | W3C / INRIA Rhone-Alpes | Today's Bookmarks :
Daniel.Veillard@inrialpes.fr| 655 av de l'Europe      | Linux, WWW,
Tel : +33 04 76 61 53 85    | 38330 Montbonnot        | badminton,
Fax : +33 04 76 54 76 15    | France                  | Amaya and CSS.
Home: +33 04 76 63 05 86    | http://opera.inrialpes.fr/veillard



