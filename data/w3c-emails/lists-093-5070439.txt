docno="lists-093-5070439"
received="Fri Sep 19 11:34:56 1997"
isoreceived="19970919153456"
sent="Fri, 19 Sep 1997 17:34:18 +0200"
isosent="19970919153418"
name="Daniel Veillard"
email="veillard@praslin.inrialpes.fr"
subject="Proxy Configuration with Java-Amaya"
id="199709191534.RAA00889@praslin.inrialpes.fr"
charset="us-ascii"
expires="-1"


To: Benedikt Heinen<beh@infrasys.ascom.ch>
Cc:www-amaya@w3.org


  There was already another mail on this subject on the mailing
list. I guess the information below fully describe how to set-up the
proxies capabilities when running Java Amaya (hence the change of
the Subject).

>  In amaya-java I must enter these in java.properties, but that file only 
>has entries for setting the proxy, but I can't see a way to disable proxying
>for certain hosts. Is there another keyword to achieve that?

  Ok the basic mechanism available to define a proxy from java.properties
is a bit limited. Either you define the three values :

proxySet=true
proxyPort=your_proxy_port
proxyHost=your_proxy_host_name

and the proxy is enabled for all requested URL, or you set up

proxySet=false

and there is no proxy at all.

  Of course you can defines other schemes but you will need to
use some of the facilities offered by the Jigsaw proxy classes.
more precisely the proxyDispatcher, check the following URL to
check out it's outstanding capabilities :

http://www.w3.org/Jigsaw/User/Reference/w3c.www.protocol.http.proxy.ProxyDispat
cher.html

Here is an example of a proxy setup :

------------------- java.properties -------------------------
java.protocol.handler.pkgs=w3c.www.protocol
w3c.www.protocol.http.server=w3c.www.protocol.http.HttpBasicServer
;w3c.www.protocol.http.cache.debug=true
w3c.www.protocol.http.cache.shared=false
; To set up an advanced proxy dispatcher
proxySet=false
w3c.www.protocol.http.filters=w3c.www.protocol.http.proxy.ProxyDispatcher
w3c.www.protocol.http.proxy.rules=file://localhost/users/veillard/proxy.props
--------------------------------------------------------------

  The last line gives an URL for the proxy configuration.
One can use a file exported by a server to share the setup !

Now here is the content of my (admitedly very simple) proxy setup :

------------------ ~veillard/proxy.props ---------------------
fr              direct
DEFAULT         redirect http://my_proxy_host:my_proxy_port/
--------------------------------------------------------------

  all accesses done to the .fr (France) are done directly,
and all other accesses are routed to the local proxy.
You can also forbid accesses using teh keywork "forbid", a complete
reference and grammar for the proxy properties are available.

   enjoy,

Daniel

-- 
Daniel Veillard@w3.org      | W3C / INRIA Rhone-Alpes | Today's Bookmarks :
Daniel.Veillard@inrialpes.fr| 655 av de l'Europe      | Linux, WWW, Java,
Tel : +33 (0)4 76 61 53 85  | 38330 Montbonnot        | badminton, Kaffe,
Fax : +33 (0)4 76 61 52 07  | France                  | HTTP-NG and Amaya.
Home: +33 (0)4 76 63 05 86  | http://opera.inrialpes.fr/veillard



