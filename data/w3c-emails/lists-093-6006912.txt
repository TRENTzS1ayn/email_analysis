docno="lists-093-6006912"
received="Sun Oct 19 20:31:31 1997"
isoreceived="19971020003131"
sent="Sun, 19 Oct 1997 20:31:07 -0400"
isosent="19971020003107"
name="Daniel Veillard"
email="veillard@rufus.w3.org"
subject="Re: problem with configure on FreeBSD 2.2.2"
id="199710200031.UAA30925@rufus.w3.org"
charset="us-ascii"
inreplyto="problem with configure on FreeBSD 2.2.2"
expires="-1"


To: James Strickland<james@perforce.com>
Cc:www-amaya@w3.org

>Hi.  I just downloaded thot-src-2.1d.tar.gz and amaya-src-1.1a.tar.gz and
>followed the instructions to unpack them.  When running ../configure I get
>exactly the same problems as were reported by Brett Taylor on 22 Sep, namely
>the mess starting with
>
>configure: warning: Thot editor sources not found

  Ok, this is harmless ..

>..etc...with the end result being null Makefiles.
>
>See http://lists.w3.org/Archives/Public/www-amaya/1997JulSep/0133.html
>for the original report of the problem.  The last message on this thread
>I could find was 0163.html, in which Daniel Veillard suggested:
>
>>   Ok, clearly the /bin/sh script produced by configure didn't

  I was wrong, the original report indicate that configure runs
sed, and from the errors logged during the process, it seems that
the version of sed used by FreeBSD 2.2.2 don't like the way autoconf
call it. Having a short look at the configure script, it uses sed
in at least four ways :
     sed expression            e.g. sed 's/^\(.*\)-\(.*\)-\(.*\)$/\1/'
     sed -e expression         e.g. sed -e 's/-*without-//'
     sed -e exp1 -e exp2       e.g. sed -e 's/-*with-//' -e 's/=.*//'
     sed -f filename           e.g. sed -f conftestsed
the last one being used only twice.
I guess that your version of sed has a different behaviour on one of those.
One way to cope with it is to use a version of sed identical to the one I
have on Linux (GNU sed version 2.05).
Another way is to rebuild the configure script with the FreeBsd version of
autoconf using the autoconf input files. The original configure.in
is available at ftp://rufus.w3.org/pub/veillard/configure.in .

  hope this help

Daniel



