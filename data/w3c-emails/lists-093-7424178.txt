docno="lists-093-7424178"
received="Mon May  4 05:38:17 1998"
isoreceived="19980504093817"
sent="Fri, 1 May 1998 10:04:46 -0400 (EDT)"
isosent="19980501140446"
name="Rahul Siddharthan"
email="rsidd@physics.iisc.ernet.in"
subject="Amaya problems on DEC Alpha/Linux"
id="Pine.LNX.3.96.980501095342.1101A-100000@theory6.physics.iisc.ernet.in"
charset="US-ASCII"
expires="-1"

To:www-amaya@w3.org


I faced a couple of problems compiling Amaya on an Alpha workstation
running Linux (Red Hat 5.0). The first I imagine is not linux-specific,
and I could fix it, but I can't handle the second.


(a)
There seems to be a problem with the Amaya makefile in the source
package which I downloaded from ftp.w3.org (amaya-src-1.2a.tar.gz)

#
# Main Makefile for Thot/Amaya source tree
# Generated from Makefile.in
# Daniel Veillard, 1997
#
....
....

bin/cextract :
@(cd tools/cextract-$(CEXTRACT_VER) ; $(MAKE) CC="-O" CFLAGS="$(CFLAGS)" cextract)

proto : rebuild bin/cextract
@(for dir in $(SUBDIRS) ;\
  do if test -d $$dir ; then cd $$dir ; \
  $(MAKE) CC="$(CC)" CFLAGS="$(CFLAGS)" proto ; \
  cd .. ; fi ;done )
...
...

It refuses to "make proto". I changed the line for bin/cextract to
$(MAKE) CC="$(CC) ....
and it compiles then.


(b)
Moreover, I'm unable to "make kaffe": it gives the following error message
gcc -g -O2  -I. -I../../../../kaffe-0.9.2/kaffe/kaffe/../kaffevm
-I../../config -I../../../../kaffe-0.9.2/kaffe/kaffe/../../config
-I../../include -I../../../../kaffe-0.9.2/kaffe/kaffe/../../include -o
kaffe main.o -L../kaffevm -lkaffevm
-L../../packages/tjwassoc.co.uk/APIcore/lib -lnative
-L../../packages/tjwassoc.co.uk/APInet/lib -lnet
-L../../packages/tjwassoc.co.uk/APIzip/lib -lzip  -L/usr/X11/lib -lX11
-lkaffevm -lm -lc 
../kaffevm/libkaffevm.a(classMethod.o): In function `buildDispatchTable':
/temp/stuff/Thot/obj/kaffe-0.9.2/kaffe/kaffevm/../../../../kaffe-0.9.2/kaffe/kaffevm/classMethod.c:746:
undefined reference to `alpha_do_fixup_trampoline'
collect2: ld returned 1 exit status


Can anyone help with this?


Rahul Siddharthan                                rsidd@physics.iisc.ernet.in
----------------------------------------------------------------------------
Department of Physics, Indian Institute of Science, Bangalore 560012 (India)
Phone: (Off) (91-80)3092579 (Hostel) 3092624, room U-70   Fax:(91-80)3341683



