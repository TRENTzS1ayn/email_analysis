docno="lists-093-8952569"
received="Thu Feb 12 13:11:05 1998"
isoreceived="19980212181105"
sent="Thu, 12 Feb 1998 12:57:40 -0500 (EST)"
isosent="19980212175740"
name="Benjamin Redelings I"
email="bredelin@ucsd.edu"
subject="A Bug (was Re: Current bugs in amay 1.2 LINUX-ELF)"
id="34E337B3.D8B74E0F@ucsd.edu"
charset="us-ascii"
inreplyto="199802090859.JAA23829&#64;lifou.inrialpes.fr"
expires="-1"


To:www-amaya@w3.org

Thanks for your answers.  However, I still have some problems with the
way amaya handles incorrect HTML.  I do not know how difficult it is to
handle mistakes in HTML, but I like the fact that amaya usually
complains about them, and I hope it is possible to make amaya even
"smarter."

Bug: Amaya draws the sample document (bottom of this message)
incorrectly.  The second list is drawn on top of the first!  To fix this
problem, all I have to do is add a space after the </a>, which seems
rather broken. 
Anyway, it is possible that the <a> element should be inside the <h3>
and should not be empty.... but I think that amaya should at least WARN
that the HTML is incorrect if it does not plan to handle the bad HTML!

Also: in the link that I mentioned (below: layer2.shtml), an </a> tag
is missing.  Amaya does not complain about this, but instead tries to
put everything inside the <a> tag.  However, having <h3> inside <a> is
not allowed, so amaya reverses the order.  The effect is that the <a>
tag gets multiplied about 5 times :)  It would be nice to have some kind
of warning/explanation:

amaya: Warning! Did not find </a> for <a> on line X.
amaya: Fixing: Assuming that everything is inside the <a> tag until next
<a> tag on line Y
amaya: Warning! <h3> cannot be inside <a>
amaya: Fixing: Moving a copy of <a> inside <h3>
amaya: Warning! <p> cannot be inside <a>
amaya: Fixing: Moving a copy of <a> inside <p>
amaya: last 2 messages repeated 4 times

I don't know that all the warnings are necessary, but amaya probably
should at least say that the </a> tag is missing before mutilating the
document (because this time it guessed wrong:  it was only a typing
error).

Thanks,
-BenRI




Vincent QUINT wrote:
> 
> Thanks for your comments.
> 
> > Scrolling still doesn't work well.  The horizontal scroll bar doesn't
> > work.  Also, if I am near the top of the page, and I go up one page,
> > amaya will sometimes go beyond the top of the page.
> 
> Horizontal scrolling is considered as an extension for a future
> release.
> 
> > Also, amaya does not handle "<a name="asdf"></a>" gracefully.  For one
> > example, look at
> > "http://sdcc13.ucsd.edu/~bredelin/Essays/layer2.shtml".  This looks
> > strange, and you will see why if you use the structure view.  Amaya has
> > made LOTS of <a name> elements, instead of the original ONE in the
> > source code.
> 
> In that particular case, the anchor element <a name="bulverism"> is not
> closed by a </a> tag.  Amaya considers that the anchor applies to all
> following elements until it encounters another <a> tag that is properly
> closed.
> 
> Another problem with anchors in the documents you mention is that they
> often appear in an invalid context.  The HTML 4.0 DTD (http://www.w3.org/TR/REC-html40/sgml/dtd.html), as well as
> previous HTML
> DTDs, state that anchors are inline elements: they can only appear in
> block elements such as paragraphs, headings, list items, etc.  In the
> example below, the empty anchor named "how" should be placed within the
> H3 element, not between that element and the previous UL.  When
> properly placed, an empty anchor works correctly in Amaya.
> 
> To avoid any trouble, you may consider validating your pages.  See for
> instance http://validator.w3.org/
> 
> > In this example, amaya draw two lists on top of each other:
> >
> > --------------temp.shtml---------------------
> > <HTML>
> > <HEAD>
> >   <TITLE>List of Questions</TITLE>
> > </HEAD>
> >
> > <BODY>
> > <ul>
> >   <li><h4>What is the exact meaning of the word "Ultimate?"</h4>
> >   I'm not sure, but its completely socially constructed.  Futhermore
> >   this word represents a concept, and so illustrates the fact that
> >   everything we say is just one way of looking at things.  However,
> >   this way of looking at concepts is not just one way among many, but
> >   is the only way for all non-arrogant people.
> > </ul>
> >
> > <a name="how"></a><h3>Why do dogs like fire hydrants?</h3>
> > <ul>
> >   <li>
> >   Since all answers are equally correct (being socially constructed),
> >   we asked an informant from the idyllic !Kung tribe.  However, we
> >   forgot the interpreter, so we "constructed" the following answer:
> >   Once upon a time a man went to the store.  At the store he bought a
> >   large watermelon.  The vodka is strong but the meat is rotten.
> > </ul>
> > </body>
> >
> > </html>
> > --------------------------end temp.shtml--------------------
> 
> Vincent.
> 
> -------------------------------------------------------
> Vincent Quint                       INRIA Rhone-Alpes
> W3C/INRIA                           ZIRST
> e-mail: Vincent.Quint@w3.org        655 avenue de l'Europe
> Tel.: +33 4 76 61 53 62             38330 Montbonnot St Martin
> Fax:  +33 4 76 61 52 07             France



