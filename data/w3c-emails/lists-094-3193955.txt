docno="lists-094-3193955"
received="Fri Aug 27 11:31:21 1999"
isoreceived="19990827153121"
sent="Fri, 27 Aug 1999 11:30:51 -0400"
isosent="19990827153051"
name="Ly, An"
email="An.Ly@CAI.COM"
subject="RE: synchronize tree dump?"
id="F516E350BFC4D1118F7B00805FC14BC3029BE160@usilmse2.cai.com"
charset="windows-1252"
inreplyto="synchronize tree dump?"
expires="-1"


To:Irene.Vatton@inrialpes.fr
Cc:www-amaya@w3.org

Irene,

I traced through the code and the debug code does go through the menu code
which automatically calls CloseTextInsertion(). We're working off of a
modified source base so I put that line in.

Thanks.
-An

-----Original Message-----
From: Irene.Vatton@inrialpes.fr [mailto:Irene.Vatton@inrialpes.fr]
Sent: Friday, August 27, 1999 9:29 AM
To: Ly, An
Cc: www-amaya@w3.org
Subject: Re: synchronize tree dump? 


In-reply-to: Your message of Thu, 26 Aug 1999 17:31:12 -0400."
             <F516E350BFC4D1118F7B00805FC14BC3029AFA8C@usilmse2.cai.com> 
> Hi,
> 
> After typing (inserting) text at the beginning of existing text, the tree
> debug dump via TtaListAbstractTree does not appear to have these
characters.
> However all views render the inserted text properly. This does not occur
> when text is inserted in the middle or end of existing text. 

All views render the inserted text only if the insert has been committed.
Views don't share anything else than the internal tree.
The commit is done as soon as you change the selection or you display a
menu.
Are you sure you read the right file or the right version of that file?
I checked that on my version of Amaya (compiled with 
AMAYA_OPTIONS=-DAMAYA_DEBUG)
and the dump includes the inserted text.

> 
> 1. Is there a call to synchronize the debug dump tree? (probably commit
the
> insert?!)
> 2. Is it strange that the views have the updates while the internal tree
> doesn't?!
> 
> Thanks for any help!
> 
> -An
> 

  Irene.



