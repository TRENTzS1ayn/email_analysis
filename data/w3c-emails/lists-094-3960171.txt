docno="lists-094-3960171"
received="Mon Sep 20 11:57:37 1999"
isoreceived="19990920155737"
sent="Mon, 20 Sep 1999 17:57:30 +0200"
isosent="19990920155730"
name="Irene.Vatton@inrialpes.fr"
email="Irene.Vatton@inrialpes.fr"
subject="Re: collapsing split text"
id="199909201557.RAA16285@tahiti.inrialpes.fr"
charset="us-ascii"
inreplyto="collapsing split text"
expires="-1"


To:"Ly, An"<An.Ly@CAI.COM>
cc:www-amaya@w3.org

In-reply-to: Your message of Mon, 13 Sep 1999 13:00:40 -0400."
             <F516E350BFC4D1118F7B00805FC14BC302B64DD9@usilmse2.cai.com> 
> Hi,
> 
> During the course of editing a document, one text element may be split into
> multiple text elements. For example, when you insert other elements in the
> middle of it. When the inserted elements are deleted, some split text
> elements are still split, although they can be collapsed back into one text
> element. This sometimes leads to confusion especially when editing in the
> struct view.
> 
> Is there already a clean-up function that can go through the tree and fix
> it? If not, what is the suggest way to do it (walk sibling elements while
> it's text and collect them all into 1 text element?).
> 
> Thanks for your help!
> 
> An
> 

The function TtaMergeText does that when the text leaf is followed by another 
text leaf.
We removed the call to that function in the Amaya code because it made the 
undo too
complex to implement in some cases.
Text leaves are merged as soon as the document is saved and re-parsed, so we 
considered
the merging as a non crucial operation.

  Irene.



