docno="lists-094-5281666"
received="Thu Nov 18 04:06:57 1999"
isoreceived="19991118090657"
sent="Thu, 18 Nov 1999 10:06:45 +0100"
isosent="19991118090645"
name="Irene.Vatton@inrialpes.fr"
email="Irene.Vatton@inrialpes.fr"
subject="Re: Can't type anything in any address field."
id="199911180906.KAA05184@tahiti.inrialpes.fr"
charset="iso-8859-1"
inreplyto="Can't type anything in any address field."
expires="-1"


To: gildas mazery<gildas_mazery@yahoo.com>
cc:www-amaya@w3.org

In-reply-to: Your message of Fri, 12 Nov 1999 07:18:20 -0800."
             <19991112151820.10805.rocketmail@web601.yahoomail.com> 
> Hi,
> 
> I've the same problem. 
> I am using KDE and a french keyboard, and when I type
> something in field "Adresse" or "Title" nothing appear
> 
> for most of the key. (a appear as ?, z as <<...) 
> 
> PS: that is not a capslock, or numlock problem !
> 
> Gildas
> __________________________________________________
> Do You Yahoo!?
> Bid and sell for free at http://auctions.yahoo.com
> 

Sorry for the delay but I was away from my office.
Recently Sam posted a fix that solved this kind of Motif problem on
XFree86 3.3.5/Metrolink Motif 2.1.2.

Could you test if that patch fix your problem. This patch has been integrated
in the current CVS base. You can also download the source tar file and apply 
this patch.

The Patch is:
--- thotlib/dialogue/interface.c.orig        Tue Oct 19 06:50:48 1999
+++ thotlib/dialogue/interface.c        Tue Nov  2 23:06:07 1999
@@ -491,7 +491,7 @@
    {0, 0, 0},
 };
 
-#define NB_MK (sizeof(mk_tab) / sizeof(Multi_Key))
+#define NB_MK (int)((sizeof(mk_tab) / sizeof(Multi_Key)))
 
 #ifndef _WINDOWS
 static Display     *TtaDisplay = NULL;
@@ -531,7 +531,7 @@
 
   if (event == NULL)
     return (0);
-  if (event->keycode < TtaMinKeyCode || event->keycode > TtaMaxKeyCode)
+  if ((int)event->keycode < TtaMinKeyCode || (int)event->keycode > 
TtaMaxKeyCode)
     {
       if (keysym != NULL)
         *keysym = 0;
@@ -540,6 +540,8 @@
 
   keycode = event->keycode - TtaMinKeyCode;
   state = event->state;
+  state= state & (ShiftMask | LockMask | Mod1Mask | Mod3Mask);
+
   /* search for the keysym depending on the state flags */
   if (state == 0)
 
  Irene.



