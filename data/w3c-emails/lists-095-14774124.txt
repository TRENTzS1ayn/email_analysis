docno="lists-095-14774124"
received="Tue Jul  9 08:10:35 2002"
isoreceived="20020709121035"
sent="Tue, 09 Jul 2002 14:10:30 +0200"
isosent="20020709121030"
name="Irene Vatton"
email="Irene.Vatton@inrialpes.fr"
subject="Re: problem compiling Amaya 6.2 on AIX 4.3.3"
id="20020709121030.87BA0C@maiaina.inrialpes.fr"
charset="us-ascii"
inreplyto="OF1BC02EBA.376A54C7-ONC1256BF1.00357C4D&#64;snb.ch"
expires="-1"

To:Matthias.Dillier@snb.ch
Cc:www-amaya@w3.org



> Hi
> 
> I compiled Amaya 6.1 with some warnings on AIX 4.3.3 with gcc version
> 2.95.2 19991024 (release), gtk+ 1.2.10, glib 1.2.10.
> 
> Now with Amaya 6.2, I have the followint error message in ../thotlib
> 
> $ /usr/local/bin/make
> gcc -O2 -W  -D_I18N_  -DHAVE_CONFIG_H -I.. -I../../amaya/xpm
> -I../../tablelib/f -I../../thotlib/include -I../../thotlib/internals/var
> -I../../thotlib/internals/h -I../../thotlib/internals/f -I../../libjpeg
> -I../../libpng -I../../libpng/zlib -I/usr/include/Motif1.2    -c
> ../../thotlib/unicode/ustring.c -o unicode/ustring.o
> In file included from ../../thotlib/unicode/ustring.c:15:
> ../../thotlib/include/thot_sys.h:33: warning: `M_PI' redefined
> /usr/local/lib/gcc-lib/powerpc-ibm-aix4.3.1.0/2.95.2/include/math.h:238:
> warning: this is the location of the previous definition
> ../../thotlib/include/thot_sys.h:34: warning: `M_PI_2' redefined
> /usr/local/lib/gcc-lib/powerpc-ibm-aix4.3.1.0/2.95.2/include/math.h:239:
> warning: this is the location of the previous definition
> ../../thotlib/unicode/ustring.c:113: redefinition of `wcstok'
> /usr/include/wchar.h:192: `wcstok' previously defined here
> make: *** [unicode/ustring.o] Error 1
> 
> With 'make all' I have some more Errors, but probably they come from the
> thotlib-error.
> 
> Any ideas how to correct this?
> Do you need some more infos?

A quick solution is to comment the function wcstok in the file 
Amaya/thotlib/unicode/string.c
A long term solution is to detect when that function is provided by
the host system.

> 
> Please send a answer directly to my mail address.
> 
> Regards,
> Matthias Dillier
> 
> 
> This message is for information purposes only. It may not be secure or error-free. The Swiss National Bank does not accept legal responsibility for any consequences resulting from e-mail use.
> 



