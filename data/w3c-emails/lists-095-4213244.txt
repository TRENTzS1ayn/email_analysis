docno="lists-095-4213244"
received="Wed Mar 21 19:39:23 2001"
isoreceived="20010322003923"
sent="Thu, 22 Mar 2001 08:38:46 +0800"
isosent="20010322003846"
name="John Darrington"
email="johnd@ot.com.au"
subject="Re: Bug report and ideas"
id="20010322083846.B24871@swan.per.ot"
charset="iso-8859-1"
inreplyto="200103210919.KAA24730&#64;tahiti.inrialpes.fr"
expires="-1"

To: Irene VATTON<Irene.Vatton@inrialpes.fr>
Cc:www-amaya@w3.org


On Wed, Mar 21, 2001 at 10:19:09AM +0100, Irene VATTON wrote:
    
    > d?) Sometime a *** Thot: Irrecoverable error *** crashes Amaya with
    > tables.
    
    If you have a clear and repeatable scenario, that can help us to fix bugs.
    

I've identified several such scenarios, which are all repeatable, and
I have mailed them to this list in the past.  Unfortunately the Amaya
team has reported `It works fine on our machines'.  Maybe a more
comphrehensive test environment would be beneficial.

Some of the cases I tried to debug myself, and concluded the
following:

  1. All cases where caused by complex uses of tables.

  2. The crash occurred when the page was unloaded, not when it was
     loaded.

  3. The bad instruction was in a stack frame which was trying to
     delete memory.


These kind of problems I have found both on Solaris and Linux
(although the symptoms differ between platforms).   Maybe that whole
area of memory management and freeing of boxes needs to be looked at,
because it really is annoying to have amaya crashing all the time!!



