docno="lists-095-4328981"
received="Fri Mar 23 11:50:20 2001"
isoreceived="20010323165020"
sent="Fri, 23 Mar 2001 17:50:12 +0100"
isosent="20010323165012"
name="Irene VATTON"
email="Irene.Vatton@inrialpes.fr"
subject="Re: links to form results: handling &amp; in attributes"
id="200103231650.RAA01201@tahiti.inrialpes.fr"
charset="us-ascii"
inreplyto="connolly&#64;w3.org"
expires="-1"


To: Dan Connolly<connolly@w3.org>
cc: Irene VATTON<Irene.Vatton@inrialpes.fr>,www-amaya@w3.org

> Irene VATTON wrote:
> > 
> > Hi Dan,
> > 
> > We're looking at the problem.
> > We patched Expat because it omitted to transmit entities when they
> > are located within attribute values.
> > It seems the bug fix doesn't work in your case.
> 
> When you say that expat didn't transmit entities... do
> you mean that it gives you the replacement text of
> the entity rather than the entity reference? That's
> not a bug; that's as designed. When parsing this document
> 
> <aDoc attr="abc&amp;def"/>
> 
> I would expect an XML parser to just give me "abc&def"
> as the attribute's value.

It does it in the case of &amp;, but it skips the entity &euro;
The added patch is there just to let Amaya interprets other
entities (it's also the case of MathML entities) within attribute
values.
The release 4.3.2 fixes your problem and accepts valid entities now.

> 
> If you're trying to preserve markup like
> "abc&nbsp;def"
> then you're going to need something other than
> a generic XML parser. I don't recommend that
> you try to do that at all. Just deal with
> attribute values as plain strings.
> 
> 
> -- 
> Dan Connolly, W3C http://www.w3.org/People/Connolly/

-- 
     Irene.



