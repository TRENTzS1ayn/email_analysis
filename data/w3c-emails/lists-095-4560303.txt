docno="lists-095-4560303"
received="Thu Mar 29 09:06:26 2001"
isoreceived="20010329140626"
sent="Thu, 29 Mar 2001 08:06:20 -0600"
isosent="20010329140620"
name="Aaron Swartz"
email="aswartz@upclink.com"
subject="Re: Amaya Crash with 100-continue"
id="B6E89D7B.7D19%aswartz@upclink.com"
charset="US-ASCII"
inreplyto="20010329100621.A15864&#64;tarawa.inrialpes.fr"
expires="-1"

To:<jose.kahan@w3.org>
CC:<www-amaya@w3.org>


Jose Kahan <jose.kahan@w3.org> wrote:

> We need more info. Can you post the complete protocol exchange that
> took place? 

Certainly, here's the output from patchPanel:

PUT /testing HTTP/1.0
Accept: text/html
Accept-Encoding: *,deflate
TE: trailers,deflate
Expect: 100-continue
Host: logicerror.com:8000
If-Match: "DAB9897FA0C3C89E85C87E73B986731CF34DBF43"
User-Agent: amaya/V4.0 libwww/5.3.1
Cache-Control: no-cache
Connection: TE,Keep-Alive
Date: Wed, 28 Mar 2001 07:03:24 GMT
Content-Length: 1160
Content-Type: text/html
Last-Modified: Wed, 28 Mar 2001 07:03:24 GMT

(Amaya waits for a 100-continue, and times out)

<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>A Testing page</title>
  <link rel="stylesheet" type="text/css" href="mainstyle" />
  <meta http-equiv="Content-Type" content="text/html" />
</head>

<body>
<h1>A Testing page</h1>
<!-- NOTE: This source may be edited and resubmitted
     using HTTP PUT (with a browser like Amaya or OmniWeb).
     However, only edit between the editing comments, all
     other changes will be discarded. Also be sure not to remove
     or duplicate the editing marks. To change the title, edit
     the contents of the <title> tag.
-->
<!-- /// begin editing here \\\ -->

<p>yee haw!</p>

<p>Live from Amaya</p>

<p>just an old-fashioned test page -- break it down to three-part...oh never
mind.</p>
<!-- /// end editing here \\\ -->

<div class="footer">

<div>
<small><strong>Last Modified:</strong> 2001-03-28 12:38:46</small></div>
</div>

<p><small>Powered by <a
href="http://www.blogspace.com/about/">Blogspace</a>,
an <a href="http://www.aaronsw.com/">Aaron Swartz</a> project. <a
href="mailto:aaron@logicerror.com">Email the webmaster with
problems.</a></small></p>
</body>
</html>

----

HTTP/1.0 200 OK
Set-Cookie: 
ad_session_id=9081%2c0%20677%20985806863%20E7AF5E52FC23319CC35F8D66DB521112E
BAC1C59; Path=/; Max-Age=1200
MIME-Version: 1.0
Date: Wed, 28 Mar 2001 18:54:25 GMT
Server: AOLserver/3.3.1
Content-Type: text/plain
Content-Length: 27
Connection: close

Your resource is...GRANTED!

----

This seems to be a perfectly legal exchange, compatible with the RFC, yet
Amaya consistently crashes, on three different machines tested.

> Second question, why are you not using HTTP/1.1? :) Have you tried using
> mod_put in apache or my own (now old) put.c program?

I'm using HTTP/1.0 because that's what the server uses, and I don't feel
like rewriting the server. I can't use mod_put or put.c because I'm trying
to write a PUT handler. ;-)

> As for the crash, I can't reproduce it without more information from you.

I hope the above is clear enough. If you need more information I can point
you to a server and URL that exhibits this behavior.

-- 
Aaron Swartz <me@aaronsw.com>| ...schoolyard subversion...
  <http://www.aaronsw.com>   |  because school harms kids
AIM: JediOfPi | ICQ: 33158237|  http://aaronsw.com/school/



