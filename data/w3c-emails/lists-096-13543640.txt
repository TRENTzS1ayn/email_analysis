docno="lists-096-13543640"
received="Wed Jan 21 09:49:09 2004"
isoreceived="20040121144909"
sent="Wed, 21 Jan 2004 15:49:01 +0100"
isosent="20040121144901"
name="Vincent Quint"
email="Vincent.Quint@inrialpes.fr"
subject="Re: Corrupt characters"
id="20040121144901.963EB3D13@lihue.inrialpes.fr"
charset="us-ascii"
inreplyto="Lars.Bruzelius&#64;udac.se"
expires="-1"

To: Lars Bruzelius<Lars.Bruzelius@udac.se>
Cc:www-amaya@w3.org,Vincent.Quint@inrialpes.fr



Lars,

I guess the problem of displaying "!" or "#" instead of "(" and ")"
is a font issue. For these large characters, Amaya uses the Stix fonts,
and they may be missing in your system. I suppose Irene will have a look
at this issue.

Regarding the size of these characters, the problem is the structure
of your expression. If you replace

    <mo>(</mo>
    <mo>=</mo>
    <mi>CM</mi>
    <mo>)</mo>

by

    <mrow>
      <mo>(</mo>
      <mo>=</mo>
      <mi>CM</mi>
      <mo>)</mo>
    </mrow>

you get the size you expect. For more details, look at the MathML 2.0
specification, namely sections 3.2.5.8.2 and 7.1.2.

In Amaya, to generate the appropriate structure, use the parentheses
button from the Math palette or type Ctrl+m Ctrl+p, for entering the
parentheses around "=CM".

Vincent.

Lars Bruzelius wrote:
> 
> Trying to edit:
> 
>         x
> e(=CM)=-
>         y
> 
> When the fraction button on the Maths palette is selected, the "(" turns 
> into a large "!" and the ")" into a large "#". This occurs on an English 
> Windows 2000 5.00.2195 SP4 platform. The Amaya version is 8.2+ right out of 
> the box. The same expression on a Swedish Windows 98 SE platform with Amaya 
> 8.2 works all right.
> 
> Source code:
> 
> <?xml version="1.0" encoding="iso-8859-1"?>
> <!DOCTYPE math PUBLIC "-//W3C//DTD MathML 2.0//EN"
>        "http://www.w3.org/TR/MathML2/dtd/mathml2.dtd">
> <!-- Created by amaya 8.2+, see http://www.w3.org/Amaya/ -->
> <math xmlns="http://www.w3.org/1998/Math/MathML">
>    <mi>e</mi>
>    <mo>(</mo>
>    <mo>=</mo>
>    <mi>CM</mi>
>    <mo>)</mo>
>    <mo>=</mo>
>    <mfrac>
>      <mi></mi>
>      <mi></mi>
>    </mfrac>
> </math>
> 
> A similar effect has been observed when an integral character gets 
> converted into a large "!" character.
> 
> Another bug in conjunction with this is that the parenthesis (or the 
> corrupt characters) get enlarged out of proportion (to the same size as the 
> following fraction).
> 
> 
> Lars Bruzelius
> 
> SYSteam Udac AB
> Box 174,
> SE-751 04  Uppsala,
> Sweden.
> 
> Telephone: +46 18 678054    E-mail: Lars.Bruzelius@udac.se
> Telefax:   +46 18 516600    <URL:"http://www.udac.se">
> 



