docno="lists-096-4062438"
received="Mon Jun  9 09:12:36 2003"
isoreceived="20030609131236"
sent="Mon, 9 Jun 2003 14:03:03 +0100 (BST)"
isosent="20030609130303"
name="Hugh Sasse Staff Elec Eng"
email="hgs@dmu.ac.uk"
subject="Amaya 8 source fails to build Alpha 0SF1 V4.0"
id="Pine.GSO.4.53.0306091402020.11411@neelix"
charset="US-ASCII"
expires="-1"

To: Amaya Mailing List<www-amaya@w3.org>



On Alpha OSF1 Version 4.0 with GCC-3.3, Gnu Make 3.79, when compiling
Amaya 8.0 I get:

valyus hgs 405 %> $MAKE all
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools'
make[2]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/mkdep'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/mkdep'
make[2]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/cextract-1.7'
make[2]: Nothing to be done for `all'.
make[2]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/cextract-1.7'
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools'
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
/home/hgs/gnu/bin/gcc -O2 -D_GTK -D_SVGANIM -D_SVGLIB -D_I18N_  -DHAVE_CONFIG_H -I.. -I../../amaya/xpm -I../../tablelib/f -I../../thotlib/include -I../../thotlib/internals/var -I../../thotlib/internals/h -I../../thotlib/internals/f -I../../libjpeg -I../../libpng -I../../libpng/zlib  -I/usr/local/gnu/include/gtk-1.2 -I/usr/local/gnu/include/glib-1.2 -I/usr/local/gnu/lib/glib/include   -c ../../thotlib/base/fileaccess.c -o base/fileaccess.o
In file included from ../../thotlib/base/fileaccess.c:16:
../../thotlib/include/thot_sys.h:33:1: warning: "M_PI" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../thotlib/base/fileaccess.c:16:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:760:1: warning: this is the location of the previous definition
In file included from ../../thotlib/base/fileaccess.c:16:
../../thotlib/include/thot_sys.h:34:1: warning: "M_PI_2" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../thotlib/base/fileaccess.c:16:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:761:1: warning: this is the location of the previous definition
In file included from ../../thotlib/include/interface.h:11,
                 from ../../thotlib/include/appstruct.h:14,
                 from ../../thotlib/internals/h/typestr.h:30,
                 from ../../thotlib/internals/h/typeint.h:19,
                 from ../../thotlib/internals/h/typemedia.h:18,
                 from ../../thotlib/base/fileaccess.c:18:
../../thotlib/include/thot_gui.h:178:69: gdk_imlib.h: No such file or directory
../../thotlib/base/fileaccess.c: In function `TtaReadWideChar':
../../thotlib/base/fileaccess.c:92: warning: comparison is always true due to limited range of data type
../../thotlib/base/fileaccess.c: In function `TtaExtractName':
../../thotlib/base/fileaccess.c:502: warning: cast from pointer to integer of different size
../../thotlib/base/fileaccess.c:502: warning: cast from pointer to integer of different size
make[1]: *** [base/fileaccess.o] Error 1
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tablelib'
/home/hgs/gnu/bin/gcc -O2 -D_GTK -D_SVGANIM -D_SVGLIB -D_I18N_  -DHAVE_CONFIG_H -I.. -I../../tablelib/f -I../../thotlib/include -I../../thotlib/internals/var -I../../thotlib/internals/h -I../../thotlib/internals/f -I../../libjpeg -I../../libpng -I../../libpng/zlib  -I/usr/local/gnu/include/gtk-1.2 -I/usr/local/gnu/include/glib-1.2 -I/usr/local/gnu/lib/glib/include   -c ../../tablelib/table.c -o table.o
In file included from ../../tablelib/table.c:18:
../../thotlib/include/thot_sys.h:33:1: warning: "M_PI" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../tablelib/table.c:18:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:760:1: warning: this is the location of the previous definition
In file included from ../../tablelib/table.c:18:
../../thotlib/include/thot_sys.h:34:1: warning: "M_PI_2" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../tablelib/table.c:18:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:761:1: warning: this is the location of the previous definition
In file included from ../../thotlib/include/interface.h:11,
                 from ../../thotlib/include/appstruct.h:14,
                 from ../../thotlib/internals/h/typestr.h:30,
                 from ../../thotlib/internals/h/typeint.h:19,
                 from ../../thotlib/internals/h/typemedia.h:18,
                 from ../../tablelib/table.c:20:
../../thotlib/include/thot_gui.h:178:69: gdk_imlib.h: No such file or directory
make[1]: *** [table.o] Error 1
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tablelib'
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/batch'
make[2]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
/home/hgs/gnu/bin/gcc -O2 -D_GTK -D_SVGANIM -D_SVGLIB -D_I18N_  -DHAVE_CONFIG_H -I.. -I../../amaya/xpm -I../../tablelib/f -I../../thotlib/include -I../../thotlib/internals/var -I../../thotlib/internals/h -I../../thotlib/internals/f -I../../libjpeg -I../../libpng -I../../libpng/zlib  -I/usr/local/gnu/include/gtk-1.2 -I/usr/local/gnu/include/glib-1.2 -I/usr/local/gnu/lib/glib/include   -c ../../thotlib/base/fileaccess.c -o base/fileaccess.o
In file included from ../../thotlib/base/fileaccess.c:16:
../../thotlib/include/thot_sys.h:33:1: warning: "M_PI" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../thotlib/base/fileaccess.c:16:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:760:1: warning: this is the location of the previous definition
In file included from ../../thotlib/base/fileaccess.c:16:
../../thotlib/include/thot_sys.h:34:1: warning: "M_PI_2" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../thotlib/base/fileaccess.c:16:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:761:1: warning: this is the location of the previous definition
In file included from ../../thotlib/include/interface.h:11,
                 from ../../thotlib/include/appstruct.h:14,
                 from ../../thotlib/internals/h/typestr.h:30,
                 from ../../thotlib/internals/h/typeint.h:19,
                 from ../../thotlib/internals/h/typemedia.h:18,
                 from ../../thotlib/base/fileaccess.c:18:
../../thotlib/include/thot_gui.h:178:69: gdk_imlib.h: No such file or directory
../../thotlib/base/fileaccess.c: In function `TtaReadWideChar':
../../thotlib/base/fileaccess.c:92: warning: comparison is always true due to limited range of data type
../../thotlib/base/fileaccess.c: In function `TtaExtractName':
../../thotlib/base/fileaccess.c:502: warning: cast from pointer to integer of different size
../../thotlib/base/fileaccess.c:502: warning: cast from pointer to integer of different size
make[2]: *** [base/fileaccess.o] Error 1
make[2]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
make[1]: *** [../thotlib/libThotKernel.a] Error 2
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/batch'
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/annotlib'
/bin/sh: /home/hgs/gnu/Amaya/Alpha-OSF-v4.0/annotlib/../bin/str: not found
make[1]: *** [Annot.STR] Error 1
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/annotlib'
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/amaya'
make[2]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/batch'
make[3]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
/home/hgs/gnu/bin/gcc -O2 -D_GTK -D_SVGANIM -D_SVGLIB -D_I18N_  -DHAVE_CONFIG_H -I.. -I../../amaya/xpm -I../../tablelib/f -I../../thotlib/include -I../../thotlib/internals/var -I../../thotlib/internals/h -I../../thotlib/internals/f -I../../libjpeg -I../../libpng -I../../libpng/zlib  -I/usr/local/gnu/include/gtk-1.2 -I/usr/local/gnu/include/glib-1.2 -I/usr/local/gnu/lib/glib/include   -c ../../thotlib/base/fileaccess.c -o base/fileaccess.o
In file included from ../../thotlib/base/fileaccess.c:16:
../../thotlib/include/thot_sys.h:33:1: warning: "M_PI" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../thotlib/base/fileaccess.c:16:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:760:1: warning: this is the location of the previous definition
In file included from ../../thotlib/base/fileaccess.c:16:
../../thotlib/include/thot_sys.h:34:1: warning: "M_PI_2" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../thotlib/base/fileaccess.c:16:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:761:1: warning: this is the location of the previous definition
In file included from ../../thotlib/include/interface.h:11,
                 from ../../thotlib/include/appstruct.h:14,
                 from ../../thotlib/internals/h/typestr.h:30,
                 from ../../thotlib/internals/h/typeint.h:19,
                 from ../../thotlib/internals/h/typemedia.h:18,
                 from ../../thotlib/base/fileaccess.c:18:
../../thotlib/include/thot_gui.h:178:69: gdk_imlib.h: No such file or directory
../../thotlib/base/fileaccess.c: In function `TtaReadWideChar':
../../thotlib/base/fileaccess.c:92: warning: comparison is always true due to limited range of data type
../../thotlib/base/fileaccess.c: In function `TtaExtractName':
../../thotlib/base/fileaccess.c:502: warning: cast from pointer to integer of different size
../../thotlib/base/fileaccess.c:502: warning: cast from pointer to integer of different size
make[3]: *** [base/fileaccess.o] Error 1
make[3]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
make[2]: *** [../thotlib/libThotKernel.a] Error 2
make[2]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/batch'
make[1]: *** [../bin/str] Error 2
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/amaya'
valyus hgs 406 %>

Just to confirm:
valyus hgs 406 %> $CC --version
gcc (GCC) 3.3
Copyright (C) 2003 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

valyus hgs 407 %> $CXX --version
g++ (GCC) 3.3
Copyright (C) 2003 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

valyus hgs 408 %> $MAKE --version
GNU Make version 3.79, by Richard Stallman and Roland McGrath.
Built for alphaev6-dec-osf4.0f
Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99
        Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

Report bugs to <bug-make@gnu.org>.

valyus hgs 409 %>

My options file looks like this:
<quote>
#
# User's configurable option
# Generated from Options.in
#
# Increase the Version number each time one entry is added
# Version : 1.8
#

SHELL   = /bin/sh

CC      = /home/hgs/gnu/bin/gcc
CFLAGS  = -O2
CPP     = /home/hgs/gnu/bin/gcc -E -x c
LD      = /home/hgs/gnu/bin/gcc
LDFLAGS =
CP      = /sbin/cp
MV      = /sbin/mv
RM      = /sbin/rm -f
LN_S    = ln -s
MKDIR   = /sbin/mkdir
ECHO    = /usr/bin/echo
AR      = /usr/local/gnu/bin/ar rc
RANLIB  = ranlib
DIFF    = /sbin/diff
INSTALL = ../install-sh -c

INSTALL_DATA= $(INSTALL) -m 444
INSTALL_BIN= $(INSTALL) -m 755

CEXTRACT_FLAGS=+O
I18N_OPTIONS=@I18N_OPTIONS@

THOT_OPTIONS=-D_GTK -D_SVGANIM -D_SVGLIB -D_I18N_
AMAYA_OPTIONS=  -D_GTK -D_SVGANIM -D_SVGLIB -DXML_GENERIC -D_I18N_
PLUGIN_OPTIONS=
AMAYA_ANNOT_OPTIONS= -DRAPTOR_RDF_PARSER -I$(THOTDIR)/libraptor -D_I18N_
AMAYA_ANNOT_INCLUDES=

IMGLIBS=-ljpeg -lpng -lz
EXTRA_LIBS=

MOTIF_INCLUDES=
MOTIF_LIBRARIES=

EXPAT_INCLUDES=
EXPAT_LIBRARIES=
EXPAT_OPTIONS=-DXML_DTD -DXML_NS

GTK_INCLUDES=-I/usr/local/gnu/include/gtk-1.2 -I/usr/local/gnu/include/glib-1.2
-I/usr/local/gnu/lib/glib/include
GTK_LIBRARIES=-L/usr/local/gnu/lib -lgtk -lgdk -lgmodule -lglib -lXext -lXext -l
X11 -ldnet_stub -lm -lgdk_imlib

GL_INCLUDES=
GL_LIBRARIES=

X_FLAGS=$(MOTIF_INCLUDES) $(GTK_INCLUDES) $(GL_INCLUDES)
X_EXTRA_LIBS= -ldnet_stub
X_PRE_LIBS= -lSM -lICE
X_LIBS=

PRINTIFNOTGL= print_prog

LIBWWW=libwww



</quote>

Is anything obvious awry?
        Hugh



