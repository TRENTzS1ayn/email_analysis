docno="lists-096-4182073"
received="Wed Jun 11 05:32:29 2003"
isoreceived="20030611093229"
sent="Wed, 11 Jun 2003 10:22:53 +0100 (BST)"
isosent="20030611092253"
name="Hugh Sasse Staff Elec Eng"
email="hgs@dmu.ac.uk"
subject="Still having prolems on Alpha OSF1..."
id="Pine.GSO.4.53.0306110955420.12829@neelix"
charset="US-ASCII"
expires="-1"

To: Amaya Mailing List<www-amaya@w3.org>



First, may I suggest a patch similar to this one?

--- Makefile.in Wed Apr 23 10:35:29 2003
+++ Makefile.in.new     Wed Jun 11 10:02:02 2003
@@ -77,6 +77,9 @@
          $(MAKE) CC="$(CC)" CFLAGS="$(CFLAGS)" clean ; \
          cd .. ; fi ;done )

+reallyclean: clean
+        ${RM} config.cache config.h config.log config.status
+
 tempclean :
        find ../ -name '.#*' -print0 | xargs -0r rm -f
        find ../ -name \*~ -exec rm {} \;

I'm not sure if anything else needs cleaning out before a completely
fresh build.

There seems to be no test in configure for gdk or for imlib.  I can
see nothing that tests for GTK or GTK+, or even opengl for that
matter.  It claims that there is no libjpeg or libpng, but these are
in directories within the Amaya distribution.

Would it be possible to put on the download page copies of
the files one actually needs as prerequisites for building Amaya?

        Thank you
        Hugh


Script started on Wed Jun 11 10:08:51 2003
valyus hgs 44 %> ../configure --prefix=/home/hgs/gnu
creating cache ./config.cache
checking host system type... alpha-dec-osf4.0
checking target system type... alpha-dec-osf4.0
checking build system type... alpha-dec-osf4.0
checking whether /home/hgs/gnu/bin/make sets ${MAKE}... yes
checking for bison... bison -y
checking for gcc... /home/hgs/gnu/bin/gcc
checking whether the C compiler (/home/hgs/gnu/bin/gcc  ) works... yes
checking whether the C compiler (/home/hgs/gnu/bin/gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether /home/hgs/gnu/bin/gcc accepts -g... yes
checking how to run the C preprocessor... /home/hgs/gnu/bin/gcc -E
checking for flex... flex
checking for yywrap in -lfl... no
checking for mawk... no
checking for gawk... gawk
checking for a BSD compatible install... ../install-sh -c
checking whether ln -s works... yes
checking whether /home/hgs/gnu/bin/make sets ${MAKE}... (cached) yes
checking for ranlib... ranlib
checking for cp... /sbin/cp
checking for mv... /sbin/mv
checking for rm... /sbin/rm
checking for mkdir... /sbin/mkdir
checking for echo... /usr/bin/echo
checking for cat... /sbin/cat
checking for chmod... /sbin/chmod
checking for sed... /usr/bin/sed
checking for ar... /usr/local/gnu/bin/ar
checking for diff... /sbin/diff
checking for socket in -lsocket... no
checking for connect in -linet... no
checking for t_accept in -lnsl... no
checking for dlopen in -ldl... no
checking for X... libraries , headers
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... yes
checking for gethostbyname... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for IceConnectionNumber in -lICE... yes
checking for dirent.h that defines DIR... yes
checking for opendir in -ldir... no
checking for ANSI C header files... yes
checking for sys/wait.h that is POSIX.1 compatible... yes
checking for stdio.h... yes
checking for sys/types.h... yes
checking for types.h... no
checking for sys/unistd.h... no
checking for unistd.h... yes
checking for sys/fcntl.h... yes
checking for fcntl.h... yes
checking for sys/limits.h... yes
checking for limits.h... yes
checking for sys/stat.h... yes
checking for stat.h... no
checking for sys/file.h... yes
checking for sys/ioctl.h... yes
checking for sys/time.h... yes
checking for time.h... yes
checking for sys/systeminfo.h... yes
checking for sys/string.h... no
checking for strings.h... yes
checking for sys/syslog.h... yes
checking for syslog.h... yes
checking for sys/socket.h... yes
checking for socket.h... no
checking for appkit/appkit.h... no
checking for appkit.h... no
checking for apppkit/apppkit.h... no
checking for apppkit.h... no
checking for netinet/in.h... yes
checking for in.h... no
checking for dn.h... no
checking for sys/ipc.h... yes
checking for net/errno.h... no
checking for sys/errno.h... yes
checking for errno.h... yes
checking for pwd.h... yes
checking for grp.h... yes
checking for arpa/inet.h... yes
checking for inet.h... no
checking for netdb.h... yes
checking for manifest.h... no
checking for bsdtypes.h... no
checking for stdefs.h... no
checking for bsdtime.h... no
checking for sys/select.h... yes
checking for select.h... no
checking for dnetdb.h... no
checking for libc.h... no
checking for stdlib.h... yes
checking for malloc.h... yes
checking for memory.h... yes
checking for unixlib.h... no
checking for ctype.h... yes
checking for cursesX.h... no
checking for curses.h... yes
checking for sys/resource.h... yes
checking for resource.h... no
checking for dirent.h that defines DIR... (cached) yes
checking for opendir in -ldir... (cached) no
checking for dir.h... no
checking for direct.h... no
checking for ANSI C header files... (cached) yes
checking for sys/wait.h that is POSIX.1 compatible... (cached) yes
checking whether time.h and sys/time.h may both be included... yes
checking whether stat file-mode macros are broken... no
checking for stdint.h... no
checking for working const... yes
checking for inline... inline
checking for mode_t... yes
checking for off_t... yes
checking for size_t... yes
checking whether time.h and sys/time.h may both be included... (cached) yes
checking whether struct tm is in sys/time.h or time.h... time.h
checking for tm_zone in struct tm... yes
checking for uid_t in sys/types.h... yes
checking for working alloca.h... yes
checking for alloca... yes
checking type of array argument to getgroups... gid_t
checking whether /home/hgs/gnu/bin/gcc needs -traditional... no
checking for 8-bit clean memcmp... yes
checking for unistd.h... (cached) yes
checking for getpagesize... yes
checking for working mmap... yes
checking return type of signal handlers... void
checking for vprintf... yes
checking for getcwd... yes
checking for gethostname... yes
checking for gettimeofday... yes
checking for getwd... yes
checking for mkdir... yes
checking for mktime... yes
checking for putenv... yes
checking for select... yes
checking for socket... yes
checking for strdup... yes
checking for strerror... yes
checking for strftime... yes
checking for strstr... yes
checking for strtod... yes
checking for strtol... yes
checking for uname... yes
checking for lstat... yes
checking for strcasecmp... yes
checking for strncasecmp... yes
checking for strchr... yes
checking for memcpy... yes
checking for libjpeg version = 6b... no
checking for libpng version = 1.0.x or 1.2.x... no
updating cache ./config.cache
creating ./config.status
creating Makefile
creating Options.orig
creating tools/Makefile
creating libjpeg/Makefile
creating libpng/Makefile
creating libpng/zlib/Makefile
creating tools/mkdep/Makefile
creating tools/cextract-1.7/Makefile
creating thotlib/Makefile
creating thotlib/include/Makefile
creating batch/Makefile
creating tablelib/Makefile
creating amaya/Makefile
creating pluginlib/Makefile
creating annotlib/Makefile
creating config.h
Amaya configured with libWWW
Amaya configured with SVG support
Amaya configured with Annotations support
Amaya configured with the Raptor RDF parser
Amaya configured with generic XML suppport
Amaya configured with internationalization suppport
Amaya configured with system graphic libraries (libjpeg, libpng, zlib)
Amaya configured with GTK

Now type "make" (GNU make preferably) to build the binaries

valyus hgs 45 %> echo $MAKE
/home/hgs/gnu/bin/make
valyus hgs 46 %> $MAKE --version
GNU Make version 3.79, by Richard Stallman and Roland McGrath.
Built for alphaev6-dec-osf4.0f
Copyright (C) 1988, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99
Free Software Foundation, Inc.
This is free software; see the source for copying conditions.
There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE.

Report bugs to <bug-make@gnu.org>.

valyus hgs 47 %> $MAKE
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools'
make[2]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/mkdep'
/home/hgs/gnu/bin/gcc -O -I../../ -c ../../../tools/mkdep/mkdep.c -o mkdep.o
/home/hgs/gnu/bin/gcc  -o mkdep mkdep.o
make[2]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/mkdep'
make[2]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/cextract-1.7'
../../tools/mkdep/mkdep -relative -vpath ../../../tools/cextract-1.7  ../../../tools/cextract-1.7/*.c  > .depends
make[2]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/cextract-1.7'
make[2]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/cextract-1.7'
/home/hgs/gnu/bin/gcc '-DCPP="'"/home/hgs/gnu/bin/gcc -E -x c"'"' -O -c ../../../tools/cextract-1.7/parse.c -o parse.o
/home/hgs/gnu/bin/gcc '-DCPP="'"/home/hgs/gnu/bin/gcc -E -x c"'"' -O -c ../../../tools/cextract-1.7/main.c -o main.o
/home/hgs/gnu/bin/gcc '-DCPP="'"/home/hgs/gnu/bin/gcc -E -x c"'"' -O -c ../../../tools/cextract-1.7/io.c -o io.o
../../../tools/cextract-1.7/io.c: In function `mach_time':
../../../tools/cextract-1.7/io.c:2227: warning: passing arg 1 of `ctime' from incompatible pointer type
/home/hgs/gnu/bin/gcc  -o ../../bin/cextract parse.o main.o io.o /usr/shlib/libpthread.so /usr/shlib/libpthreaddebug.so /usr/shlib/libpthreadevent_vt.so /usr/shlib/libpthreads.so /home/hgs/gnu/lib/libIDL-0.6.so.4.4.4  -lm
make[2]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools/cextract-1.7'
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/tools'
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
../tools/mkdep/mkdep -relative -vpath ../../thotlib -DHAVE_CONFIG_H -I.. -I../../amaya/xpm -I../../tablelib/f -I../../thotlib/include -I../../thotlib/internals/var -I../../thotlib/internals/h -I../../thotlib/internals/f -I../../libjpeg -I../../libpng -I../../libpng/zlib  -I/usr/local/gnu/include/gtk-1.2 -I/usr/local/gnu/include/glib-1.2 -I/usr/local/gnu/lib/glib/include   ../../thotlib/*/*.c  > .depends
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
make[1]: Entering directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
/home/hgs/gnu/bin/gcc -O2 -D_GTK -D_SVGANIM -D_SVGLIB -D_I18N_  -DHAVE_CONFIG_H -I.. -I../../amaya/xpm -I../../tablelib/f -I../../thotlib/include -I../../thotlib/internals/var -I../../thotlib/internals/h -I../../thotlib/internals/f -I../../libjpeg -I../../libpng -I../../libpng/zlib  -I/usr/local/gnu/include/gtk-1.2 -I/usr/local/gnu/include/glib-1.2 -I/usr/local/gnu/lib/glib/include   -c ../../thotlib/base/fileaccess.c -o base/fileaccess.o
In file included from ../../thotlib/base/fileaccess.c:16:
../../thotlib/include/thot_sys.h:33:1: warning: "M_PI" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../thotlib/base/fileaccess.c:16:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:760:1: warning: this is the location of the previous definition
In file included from ../../thotlib/base/fileaccess.c:16:
../../thotlib/include/thot_sys.h:34:1: warning: "M_PI_2" redefined
In file included from ../../thotlib/include/thot_sys.h:31,
                 from ../../thotlib/base/fileaccess.c:16:
/home/hgs/gnu/lib/gcc-lib/alphaev6-dec-osf4.0f/3.3/include/math.h:761:1: warning: this is the location of the previous definition
In file included from ../../thotlib/include/interface.h:11,
                 from ../../thotlib/include/appstruct.h:14,
                 from ../../thotlib/internals/h/typestr.h:30,
                 from ../../thotlib/internals/h/typeint.h:19,
                 from ../../thotlib/internals/h/typemedia.h:18,
                 from ../../thotlib/base/fileaccess.c:18:
../../thotlib/include/thot_gui.h:178:69: gdk_imlib.h: No such file or directory
../../thotlib/base/fileaccess.c: In function `TtaReadWideChar':
../../thotlib/base/fileaccess.c:92: warning: comparison is always true due to limited range of data type
../../thotlib/base/fileaccess.c: In function `TtaExtractName':
../../thotlib/base/fileaccess.c:502: warning: cast from pointer to integer of different size
../../thotlib/base/fileaccess.c:502: warning: cast from pointer to integer of different size
make[1]: *** [base/fileaccess.o] Error 1
make[1]: Leaving directory `/home/hgs/gnu/Amaya/Alpha-OSF-v4.0/thotlib'
make: *** [thotlib] Error 2
valyus hgs 48 %> exit
valyus hgs 49 %> exit

script done on Wed Jun 11 10:10:01 2003



