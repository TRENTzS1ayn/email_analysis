docno="lists-096-7276279"
received="Thu Feb 20 06:18:45 2003"
isoreceived="20030220111845"
sent="Thu, 20 Feb 2003 11:18:42 +0000"
isosent="20030220111842"
name="Maurizio Codogno"
email="puntomaupunto@tin.it"
subject="Re: WIN2K/XP BUG &amp; WISHLIST: Amaya user directory"
id="3E37563C00021AF3@ims4a.cp.tin.it"
charset="ISO-8859-15"
inreplyto="20030220110547.GG19432&#64;inrialpes.fr"
expires="-1"


To:www-amaya@w3.org


>From: Jose Kahan <jose.kahan@w3.org>


>The problem is that this is the third change we do to this code for
>finding the Windows user home dir. It seems it's not always the same
>even in the same architecture.

Well, I just looked at the environment vars in XP, and I found no
APPDATA :-)

Probably the best way to cope with this is a multilayer approach:

- if the environment variable AppData exists, use it as home directory;
- otherwise, if the environment variable UserHome (or something like
that) exists, use it as home directory;
- otherwise, complain with user and tell her to set up a suitable
environment variable;
- if she forces a "go on", use C:\Amaya\ .

ciao, .mau.



