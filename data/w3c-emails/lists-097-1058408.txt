docno="lists-097-1058408"
received="Wed May  9 14:49:43 2001"
isoreceived="20010509184943"
sent="Wed, 09 May 2001 19:48:41 +0100"
isosent="20010509184841"
name="Matthew Wilson"
email="matthew@mjwilson.demon.co.uk"
subject="Re: Use of Annotea with non-XHTML HTML"
id="4.3.2.7.1.20010509193858.00b76dd0@pop3.demon.co.uk"
charset="us-ascii"
inreplyto="20010509163112.G479&#64;inrialpes.fr"
expires="-1"


To:jose.kahan@w3.org
Cc:www-annotation@w3.org

At 16:31 09/05/01 +0200, Jose Kahan wrote:
>Hello Matthew,
>
>On Tue, May 08, 2001 at 07:16:17PM +0100, Matthew Wilson wrote:
> > What is the situtation regarding the use of Annotea with documents which
> > are HTML, but not XHTML?
> >
> > XPointer, after all, applies to "resources whose type is one of text/xml,
> > application/xml, text/xml-external-parsed-entity, or
> > application/xml-external-parsed-entity".
>
>You got it right. I can tell you that in the Amaya client instance of
>Annotea, we allow to make XPointers on HTML documents. As Manos pointed out,
>if you do so in a non-valid HTML document, the result may vary from
>browser to browser. You can, of course, use XPointer to point to the anchor
>or to the ID attribute of HTML documents. However, if your XPointer expression
>has some kind of tree inside it, it should only point to one of the above
>types of documents. At least, this is the politcally correct, spec.
>conformant view. We don't impose such rule in Amaya yet, because we wanted
>to experiment  a bit more with the possibilities of XPointer. We may need to
>change this in the near future, according to the feedback we get from the
>XPointer WG.


Thanks. Perhaps I should point out the issues I am coming up against:

For Annozilla, I try to resolve the XPointer describing the context of the 
annotation, and I intend to try and construct XPointers when creating 
annotations. Currently I concentrate on things like 
xpointer(/html[1]/body[1]/p[3]). This works quite well, but I can only do 
this  by navigating the DOM.

But this has its difficulties: the HTML DOM says that tag names should be 
canonicalised to upper case, and also (I think) that "implied" HTML 
elements are exposed by the DOM - so you could end up creating references 
to elements that are not really present in the document.

Matthew Wilson



