docno="lists-097-2815182"
received="Tue Feb 19 14:40:24 2002"
isoreceived="20020219194024"
sent="Tue, 19 Feb 2002 17:42:02 +0000"
isosent="20020219174202"
name="Matthew Wilson"
email="matthew@mjwilson.demon.co.uk"
subject="Re: Protocols query: posting a reply"
id="4.3.2.7.1.20020219173133.00b55c60@pop3.demon.co.uk"
charset="us-ascii"
inreplyto="4.3.2.7.1.20020218184907.00b95820&#64;pop3.demon.co.uk"
expires="-1"


To:www-annotation@w3.org

At 18:59 18/02/02 +0000, Matthew Wilson wrote:
>I have questions about retrieving and posting replies, neither of which 
>are currently documented on the Protocols page 
>http://www.w3.org/2001/Annotea/User/Protocol.html.
>
>It looks as though I can retrieve a reply thread for an annotation by doing
>
>GET /annot?w3c_replyTree=annotationURL
>
>The RDF returns has resources of type 
>http://www.w3.org/2001/03/thread#Reply I think.
>
>Is posting a reply like posting an annotation, but using t:Reply and all 
>of the other thread properties?

Let me be less vague here. (When I started writing the last email I thought 
I had some example RDF to hand, but couldn't find it in the end.)

When I GET with ?w3c_replyTree=annotationURL for an annotatoin with 
replies, I get something like

    <t:Reply r:about="[reply URL]">
       <d:creator>...</d:creator>
       <d:date>...</d:date>
       <d:title>...</d:title>
       <a:body r:resource="[body URL]" />
       <a:context>...</a:context>
       <a:created>...</a:created>
       <t:inReplyTo r:resource="[annnotation URL]" />
       <t:root r:resource="[annotation URL]" />
       <atr:attribution r:resource="[reply URL]" />
    </t:Reply>

Most of this is fairly clear I think (except maybe the atr:attribution).

So my question is, what message do I need to send to create a new reply to 
an annotation? Is it a POST to the annotation server with

<r:RDF xmlns:...>
   <r:Description>
     <r:type resource="http://www.w3.org/2001/03/thread#Reply"/>
       <d:creator>...</d:creator>
       <d:date>...</d:date>
       <d:title>...</d:title>
       <a:context>...</a:context>
       <a:created>...</a:created>
       <t:inReplyTo r:resource="[annnotation URL]" />
       <t:root r:resource="[annotation URL]" />
       <a:body>
        <r:Description>
         <h:ContentType>text/html</h:ContentType>
         <h:ContentLength>...</h:ContentLength>
         <h:Body r:parseType="Literal">
          <html>...</html>
         </h:Body>
        </r:Description>
       </a:body>
   </r:Description>
</r:RDF>

... similar to Figure 2 on the Protocols page?
http://www.w3.org/2001/Annotea/User/Protocol.html#Fig-A2

Matthew Wilson



