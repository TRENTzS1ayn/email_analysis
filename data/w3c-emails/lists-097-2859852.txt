docno="lists-097-2859852"
received="Mon Feb 25 04:28:07 2002"
isoreceived="20020225092807"
sent="Mon, 25 Feb 2002 10:27:51 +0100"
isosent="20020225092751"
name="Jose Kahan"
email="jose.kahan@w3.org"
subject="Re: Are Amaya's XPointers for SVG correct?"
id="20020225102751.C404@inrialpes.fr"
charset="us-ascii"
inreplyto="4.3.2.7.1.20020223102910.00afda10&#64;pop3.demon.co.uk"
expires="-1"

To: Matthew Wilson<matthew@mjwilson.demon.co.uk>
Cc:www-annotation@w3.org


Hello Matthew, 

Thanks for your comments.

On Sat, Feb 23, 2002 at 10:36:11AM +0000, Matthew Wilson wrote:
> I tried creating an annotation on an SVG element inside an HTML document
> using Amaya. When I looked at the XPointer produced, it was
>
> http://www.mjwilson.demon.co.uk/svg-annot-test.html#xpointer(/html[1]/body[1]/
SVG[1]/line_[1]
>
> (that should be all on one line).
>
> Is that correct?

Can you email me the image you were trying to annotate? It is definitely
a bug to see line_ there.

The inclusiong of SVG inside HTML can only be done with the SVG keyword.
On XHTML, you can also do it with namespaces. However, the name should
be SVG. 

Somehow, the function that should be converting Amaya's internal element
names into those of the DTD is not being called for SVG.

> 1. Shouldn't it have xmlns(svg=http://www.w3.org/2000/svg) somewhere 
> (XPointer 5.2.1, Namespace Initialisation)? Or is this not required because 
> SVG is declared as the default namespace for the SVG element? (I'm a bit 
> hazy on this part of XPointer.)

If the document was generated by Amaya, this is not a problem.

The XPointer Candidate Recommendation says that namespaces must be used 
when there is a conflict between two identical element names coming from 
two different namespaces (sec. 5.2.1). If the document was generated by 
Amaya, this is not a problem, as we cannot yet produce or handle generic XML 
documents (although this should be available in one or two release time).

I agree that it wouldn't harm to include a namespace, if you included the
fragment this way. The same section in the CR says how to include the
namespace, but it's not clear what will be the final shape of the XPointer.
I'll ask the question to Henry and answer back to the list when I have more
information.

> 2. Shouldn't SVG be either svg or svg:svg?
> 3. Shouldn't line_ be line ?

For both above, I guess you're right. It seems like a bug in my Amaya
code. I'll look at it (I hope you can mail me your document and tell me what
you were annoating in it).

Cheers,

-jose



