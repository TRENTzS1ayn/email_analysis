docno="lists-097-2930808"
received="Fri Mar  1 07:17:21 2002"
isoreceived="20020301121721"
sent="Fri, 1 Mar 2002 12:15:05 -0000"
isosent="20020301121505"
name="Jim Ley"
email="jim@jibbering.com"
subject="Re: storing EARL in annotea"
id="007f01c1c11a$b96810c0$ca969dc3@emedia.co.uk"
charset="iso-8859-1"
inreplyto="3.0.32.20020301121623.00cbcda8&#64;barbwired.com"
expires="-1"


To:<w3c-wai-er-ig@w3.org>,<www-annotation@w3.org>

"Nadia Heninger" <nadia@barbwired.com>
> I'm not sure how Jim is posting to annotea,
> but I'm guessing that since the reports he gets back haven't been
> transformed the way I'm seeing mine be changed, he's at least including
the
> EARL in the body of an annotation.

Can you provide me with the Algae queries you use, and pages where you
have annotations stored.  So far all Algae Queries I do on EARL submitted
comes back all disconnected graphs, losing all the information - I assume
it's my queries, but haven't yet solved the problem.

For example, the algae:
(ask '(
 (http://www.w3.org/2001/03/earl/0.95#testSubject ?b ?s)
 (http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate ?q
http://www.w3.org/2001/03/earl/0.95#fails )
) collect '())

returns (modified to be valid.)
http://jibbering.com/2002/2/earl-0.95-annotest-result.rdf
http://jibbering.com/2002/2/earl-0.95-annotest-result.svg

which doesn't associate the testSubject with the predicate, I always get
this result.  I need Algae help!

> A few warnings from my experience playing with annotea:
>
> 1. The documentation at
http://www.w3.org/2001/Annotea/User/Protocol.html
> is wrong.  Annotest gives errors if you try to just post straight XML
to
> it.

I have two clients which both post straight XML without problems, the
above page is wrong, but only in that it omits the <?xml ... > with that
included it works fine for me - what problems do you have?

http://jibbering.com/2002/2/annoteaearlnew.rdf is a typical submitted
XML, with:
  Content-Type: application/xml
  Accept: text/xml
  user-agent: FillyJonk IRC Bot
  Content-Length: 1000

as the headers (content length obviously accurate.)

> Look at the source for
> http://annotest.w3.org/annotations?explain=false for examples of how to
> submit things - for example, to submit an annotation you have post your
> content as w3c_annotate=<url-encoded rdf>.  Same idea for algae
queries.

I definately don't like this for submission - url length is getting long,
I don't trust proxy's even if I can trust annotest to be okay with it.

> 3. Jim has already discovered this, but annotest has a bug when it
names
> other RDF namespaces, and EARL 0.95 properties come back as
> <0.95:whatever>, which isn't legal and causes IE to complain and refuse
to
> show me anything.

This is solved if you use one of the test-servers - I'll leave it to
EricP if he wants to open it up to the list.

Also I believe it's important we agree on a namespace to use, algae
queries really need to know what namespace you are using and it would be
nice if we could all use the same one.

Jim.



