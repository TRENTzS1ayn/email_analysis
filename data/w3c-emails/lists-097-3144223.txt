docno="lists-097-3144223"
received="Mon Mar 18 12:08:51 2002"
isoreceived="20020318170851"
sent="Mon, 18 Mar 2002 18:08:28 +0100"
isosent="20020318170828"
name="Jose Kahan"
email="jose.kahan@w3.org"
subject="Re: Orphaned annotations"
id="20020318180828.H389@inrialpes.fr"
charset="us-ascii"
inreplyto="036601c1ce8b$03ae11c0$ca969dc3&#64;emedia.co.uk"
expires="-1"

To: Jim Ley<jim@jibbering.com>
Cc:www-annotation@w3.org


Hello Jim,

On Mon, Mar 18, 2002 at 02:41:39PM -0000, Jim Ley wrote:
> 
> id's simply aren't used though, for example one might expect
> http://www.w3.org/2001/Annotea to be authored with a nod towards making
> Annotation easy, yet
> 
> #xpointer(/html[1]/body[1]/table[1]/tbody[1]/tr[1]/td[2]/h1[1])
> or
> #xpointer(start-point(string-range(/html[1]/body[1]/table[1]/tbody[1]/tr[
> 1]/td[2]/ul[1]/li[3],"",23,1))/range-to(end-point(string-range(/html[1]/b
> ody[1]/table[1]/tbody[1]/tr[1]/td[2]/ul[1]/li[3],"",40,1))))
> (which considering it's trying to point to an A element shows a pretty
> dodgy creation interface IMO.)
> 
> are a couple that the page has, id's aren't well used on the general web
> (generally only in connection with javascript and the few people who
> duplicate name/id in their anchors.)   and the kind of fuzzy pointers
> we're getting on even very simple documents such as the one above
> illustrate how easily they can be moved within the document.
> 
> Again on the Annotea front page we have Jose Kahan saying "Great work
> Art!" and pointing to
> #xpointer(/html[1]/body[1]/table[1]/tbody[1]/tr[1]/td[2]/p[10])
> which today points to "Others are strongly encouraged to start their own
> Annotea servers."
> yet http://web.archive.org/web/20010703011339/www.w3.org/2001/Annotea/
> which whilst not being from the right date (it's as close as
> web.archive.org has.) it does point to a paragraph discussing Art
> Barstow's javascript bookmarklet approach.

Thanks for your remarks concerning the Annotea page. Yes, we could have
added ID pointers, but this slipped by. On the other hand, note that
all the news items on the W3C home page do have a distinct ID attribute
(searc in the source code for <div class="item id="something">. I also
remember some talk about producing all of our specs with ID attributes.

It's not fair to say that because we forgot to add the ID attributes to
our main pages, XPointers don't work at all. The proof is that when you have
those attributes, the annotation is connected to them.

We have never tried to hide this limitation of XPointer. You call them
fuzzy pointers, but in reality, it's a limitation of XPointer. We have
identified two problems for XPointers, in both our paper and in the Amaya
on-line documentation:

- orphan annotations: an annotation can't be attached anymore to a document.
- misleading annotations (this is what you refer to as fuzzy pointers).
  An annotation is attached to a wrong place in the document.

Besides promoting the use of the ID attribute, we don't have a any good
solution today to make XPointer more robust. There are some ideas floating
around to solve this problem, some of them proposed by the Annotation group 
at Microsoft. The consensus seems to be that it's better to have orphan
annotations than a possibility of misleading annotations. This is an open
research item and we would like to have a contribution coming from the
annotations community.

> 
> I think it's clear fuzzy pointers without a mechanism to know how
> reliable the fuzzy pointer is can't realistically be used.

I agree with you on this and this is a known limitation that we have
documented. We're missing a FAQ for Annotea to make this clear and
also to say where we're expecting more contributions and which kind
of documents you can annotate better with the existing technology. I'd
say that if you have a live document, it's better you use ID's if you
plan to modify it.

-jose



