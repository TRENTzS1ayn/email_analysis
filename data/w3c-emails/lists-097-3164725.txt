docno="lists-097-3164725"
received="Mon Mar 18 13:02:12 2002"
isoreceived="20020318180212"
sent="Mon, 18 Mar 2002 12:59:51 -0500"
isosent="20020318175951"
name="Marja-Riitta Koivunen"
email="marja@w3.org"
subject="Re: Orphaned annotations"
id="4.3.2.7.2.20020318115555.038214b0@localhost"
charset="us-ascii"
inreplyto="036601c1ce8b$03ae11c0$ca969dc3&#64;emedia.co.uk"
expires="-1"


To:"Jim Ley"<jim@jibbering.com>,<www-annotation@w3.org>

At 02:41 PM 3/18/2002 +0000, Jim Ley wrote:
>"Marja-Riitta Koivunen" <marja@w3.org>
> > At 01:37 AM 3/18/2002 +0000, Nick Kew wrote:
> >
> > >As soon as I had a working prototype, it became abundantly clear that
> > >there is a deep and fundamental flaw in Annotea: we construct long
> > >and detailed pseudo-xpointers, but these become totally useless as
> > >soon as a page is updated.  And annotea has no mechanism for dealing
> > >with this, nor indeed even to detect that a page has changed.
> >
> > First, the amount of problems depends on what kinds of changes are made
>to
> > the page and how well id's are used.
>
>id's simply aren't used though, for example one might expect
>http://www.w3.org/2001/Annotea to be authored with a nod towards making
>Annotation easy, yet

I agree that we cannot make all the content of the Web suddenly use ids, 
however, for a group creating a document for review purposes it does not 
sound too difficult. Amaya even has a command for adding ids automatically 
to a page.

The Annotea page does have ids in the headers but I now added some also to 
the navigation bar. It did not use the automatic Amaya command as it was 
added later.

>#xpointer(/html[1]/body[1]/table[1]/tbody[1]/tr[1]/td[2]/h1[1])
>or
>#xpointer(start-point(string-range(/html[1]/body[1]/table[1]/tbody[1]/tr[
>1]/td[2]/ul[1]/li[3],"",23,1))/range-to(end-point(string-range(/html[1]/b
>ody[1]/table[1]/tbody[1]/tr[1]/td[2]/ul[1]/li[3],"",40,1))))
>(which considering it's trying to point to an A element shows a pretty
>dodgy creation interface IMO.)

The goal is to use ids when possible. It could be there is an error in 
creating the pointers in which case it needs to be corrected. I'll ask 
Jose. Are these new pointers? If they are very old they might also be from 
era before the ids.

>are a couple that the page has, id's aren't well used on the general web
>(generally only in connection with javascript and the few people who
>duplicate name/id in their anchors.)   and the kind of fuzzy pointers
>we're getting on even very simple documents such as the one above
>illustrate how easily they can be moved within the document.

And I'm really happy that you are helping us to make the pointers more robust.

>Again on the Annotea front page we have Jose Kahan saying "Great work
>Art!" and pointing to
>#xpointer(/html[1]/body[1]/table[1]/tbody[1]/tr[1]/td[2]/p[10])
>which today points to "Others are strongly encouraged to start their own
>Annotea servers."
>yet http://web.archive.org/web/20010703011339/www.w3.org/2001/Annotea/
>which whilst not being from the right date (it's as close as
>web.archive.org has.) it does point to a paragraph discussing Art
>Barstow's javascript bookmarklet approach.

Some annotations to W3C pages are from the experimentations before the id 
era. We should at some point clean them but they are there now partially to 
remind us about the problems.

>I think it's clear fuzzy pointers without a mechanism to know how
>reliable the fuzzy pointer is can't realistically be used.

Here I disagree somewhat. It depends so much of the usage. We use the 
pointers in annotations all the time for reviewing purposes. Naturally you 
need to be aware of the problems but why should we stop using them as it 
helps so much.

If someone comments a page and explains textually the location of the 
comment the pointing can be fuzzy too. It can be fuzzy even without any 
changes to the document if the text describing the location in the document 
is ambiguous. And it can be even more fuzzy after I change the page 
dramatically. Furthermore, nothing in Annotea prevents adding the 
description to annotations if it is badly needed. Even if we add comments 
by editing the same document, we might accidentally make a change where the 
comment is left behind to a funny location.

I do agree with you that  there is lot to do here to make it better and 
more robust and also add supporting features that help to archive the 
annotations in their places before major document updates. (And after that 
we can develop social processes to prevent problems.) So I'm exited to see 
what you and the others come up with to enhance Annotea.

Marja


>Jim.



