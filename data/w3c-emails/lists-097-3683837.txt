docno="lists-097-3683837"
received="Thu Apr  4 08:11:53 2002"
isoreceived="20020404131153"
sent="Thu, 4 Apr 2002 15:10:19 +0200"
isosent="20020404131019"
name="Enrico Spinielli"
email="Enrico.Spinielli@marconi.com"
subject="Blocking bug W3C::Util::W3CDebugCGI"
id="OF4636BEF4.B58998A2-ONC1256B91.0046DE7F@uk.marconicomms.com"
charset="us-ascii"
expires="-1"

To:eric@w3.org
Cc:www-annotation@w3.org


Hi Eric,
I downloaded annotea server v1.1 and installed it but since the
1st of April the use of

     my $dateStr = `date`;
     if ($dateStr !~ m/^(\w+) (\w+)\s+(\d+) (\d+):(\d+):(\d+) (?:(\w+) )?(\d+)$/) {
          &throw(new W3C::Util::Exception(-message => "bad date \"$dateStr\""));
     }

in W3C::Util::W3CDebugCGI (around line 54) throws an exception on my
machine due
to the fact that we now have Day Saving Time  in place.
The output of date on my machine is for example:
     Thu Apr  4 15:02:17 MET DST 2002
and the RE in the if clause does not expect 'DST'

I modified it as follows (removed timezone being optional in RE):
     my $dateStr = `date '+%a %b %e %T %Y'`
but it may be better to modify the RE.

Hope it helps
Bye

Enrico Spinielli



