docno="lists-097-3691950"
received="Thu Apr  4 12:37:01 2002"
isoreceived="20020404173701"
sent="Thu, 04 Apr 2002 18:36:46 +0100"
isosent="20020404173646"
name="Matthew Wilson"
email="matthew@mjwilson.demon.co.uk"
subject="Re: Blocking bug W3C::Util::W3CDebugCGI"
id="4.3.2.7.1.20020404183401.00c5ac20@pop3.demon.co.uk"
charset="us-ascii"
inreplyto="OF4636BEF4.B58998A2-ONC1256B91.0046DE7F&#64;uk.marconicomms.co m"
expires="-1"


To:"Enrico Spinielli"<Enrico.Spinielli@marconi.com>,eric@w3.org
Cc:www-annotation@w3.org

At 15:10 04/04/02 +0200, Enrico Spinielli wrote:
>Hi Eric,
>I downloaded annotea server v1.1 and installed it but since the
>1st of April the use of
>
>      my $dateStr = `date`;
>      if ($dateStr !~ m/^(\w+) (\w+)\s+(\d+) (\d+):(\d+):(\d+) (?:(\w+) 
> )?(\d+)$/) {
>           &throw(new W3C::Util::Exception(-message => "bad date 
> \"$dateStr\""));
>      }
>
>in W3C::Util::W3CDebugCGI (around line 54) throws an exception on my
>machine due
>to the fact that we now have Day Saving Time  in place.
>The output of date on my machine is for example:
>      Thu Apr  4 15:02:17 MET DST 2002
>and the RE in the if clause does not expect 'DST'
>
>I modified it as follows (removed timezone being optional in RE):
>      my $dateStr = `date '+%a %b %e %T %Y'`
>but it may be better to modify the RE.

Better still to use Perl built-in's instead of relying on 
platform-dependent commands.

Some suggestions at
http://lists.w3.org/Archives/Public/www-annotation/2002JanJun/0075.html
based on a CVS pull at the time.

Matthew Wilson



