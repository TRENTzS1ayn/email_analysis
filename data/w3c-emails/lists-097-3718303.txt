docno="lists-097-3718303"
received="Thu Apr  4 15:10:13 2002"
isoreceived="20020404201013"
sent="Thu, 4 Apr 2002 15:10:09 -0500"
isosent="20020404201009"
name="Eric Prud'hommeaux"
email="eric@w3.org"
subject="Re: Blocking bug W3C::Util::W3CDebugCGI"
id="20020404151009.B10139@w3.org"
charset="us-ascii"
inreplyto="4.3.2.7.1.20020404183401.00c5ac20&#64;pop3.demon.co.uk"
expires="-1"

To: Matthew Wilson<matthew@mjwilson.demon.co.uk>
Cc: Enrico Spinielli<Enrico.Spinielli@marconi.com>,www-annotation@w3.org


On Thu, Apr 04, 2002 at 06:36:46PM +0100, Matthew Wilson wrote:
> At 15:10 04/04/02 +0200, Enrico Spinielli wrote:
> >Hi Eric,
> >I downloaded annotea server v1.1 and installed it but since the
> >1st of April the use of
> >
> >      my $dateStr = `date`;
> >      if ($dateStr !~ m/^(\w+) (\w+)\s+(\d+) (\d+):(\d+):(\d+) (?:(\w+) 
> > )?(\d+)$/) {
> >           &throw(new W3C::Util::Exception(-message => "bad date 
> > \"$dateStr\""));
> >      }
> >
> >in W3C::Util::W3CDebugCGI (around line 54) throws an exception on my
> >machine due
> >to the fact that we now have Day Saving Time  in place.
> >The output of date on my machine is for example:
> >      Thu Apr  4 15:02:17 MET DST 2002
> >and the RE in the if clause does not expect 'DST'
> >
> >I modified it as follows (removed timezone being optional in RE):
> >      my $dateStr = `date '+%a %b %e %T %Y'`
> >but it may be better to modify the RE.
> 
> Better still to use Perl built-in's instead of relying on 
> platform-dependent commands.
> 
> Some suggestions at
> http://lists.w3.org/Archives/Public/www-annotation/2002JanJun/0075.html
> based on a CVS pull at the time.

These are mostly incorporated. 
Acknowledged and addressed in MID:20020404150443.A10139@w3.org [1]
Try another update and see if it fixes your problems.

One issue that arose it that the timezone isn't so reliably set (so I
defautled it to "NA").  I doubt this will cause problems, but thought
I'd raise awareness just in case.

[1] http://lists.w3.org/Archives/Public/www-annotation/2002JanJun/0142
-- 
-eric

(eric@w3.org)
Feel free to forward this message to any list for any purpose other than
email address distribution.



