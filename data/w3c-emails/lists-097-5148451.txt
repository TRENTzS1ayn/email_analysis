docno="lists-097-5148451"
received="Fri Nov 15 09:41:57 2002"
isoreceived="20021115144157"
sent="Fri, 15 Nov 2002 15:41:54 +0100"
isosent="20021115144154"
name="Jose Kahan"
email="jose.kahan@w3.org"
subject="Re: Annotea and changed files again"
id="20021115144154.GA1473@inrialpes.fr"
charset="us-ascii"
inreplyto="5.1.0.14.0.20021112114951.03d93d68&#64;localhost"
expires="-1"

Cc:www-annotation@w3.org



On Tue, Nov 12, 2002 at 12:07:28PM -0500, Marja-Riitta Koivunen wrote:
>
> Most probably what happened is that the document was changed in a way
> that
> the XPointer did not make sense anymore and so the annotation became
> orphaned. The orphaned annotation still exists in a Show links view
> and can
> be moved to a new location by using the Annotations/Move to selection
> command (select the location in the document window, apply the command
> in
> the annotation window).

And you should have also seen a pop-up message saying that some
annotations were orphan.

Another way to avoid this is to use ID attributes and play with the
granularity of annotations. For ex., you could add an ID attribute to
all the paragraphs (Special / Add/Remove ID attribute menu), then
annotate the whole paragraph. Even if your paragraph moves, the
annotations would follow it. However, if you subsequently annotate
something in that paragraph, and later on change the words, you could
have either an orphan or a misleading annotation. See the Amaya
annotation manual page for some more info.

> We are planning to introduce a new "context" schema so that it is possible 
> to define also other kinds of address mechanisms e.g. svg outline for a 
> raster image. With the same mechanism it should be possible to add info to 
> define more robust pointers. Using frequent ID's in the document elements 
> also helps as XPointers are relative to the closest ID in the hierarchy of 
> elements. And there are social mechanisms to freeze certain documents.

What Marja forgot to say is that there may be other ways of pointing to
live documents that are more robust than XPointers. Currently, Annotea
only understands XPointers for the context of an annotation.

If someone else is already working on this extension, please mail your
work to the list. It will make everyone save time.

-jose



