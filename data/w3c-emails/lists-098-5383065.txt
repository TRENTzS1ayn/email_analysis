docno="lists-098-5383065"
received="Thu Dec 19 06:59:51 2002"
isoreceived="20021219115951"
sent="Thu, 19 Dec 2002 12:58:04 +0100"
isosent="20021219115804"
name="Jos De_Roo"
email="jos.deroo.jd@belgium.agfa.com"
subject="Re: TEST: update"
id="OFE7ED6CD6.5181444B-ONC1256C94.003F1205-C1256C94.0041BDCE@agfa.be"
charset="us-ascii"
inreplyto="TEST: update"
expires="-1"

To:jjc@hpl.hp.com
Cc:www-archive@w3.org




thanks Jeremy for that, but I have some trouble with the servlet
I was able to compile your code with

\j2sdk1.4.0\bin\javac -classpath
/jakarta-tomcat-4.1.10/common/lib/servlet.jar;
/w3ccvs/WWW/2002/03owlt/editors-draft/WEB-INF/lib/icu4j.jar;
/w3ccvs/WWW/2002/03owlt/editors-draft/WEB-INF/lib/jena2.jar;
/w3ccvs/WWW/2002/03owlt/editors-draft/WEB-INF/lib/tidy.jar;
/w3ccvs/WWW/2002/03owlt/editors-draft/WEB-INF/lib/xercesImpl.jar;
/w3ccvs/WWW/2002/03owlt/editors-draft/WEB-INF/lib/xmlParserAPIs.jar;
/euler/euler.jar;/w3ccvs/WWW/2002/03owlt/editors-draft/WEB-INF/classes
*.java

but using Apache Tomcat/4.1.10 I'm getting following exception
during GET http://localhost:8080/wowg/jsp/main.jsp

javax.servlet.ServletException: java/lang/CharSequence
     at
org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:497)
     at org.apache.jsp.main_jsp._jspService(main_jsp.java:5433)
     at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:136)
     at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
     at
org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:202)
     at
org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:289)
     at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:240)
     at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)
     at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)
     at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)
     at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:260)
     at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)
     at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
     at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
     at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
     at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)
     at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
     at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
     at
org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2397)
     at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)
     at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)
     at
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:170)
     at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)
     at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:171)
     at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)
     at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
     at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
     at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)
     at
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)
     at
org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)
     at
org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)
     at
org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:223)
     at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:405)
     at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:380)
     at
org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:508)
     at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:533)
     at java.lang.Thread.run(Thread.java:484)



and in bin/catalina.bat I have

rem Add on extra jar files to CLASSPATH
set CLASSPATH=%CLASSPATH%;
\w3ccvs\WWW\2002\03owlt\editors-draft\WEB-INF\lib\icu4j.jar
set CLASSPATH=%CLASSPATH%;
\w3ccvs\WWW\2002\03owlt\editors-draft\WEB-INF\lib\jena2.jar
set CLASSPATH=%CLASSPATH%;
\w3ccvs\WWW\2002\03owlt\editors-draft\WEB-INF\lib\tidy.jar
set CLASSPATH=%CLASSPATH%;
\w3ccvs\WWW\2002\03owlt\editors-draft\WEB-INF\lib\xercesImpl.jar
set CLASSPATH=%CLASSPATH%;
\w3ccvs\WWW\2002\03owlt\editors-draft\WEB-INF\lib\xmlParserAPIs.jar
set CLASSPATH=%CLASSPATH%;
\w3ccvs\WWW\2002\03owlt\editors-draft\WEB-INF\lib\log4j-1.2.7.jar.jar
set CLASSPATH=%CLASSPATH%;
\w3ccvs\WWW\2002\03owlt\editors-draft\WEB-INF\classes



and in conf/server.xml I have

        <!-- Tomcat Examples Context -->
        <Context path="/wowg" docBase
="../../w3ccvs/WWW/2002/03owlt/editors-draft" debug="0"
                 reloadable="true" crossContext="true">
          <Logger className="org.apache.catalina.logger.FileLogger"
                     prefix="localhost_examples_log." suffix=".txt"
            timestamp="true"/>
        </Context>



and in your CachedURL.java I have

    static final File cvs = new File("/w3ccvs/WWW/");


any idea?

-- ,
Jos De Roo, AGFA http://www.agfa.com/w3c/jdroo/


                                                                                                                   
                    "Jeremy                                                                                        
                    Carroll"             To:     <www-archive@w3.org>, <jos.deroo.jd@belgium.agfa.com>             
                    <jjc@hpl.hp.co       cc:                                                                       
                    m>                   Subject:     Re: TEST: update                                             
                                                                                                                   
                    2002-12-18                                                                                     
                    04:20 PM                                                                                       
                                                                                                                   
                                                                                                                   





The ability to create the test doc off the web is currently non-functioning
(I think its performance). You have to have a CVS copy and put its path in
CachedURL.java.

Sorry

Jeremy



