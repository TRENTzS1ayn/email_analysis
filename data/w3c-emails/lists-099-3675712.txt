docno="lists-099-3675712"
received="Tue Jan 21 12:27:01 2003"
isoreceived="20030121172701"
sent="Tue, 21 Jan 2003 17:25:08 +0000"
isosent="20030121172508"
name="Dave Beckett"
email="dave.beckett@bristol.ac.uk"
subject="Re: is this legal ntriples? / raptor ntriple parser bug with long           bnode labels?"
id="20837.1043169908@hoth.ilrt.bris.ac.uk"
inreplyto="danbri&#64;w3.org"
expires="-1"

To: Dan Brickley<danbri@w3.org>
cc:www-archive@w3.org



>>>Dan Brickley said:
> danbri@fireball:~/servers/cvs/w3.org/WWW/2001/sw/Europe/200301/x2r/ht/a1$ mak
    e checkrdf
> rdfdump --ntriples file:po-rdf.nt
> rdfdump: Parsing URI file:po-rdf.nt
> rdfdump: Error - URI file:po-rdf.nt:1 column 8 - Saw '7', expected <URIref> o
    r _:bnodeID
> rdfdump: Error - URI file:po-rdf.nt:2 column 8 - Saw '7', expected <URIref> o
    r _:bnodeID
> rdfdump: Parsing returned 0 statements
> make: *** [checkrdf] Error 1
> danbri@fireball:~/servers/cvs/w3.org/WWW/2001/sw/Europe/200301/x2r/ht/a1$ cat
     po-rdf.nt
> _:id2590758 <http://example.com/nomappednsuri/#productName>  "Lawnmower" .
> _:id2590758 <http://example.com/nomappednsuri/#quantity>  "1" .
> 
> 
> ...is it that the bnode labels are too long? That appears to be the case:

No it was a bug in the digit checking code, '0's were mistakenly
matched as illegal.  Fixed in CVS or apply the patch below.

Dave

Index: ntriples_parse.c
===================================================================
***************
*** 269,275 ****
  
  /* These are for 7-bit ASCII and not locale-specific */
  #define IS_ASCII_ALPHA(c) (((c)>0x40 && (c)<0x5B) || ((c)>0x60 && (c)<0x7B))
! #define IS_ASCII_DIGIT(c) ((c)>0x30 && (c)<0x3A)
  #define IS_ASCII_PRINT(c) ((c)>0x1F && (c)<0x7F)
  
  /**
--- 269,275 ----
  
  /* These are for 7-bit ASCII and not locale-specific */
  #define IS_ASCII_ALPHA(c) (((c)>0x40 && (c)<0x5B) || ((c)>0x60 && (c)<0x7B))
! #define IS_ASCII_DIGIT(c) ((c)>0x2F && (c)<0x3A)
  #define IS_ASCII_PRINT(c) ((c)>0x1F && (c)<0x7F)
  
  /**



