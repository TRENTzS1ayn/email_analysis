docno="lists-100-13908888"
received="Tue Aug 21 02:44:28 2001"
isoreceived="20010821064428"
sent="Tue, 21 Aug 2001 01:44:28 -0500"
isosent="20010821064428"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Tonights installment"
id="009e01c12a0c$b9968c70$a800a8c0@CurtMicron"
charset="iso-8859-1"
expires="-1"


To:<www-dom-ts@w3.org>

Tonight's changes:

build.xml

Added dom1SE-* targets to build.xml, creates dom1SE.dtd and dom1SE.xsd
Added dom-level2-core-* targets for DOM Level 2 Core tests

dom-to-dtd.xsl and dom-to-xsd.xsl

Fixed some problems relating to firstChild (and similar) being both an attribute of Node and a method for TraversalRange in the generation of the DOM 2 DTD and Schema.  I've canned a copy of the generated DOM 2 schema and DTD at http://home.houston.rr.com/curta/dom2dtd.ZIP or you can build your own.  I will not keep the link updated.

attrsetvaluenomodificationallowederr.xml

Is back in DOM Level 1 and excluded from DTD validation.  Will pass validation against dom1SE.dtd and dom1SE.xsd.

org.w3c.domts.level1.core.alltests.xml

Suite of all submitted Level 1 Core tests. 


Removed Avalon files from JUnit directory

For some reason (lack of sleep perhaps), I committed duplicates of the Avalon support classes in the Junit source tree with obvious bad affects on the "junit-run" target.

Fixed problems in documentcreatecdatasection.xml and splittextsplitnomodificationallowederr.xml

Both of these files caused Xalan 2.1 to lock up yesterday.  Compiling the SAXON generated .java files should type mismatch errors that when corrected allowed Xalan 2.1 to successfully process them.

Did some preliminary work for a metadata/test matrix theme by cleaning up subjects.xsl.

----------------------------

Current status:

DOM tests compile and build to jar file (target dom1-core-jar).  If you also generate the junit-run.jar (target junit-run) and place it in a directory with junit.jar and a JAXP compatible parser (recent nightly of Crimson would be the benchmarks and Xerces-J just behind (it ignores isCoalescing)) and type:

java -jar junit-run.jar org.w3c.domts.level1.core.alltests

Will generate a ton of test failures (http://home.houston.rr.com/curta/20010820.ZIP).  Since Xerces and and recent Crimson's have pretty clean results with my current DOMUNIT tests (which were derived from the NIST Java Tests), I assume that means that we have 50+ errors in the test suite.

One recurring problem is tests expecting the tagname for the document element to be <staff.xml> not <staff>.  NIST's submission did not include test files, so I assumed that the test files used in the previous NIST Level 1 were to be used.  If that was wrong, please let the list know and submit the intended support files.

Also, several tests try to assert that nodeName is equal to nodeValue expectations (or vice versa).



