docno="lists-100-14367772"
received="Thu Aug 23 11:04:03 2001"
isoreceived="20010823150403"
sent="Thu, 23 Aug 2001 11:02:28 -0400"
isosent="20010823150228"
name="Mary Brady"
email="mbrady@nist.gov"
subject="Re: New EE variants of NoModificationAllowed.xml's, most tests now option safe"
id="009d01c12be4$a062c550$293b0681@HAPPY"
charset="iso-8859-1"
inreplyto="000001c12be2$229f6800$a800a8c0&#64;CurtMicron"
expires="-1"


To:"Curt Arnold"<carnold@houston.rr.com>,<www-dom-ts@w3.org>

Didn't you have an element that could identify conditions under which the test should be 
run?  How about if we make the harness smart enough to accept as input test 
conditions, and only run the tests that are available for those conditions instead of 
running through the tests twice?  It seems as though I remember some other implementations 
that had somewhat different variants of whitespace -- in some cases, comments and 
"normal" whitespace were stripped, in others, only "normal" whitespace was 
stripped.  Given that these options are not well-defined, we could let the implementor 
using the tests provide the proper info.

--Mary
  ----- Original Message ----- 
  From: Curt Arnold 
  To: www-dom-ts@w3.org 
  Sent: Thursday, August 23, 2001 4:18 AM
  Subject: New EE variants of NoModificationAllowed.xml's, most tests now option safe


  Since expanding entities on load is an acceptible behavior, I've added siblings of all the *NoModificationAllowedErr tests with an EE suffix (for entity expansion) which tests the same behavior using created entity references instead of loaded entity references.

  I've made most of the tests safe for different parser settings.  Tests are most commonly affected by expandEntityReferences and ignoringElementContentWhitespace.  Some DOM are hardwired to a particular setting (Xerces-C always expands entity references, Batik ignores element content whitespace).  The harness runs the test suite twice, once with the default settings and then once with complementary settings.

  Tests that declare <implementationAttribute> immediately after the metadata element will modify the default DocumentBuilderFactory for the test pass to their needs.  So in the second pass when most tests are expanding entity references, ...NoModificationAllowedErr tests will not expand entity references but will keep all the other settings.



