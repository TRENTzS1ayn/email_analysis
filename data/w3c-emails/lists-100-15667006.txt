docno="lists-100-15667006"
received="Fri Jun  1 04:19:21 2001"
isoreceived="20010601081921"
sent="Fri, 1 Jun 2001 03:19:07 -0500"
isosent="20010601081907"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Second attempt at DOM 1 generation"
id="003501c0ea73$8795bd50$ce44a018@curtbnmqewb54k"
charset="iso-8859-1"
expires="-1"


To:<www-dom-ts@w3.org>

My second attempt is at http://home.houston.rr.com/curta/domtest/dom1.zip which includes minimally checked schema, DTD, documention and one sample.

The following significant changes from previous versions.

1) <declare> was changed to <var> to eliminate conflict with HTMLObjectElement.declare

I'm open to other suggestions.  Basically:

<declare var="node" type="Node"/>

has been replaced by

<var name="node" type="Node"/>

2) <size> changed to <hasSize> and <add> to <plus> to avoid other conflicts

3) assertDOMException now uses a child element for the code

<assertDOMException>
    <INDEX_SIZE_ERR>
        <substringData obj="str" start="-1" count="5"/>
    </INDEX_SIZE_ERR>
</assertDOMException>

The content model for the child elements is determined by seeing if the text description has
code name + ":".  Seems to work okay, but is a kludge.  "data" gets generated twice for
one code and needs to be manually removed.

4) Used named templates for organization, pure static schema content isolated

5) <package> added, <suite> removed

6) interface optional (but only one choice) when unambiguous

Things that need to be done:

1) Add optional id attributes to everything that doesn't already have them (assertions and tests have required IDs)

2) Write transform that will extract interface information from DOM specification docs and generate a compact representation

3) Write equivalent transform to produce DTD

4) Explore generating schema/DTD from DOM 2, DOM 3 or SVG spec



