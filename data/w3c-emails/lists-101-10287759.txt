docno="lists-101-10287759"
received="Wed Mar 13 17:12:19 2002"
isoreceived="20020313221219"
sent="Wed, 13 Mar 2002 15:13:43 -0700"
isosent="20020313221343"
name="Arnold, Curt"
email="Curt.Arnold@hyprotech.com"
subject="RE: Tests in DOM-Test-Suite failing XML validity constraints."
id="70E215722F6AD511820A000103D141D40AA811@thor.aeathtl.com"
inreplyto="Tests in DOM-Test-Suite failing XML validity constraints."
expires="-1"


To:"'www-dom-ts@w3.org'"<www-dom-ts@w3.org>
Cc:"'NEFTH@pacbell.net'"<NEFTH@pacbell.net>

> Item 1: In 
> http://dev.w3.org/cvsweb/2001/DOM-Test-Suite/transforms/dom-to-dtd.xsl
> 
> there are 2 occurences of <!ATTLIST hasSize
> The second occurence must read <!ATTLIST contentType
> Note: this is a bug similar to the bug fixed in Rev. 1.14 of 
> dom-to-dtd.xsl
> 
> Result: In tests/dom1.dtd, the duplicate ATTLIST causes tests 
> to fail validity constraints.

Thanks, will look into it.

> 
> Item 2: The element "value" is missing from the content model 
> of <!ELEMENT NO_MODIFICATION_ALLOWED_ERR in tests/dom1.dtd
> 
> Result: The following two tests fail validity constraints:
> 
> attrsetvaluenomodificationallowederr.xml:57: validity error: 
> Element NO_MODIFICATION_ALLOWED_ERR content doesn't follow 
> the DTD Expecting (nodeValue | data | data | insertBefore | 
> replaceChild | removeChild |  appendChild | setNamedItem | 
> appendData | insertData | deleteData | replaceData  | 
> setAttribute | removeAttribute | setAttributeNode | 
> removeAttributeNode | splitText), got (value )
>     </NO_MODIFICATION_ALLOWED_ERR>
>                                  ^
> attrsetvaluenomodificationallowederrEE.xml:55: validity 
> error: Element NO_MODIFICATION_ALLOWED_ERR content doesn't 
> follow the DTD Expecting (nodeValue | data | data | 
> insertBefore | replaceChild | removeChild |  appendChild | 
> setNamedItem | appendData | insertData | deleteData | 
> replaceData  | setAttribute | removeAttribute | 
> setAttributeNode | removeAttributeNode | spl itText), got (value )
>     </NO_MODIFICATION_ALLOWED_ERR>

This is a known annoyance and due to a omission in the DOM L1 spec that was
corrected by an errata.  The list of methods and attributes that raise a
particular DOMException code are generated by processing the spec, the spec
omitted that NO_MODIFICATION_ALLOWED_ERR could be raised by value, so it
doesn't appear in the content model.  There is a dom1se-schema target (or
something similar) that will produce a schema with the correct content
model.



