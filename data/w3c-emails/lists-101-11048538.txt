docno="lists-101-11048538"
received="Tue May 21 07:07:07 2002"
isoreceived="20020521110707"
sent="Tue, 21 May 2002 07:04:55 -0400"
isosent="20020521110455"
name="Rick Rivello"
email="richard.rivello@nist.gov"
subject="Re: Status check"
id="0d0101c200b7$56bdce10$573b0681@sdct.nist.gov"
charset="iso-8859-1"
inreplyto="CAD0169E-6C35-11D6-836B-000393556882&#64;ontologicon.com"
expires="-1"


To:<www-dom-ts@w3.org>,"Dimitris Dimitriadis"<dimitris@ontologicon.com>


----- Original Message ----- 
From: "Dimitris Dimitriadis" <dimitris@ontologicon.com>
To: <www-dom-ts@w3.org>
Cc: <bclary@netscape.com>; <edward@jsunit.net>
Sent: Monday, May 20, 2002 5:08 PM
Subject: Status check


> All,
> 
> Since there's not been that much activity around the DOM TS lately, I 
> wanted to get a picture of what people are working on currently. Last 
> time we did a roll call, activity was taking place in:
> 
> 1. Framework issues (Bob requested some feedback on browser behaviour)
> 2. HTML test sanity check
> 3. Licensing issues (Philippe sent a draft for a new grant of license).
> 
> 
> On 2, I take it that we do not need that much longer to conclude the 
> sanity checking on those level 2 HTML tests that are used as level 1 
> HTML tests as well.
> 

We are working on finishing the HTML tests for both level 1 and level 2.
I am putting some finishing touches on approx 75 level 1 and 95 level 2
tests that will soon be committed.  

I am getting inconsistent results when running the tests through JsUnit.  Hopefully
the new version of JsUnit that Bob Clary mentioned in his email will take care of these
problems.   

Also can anyone give me some suggestions on how tests for the blur(), focus(), select()... etc
methods should be written.  I'm not sure on how to go about these tests.

For example the blur() method on the HTMLAnchorElement interface
says that it removes keyboard focus from this element.
How would you test that using the DOMTS framework?

I am also having problems with the contentDocument tests for the HTMLFrameElement,
HTMLIFrameElement and HTMLObjectElement interfaces.

I am getting a null value returned for the document this frame contains.

Here is the test and the file loaded:
************************************************************************

<?xml version="1.0" encoding="UTF-8"?>

<!--

Copyright (c) 2001 World Wide Web Consortium, 
(Massachusetts Institute of Technology, Institut National de
Recherche en Informatique et en Automatique, Keio University).  All 
Rights Reserved.  This program is distributed under the W3C's Software
Intellectual Property License.  This program is distributed in the 
hope that it will be useful, but WITHOUT ANY WARRANTY; without even
the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR 
PURPOSE.  

See W3C License http://www.w3.org/Consortium/Legal/ for more details.

-->
<!DOCTYPE test SYSTEM "dom2.dtd">
<test xmlns="http://www.w3.org/2001/DOM-Test-Suite/Level-2" name="HTMLIFrameElement11">
<metadata>
<title>HTMLIFrameElement11</title>
<creator>NIST</creator>
<description>
    The contentDocument attribute specifies the document this frame contains,
    if there is any and it is available, or null otherwise.

    Retrieve the contentDocument attribute of the first FRAME element
    and examine it's value.  
</description>
<contributor>Rick Rivello</contributor>
<date qualifier="created">2002-05-08</date>
</metadata>
<var name="testNode" type="Element"/>
<var name="cd" type="Document" />
<var name="vtitle" type="DOMString"/>
<var name="doc" type="Document"/>
<load var="doc" href="iframe2" willBeModified="false"/>
<getElementById interface="Document" obj="doc" var="testNode" elementId='"Iframe2"'/>
<contentDocument interface="HTMLIFrameElement" obj="testNode" var="cd"/>
<if>
<notNull obj="cd"/>
<title interface="HTMLDocument" obj="cd" var="vtitle"/>
<assertEquals actual="vtitle" expected="'test'" id="titleLink" ignoreCase="false" />
</if>
</test>

********************iframe2.xml ********************************************

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
   PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<title>NIST DOM HTML Test - FRAMESET</title>
</head>
<body>
<iframe id="Iframe1" name="Iframe1" src="rick1.html">IFRAME1</iframe>
<iframe id="Iframe2" src="rick2.html" name="Iframe2">IFRAME2</iframe>
</body>
</html>

******************************************************************************

However, when I run the following script the contentDocument returned is not null.

<html>
<head>
<title>Testing iframe DOM</title>
 
<script>
function showTitle (id)
{
    // Mozilla 
    alert ("title = " + document.getElementById(id).contentDocument.title);
    
}
</script>
</head>
 
<body>
<hr>
<iframe id="hiddenIFrameID1" src="rick1.html" frameborder="1">
</iframe><br>
<input type="button" onclick="showTitle('hiddenIFrameID1');"
    value="Display IFrame Title"> 
 
<hr>
<iframe id="hiddenIFrameID2" src="rick2.html" frameborder="1">
</iframe><br>
<input type="button" onclick="showTitle('hiddenIFrameID2');"
    value="Display IFrame Title"> 
 
</body>
</html>
***********************************************************

Any help would be appreciated.




Rick Rivello

 



