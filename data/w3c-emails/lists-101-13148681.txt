docno="lists-101-13148681"
received="Mon Dec  1 03:11:43 2003"
isoreceived="20031201081143"
sent="Mon, 01 Dec 2003 02:09:00 -0600"
isosent="20031201080900"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Load/Save suite and Xerces-J CVS"
id="3FCAF71C.6050006@houston.rr.com"
charset="ISO-8859-1"
expires="-1"


To:www-dom-ts@w3.org


I've been able to build and run the load and test suite against the 
current CVS of Xerces-J with reasonable results.  I needed to make a 
substantial number of tweaks to the tests and expect to commit them 
tomorrow afternoon.

I needed to add some new language elements to the DOMTS (all subject to 
change):

<getResourceURI var="resourceURI" href='"staff"'/>

This generates a string containing the URL for the specified test file.  
For the Java binding, this ends up being something like 
"jar:///c:/mydrive/dom3-ls.jar#staff.xml".

<assign var="inputStream" value="outputStream"/>

Assigning an LSOutputStream to an LSInputStream will create a new 
InputStream with the contents of the output stream.

<var name="inputStream" type="LSInputStream" value="3C656C74302F3E"/>
<var name="reader" type="LSReader" value="&lt;elt0/&gt;"/>

If the type is LSInputStream, any value will be interpreted as hex 
representation of the stream.  If type is LSReader, any value will be 
interpreted as a character sequence.  Unfortunately, SAXON 6.5 did not 
appear to like that.

Unintentionately, many of the tests passed an uninitialized LSInput to 
the parse method which resulted in a NullPointerException with 
Xerces-J.  It might be good to have an explicit code for an 
uninitialized LSInput and there should be an test that intentionally 
passes an uninitialized LSInput.



