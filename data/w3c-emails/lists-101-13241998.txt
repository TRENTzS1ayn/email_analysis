docno="lists-101-13241998"
received="Thu Dec 18 04:56:41 2003"
isoreceived="20031218095641"
sent="Thu, 18 Dec 2003 03:55:43 -0600"
isosent="20031218095543"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="RFC Bug 425: changed expectation on textreplacewholetext07"
id="3FE1799F.4090707@houston.rr.com"
charset="ISO-8859-1"
expires="-1"


To:www-dom-ts@w3.org


I would appreciate review and feedback of bug 425 
(http://www.w3.org/Bugs/show_bug.cgi?id=425) originally reported by 
Andrew Clover regarding L3 Core test textreplacewholetext07.  My reading 
of the spec and the test agrees with Andrew that the original 
expectation of a NO_MODIFICATION_ERR is not correct.  I have committed 
changes to the CVS where the expectation of this test is rewritten and 
added an additional test (textreplacewholetext08) that should throw an 
NO_MODIFICATION_ERR.

textreplacewholetext07 fabricates a document similar to

<!DOCTYPE name [
<!ENTITY ent4 "<ent1element>foo</ent1element><?pi?>">
]>
<name>Margaret Martin&ent4;New Text</name>

Then attempts to use replaceWholeText on the text node containing 
"Margaret Martin" and expects a NO_MODIFICATION_ERR.  Since the ent4 
reference contains no logically-adjacent text, it should not be involved 
in the replaceWholeText operation and should not trigger the 
NO_MODIFICATION_ERR.

textreplacewholetext08 recreates the scenario from the spec and should 
result in a NO_MODIFICATION_ERR.

Xerces-J passed the original textreplacewholetext07 and fails both the 
new textreplacewholetext07 and 08.



