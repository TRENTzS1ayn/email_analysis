docno="lists-101-13731456"
received="Mon Feb 10 00:00:03 2003"
isoreceived="20030210050003"
sent="Sun, 09 Feb 2003 22:58:33 -0600"
isosent="20030210045833"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="[Fwd: Re: Case of attribute names in HTML documents]"
id="3E473179.6090903@houston.rr.com"
charset="us-ascii"
expires="-1"


To:www-dom-ts@w3.org



attached mail follows:
<div class="moz-text-flowed" style="font-family: -moz-fixed">Peter Kelly wrote:
> Hi,
> 
> Section 1.3 of the DOM Level 2 HTML spec states:
> 
> "element and attribute names are exposed as all uppercase (for 
> consistency) when used on an HTML document, regardless of the character 
> case used in the markup"
> 
> However, some of the test cases rely on the attribute name being returned 
> as lowercase, even though the document is html. For example, in 
> hc_attrname.html in the jsunit tests:
...
> 
> Mozilla & IE both return the nodeName as lowercase, but KHTML returns it 
> as uppercase. Am I correct in assuming this is the correct behaviour?
> 

The hc_* tests were created from the XML core tests mapping each element 
   and attribute name from the staff.xml test document into an HTML 
element or attribute name so that hc_staff.xml and .html would be legal 
(but non-sensical) XHTML and HTML documents.  That work was done after 
the last release of the DOM1 and 2 Core tests and checked against XML 
parsers, however I'm not sure if we have thoroughly reviewed them 
against HTML parsers and properly tweaked the case expectations.

Another potential point of confusion is the test harness is probably 
configured to test the XML parsers, so you may be seeing MSXML and 
Mozilla's XHTML DOM implementation returning lowercase where their HTML 
implementations would return uppercase.

I've been spending time on converting the test generation code to use 
the current JSUnit version, but I've been holding back until I got 
everything back to the equivalent capability of the previous harness. 
However, I probably should start committing my work even in its 
functional but unfinished state.

To summarize:

A) The hc_* tests are a work in progress and HTML case expectations may 
not be perfect.
B) If you are seeing Mozilla and IE return lowercase, the harness is 
probably testing their XHTML implementations.

I'll research this further and get back within the next day.

</div>



