docno="lists-101-13792396"
received="Wed Feb 12 00:58:11 2003"
isoreceived="20030212055811"
sent="Tue, 11 Feb 2003 23:57:57 -0600"
isosent="20030212055757"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Build instructions out of date"
id="3E49E265.4060607@houston.rr.com"
charset="us-ascii"
inreplyto="3E4947B6.7010509&#64;netscape.com"
expires="-1"


To:www-dom-ts@w3.org, Robert Clary<bclary@netscape.com>


From: http://www.w3.org/DOM/Test/Documents/DOMTSBuild.html

Software needed prior to build

You will need the following software to build the DOM TS (the Java and 
ECMA Script code, the DOM TS Markup Language in W3C Schema and DTD form.

     * Ant 1.4 as well as the ant-optional.jar
     * Xalan
     * SED , links to many downloadable SED binaries
     * Patch

Download the Ant 1.4 and Xalan-J2.1 binaries. In the Ant directory, 
remove crimson.jar and jaxp.jar from the lib directory and put 
xerces.jar and xalan.jar in their place. This combination works well; we 
have noted that other processors get broken by the transforms we use.

Make sure you have included ant/bin, sed and patch on your path and set 
JAVA_HOME.

Make DOM-Test-Suite the current directory (or, if you just want to test 
the build, copy all files from the DOM-Test-Suite directory to a 
location of your choosing) and do:

ant usage

to see what options you have to build the DOM TS.


---------

Sed and Patch are no longer needed (unless you are generating SVG 
DOMTSML which is experimental)

Ant 1.5.1 is the current version of Ant.  The build requires at least 
Ant 1.5, 1.4 will no longer work.

It is not necessary to remove any jars.  The only modification to Ant is 
placing saxon.jar from Saxon 6.5.2 (http://saxon.sourceforge.net) into 
the /jakarta-ant-1.5.1/lib directory.

I've been running a xalan.jar built from the Xalan CVS without incident, 
however Xalan-J 2.4.1 seemed to be churning on some of the transforms in 
dom1-core-gen-java just a few seconds ago and I had to kill it.  I 
believe that all the issues with Xalan have been fixed, just need to 
have another release before we could recommend it for building the test 
suite.

If you get a out of memory error, you can increase heap size on most Sun 
VM's by setting:

SET ANT_OPTS=-Xmx512M

jsunit.zip from http://www.jsunit.net will need to be places in 
2001/DOM-Test-Suite/lib to build to the jsunit tests.

I believe that any Java VM 1.1 or later will work.  I typically use JDK 
1.3 on Windows XP.  I've also built the suite on SuSE Linux 8.0 and Mac 
OS 10.2.3.



