docno="lists-101-14221812"
received="Mon Jan 20 00:36:22 2003"
isoreceived="20030120053622"
sent="Sun, 19 Jan 2003 23:36:08 -0600"
isosent="20030120053608"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Re: errorHandler dom3.dtd problem"
id="3E2B8AC8.5040808@houston.rr.com"
charset="us-ascii"
inreplyto="14997.62.163.200.245.1042997730.squirrel&#64;webmail.xs4all.nl"
expires="-1"


To:www-dom-ts@w3.org


Jeroen van Rotterdam wrote:
> I expected that I would have to write an ErrorHandler like this:
> 
> <var name="errorHandler" type="DOMErrorHandler">
>   <var name='error'            type='DOMError'/>
> 
...
>     <return value="false"/>
>   </handleError>
> </var>
> 
> 
> The stylesheet produces java code that looks ok.
> 
> My generated dom3.dtd however requests the following structure on
> handleError:
> 
> 
> <!ELEMENT handleError EMPTY >
> <!ATTLIST handleError
>     id ID #IMPLIED
>     obj CDATA #REQUIRED
>     var CDATA #REQUIRED
>     error CDATA #REQUIRED
>     interface (DOMErrorHandler) #IMPLIED
> 
> 
> Which seems incorrect.
> 
> The same counts for DOMBuilderFilter: whatToShow

DOMErrorHandler did not appear in the value of sink-interfaces in 
dom-to-dtd.xsl and dom-to-xsd.xsl which specifies which interfaces are 
expected to be implemented by the caller.  Since it didn't appear there, 
<handlerError> was defined as if it were an implementation provided method.

DOMBuilderFilter was in the sink-interfaces value, but the DTD 
generation for user-provided attribute implementations was not complete.

I'll commit the changes to dom-to-xsd.xsl and dom-to-dtd.xsl shortly.



