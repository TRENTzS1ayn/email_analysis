docno="lists-101-14275169"
received="Tue Jan 21 10:45:42 2003"
isoreceived="20030121154542"
sent="Tue, 21 Jan 2003 09:45:33 -0600"
isosent="20030121154533"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Re: whatToShow"
id="3E2D6B1D.8010609@houston.rr.com"
charset="us-ascii"
inreplyto="24220.62.163.200.245.1043105054.squirrel&#64;webmail.xs4all.nl"
expires="-1"


To:www-dom-ts@w3.org


Jeroen van Rotterdam wrote:
> In interface DOMBuilderFilter
> 
>      readonly attribute unsigned long   whatToShow;
> 
>      <whatToShow interface="DOMBuilderFilter">
>         <return value="SHOW_ELEMENT"/>
>      </whatToShow>
> 
> still delivers a
> 
>      public void setWhatToShow() {
>      }
> 
> 
> instead of a getter in test-to-java.xsl.
> The dtd is ok now but the stylesheet not.

Actually, it was the other way around.  The generated schema and 
transform expected the accessor to be written as:

<whatToShow>
      <get>
           <return value="SHOW_ELEMENT"/>
      </get>
</whatToShow>

The DTD's content model wasn't in synch with the schema.  I've modified 
dom-to-dtd.xsl to change the content model of user-implemented 
properties.  The interface attribute should only be specified when 
calling whatToShow, it would cause the schema validation to fail.

I also reworked the generation of exception code elements 
(<NO_MODIFICATION_ALLOWED_ERR>) and the like in the DTD so that 
identically named codes in different interfaces only produce one element 
with a combined content model.  This should enable using the 
dom3-ls-validate-tests target to validate the tests against the dom3.dtd.

p.s. I also modified dom2-combine.xsl to add a few missing exceptions 
from the errata list to allow dom2-core-validate-tests to pass all tests.



