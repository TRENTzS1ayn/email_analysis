docno="lists-101-14670783"
received="Mon Jun 23 17:16:52 2003"
isoreceived="20030623211652"
sent="Mon, 23 Jun 2003 21:06:04 +0000"
isosent="20030623210604"
name="Andrew Clover"
email="and-w3@doxdesk.com"
subject="Test suite problems"
id="20030623210604.GA9663@doxdesk.com"
charset="us-ascii"
expires="-1"

To:www-dom-ts@w3.org



Evening,

I've just run my implementation through the current CVS's L2 tests
(including ibmtests - what is the status of these?), and unfortunately
this seems to have turned up a few more test suite problems.

Here are my notes:

level1/core/hc_nodeinsertbeforeinvalidnodetype
  This can generate a NOT_FOUND_ERR as well as a HIERARCHY_REQUEST_ERR.
  getElementsByTagName("p") will select elements that aren't inside the
  root node, so can't be used as a refChild on a root node insertBefore.

level1/core/hc_nodereplacechildinvalidnodetype
  Can also generate NOT_FOUND_ERR for the same reason.

level2/core/internalSubset01
  Forgets to actually test anything, and the description text is
  nonsense.

level2/core/namednodemapgetnameditemns01
  Entities and notations cannot be dealt with like this using Level 2 NS
  methods, they are defined as having null localNames. Implementations
  should return null; the subsequent nodeName calls then cause null
  dereference exceptions.

level2/core/namednodemapremovenameditemns05
  Same entities/notations problem. Hence removeNamedItemNS can raise
  NOT_FOUND_ERROR.

level2/core/namednodemapsetnameditemns03
  The attribute is already used by another element in a different
  document; the implementation could raise INUSE_ATTRIBUTE_ERR as well
  as WRONG_DOCUMENT_ERR.

level2/core/namednodemapsetnameditemns05
  Fails to get entity/notation for same reasons before. Passing it to
  setNamedItemNS could generate an implementation-defined null-related
  exception as well as NO_MODIFICATION_ALLOWED_ERR.

level2/core/namednodemapsetnameditemns10
  Same again, null error possible.

level2/core/prefix06
  There is a ':' in the prefix name, so this could cause a NAMESPACE_ERR
  as well as an INVALID_CHARACTER_ERR.

level2/core/removeNamedItemNS03
  Tries to remove a non-existant attribute, so could generate NOT_FOUND_ERR
  as well as NO_MODIFICATION_ALLOWED_ERR.

level2/core/setNamedItemNS04
  The namespaceURI doesn't match that of the attribute in the entity
  reference, so getNamedItemNS returns null, and an implementation-defined
  null-related exception can be raised as well as
  NO_MODIFICATION_ALLOWED_ERR.

-- 
Andrew Clover
mailto:and@doxdesk.com
http://www.doxdesk.com/



