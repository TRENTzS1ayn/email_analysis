docno="lists-101-16122904"
received="Fri Mar 19 04:34:16 2004"
isoreceived="20040319093416"
sent="Fri, 19 Mar 2004 03:34:15 -0600"
isosent="20040319093415"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Gump, clean builds and distributions"
id="9669B4D0-7988-11D8-9137-000393B97126@houston.rr.com"
charset="US-ASCII"
expires="-1"


To:www-dom-ts@w3.org


Hopefully, I've fixed the problem that caused the recent gump failures. 
  I added tasks that use JTidy to validate HTML test input files and 
generated HTML.  However since JTidy isn't built by Gump, it can't be 
forced on the classpath, so the build must be able to operate with it 
missing.

I'm in the process of creating clean builds.  These builds were created 
using:

Windows XP
Ant 1.6.1
JDK 1.4.2_03
Doxygen 1.5.3

There were no modification necessary.

The commands necessary to build

cd \domts
cvs -d:pserver:anonymous@dev.w3.org:/sources/public login
cvs -d:pserver:anonymous@dev.w3.org:/sources/public co 
2001/DOM-Test-Suite
path c:\j2sdk1.4.2_03\bin;c:\apache-ant-1.6.1\bin;c:\Program 
Files\doxygen\bin
cd 2001\DOM-Test-Suite
'  the following just to make sure path is right
java -version
ant -version
doxygen -version
'  build dom1-core-dist
ant dom1-core-dist

Repeat for each level/module combo.

build.xml currently downloads a hacked version of JSUnit from 
http://home.houston.rr.com/curta/jsunit.zip.  Eventually, it will 
either download from the JSUnit distribution page or jsunit.zip will be 
in the CVS.

I did not reorganize the distributions, however I did collect some 
statistics on the file sizes (compressed and expanded) of the 
components in the distribution.  The L1 Core distribution is 6.3 MB tar 
gzipped, Java, ECMAScript and Documentation (matrix and doxygen) each 
contribute about 2 MB to the tgz.  The distribution expands to 44 MB, 
documentation takes around 29 MB, ECMAScript 8 MB, SVG 3.3 MB, Java 2.2 
MB and Tests 1.5 MB.

Creating Java + Documentation and ECMAScript + Documentation 
distributions doesn't seem appealing to me.  Their tgz file is now 4 MB 
instead of 6, but the expanded size of the ECMAScript + Documentation 
distribution is only 2 MB smaller that the previous all in one.  It 
would make better sense to have a Test documentation tgz (2 MB tgz, 30 
MB expanded) and either a combined binding dist (4 MB tgz, 10 MB 
expanded) or separate binding tgz's.

I've update the nightly build with a DOM L1 Core, but I'm running out 
of steam and will build the others tomorrow.



