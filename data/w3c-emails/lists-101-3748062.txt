docno="lists-101-3748062"
received="Fri Oct 12 03:22:15 2001"
isoreceived="20011012072215"
sent="Fri, 12 Oct 2001 02:20:32 -0500"
isosent="20011012072032"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Updated dom-to-xsd.xsl, -to-dtd.xsl"
id="044901c152ee$61749950$7600a8c0@CurtMicron"
charset="iso-8859-1"
expires="-1"


To:<www-dom-ts@w3.org>

I've updated dom-to-xsd.xsl to be consistent with the current versions of Sun's Multi Schema Validator (MSV) and XSV from the University of Edinburgh.   

A DOM L1 schema can be produced by

ant dom1-schema  ' approx 2 minutes build time

A DOM L2 schema can be produced by

ant dom2-schema ' approx 10 minutes build time

Tests can be validated against the schemas by downloading Sun's MSV (http://www.sun.com/software/xml/developers/multischema) and then running
 

java -jar \msv-20010910\msv.jar build\dom1.xsd tests\level1\core\*.xml

or 

java -jar \msv-20010910\msv.jar build\dom2.xsd tests\level2\core\*.xml

I did check the DOM L2 schema by manually changing the namespace to Level-1 and validating the L1 tests and had no problem (other than 2 tests failing DTD validation against the dom1.dtd due to a missing raise clause in the DOM 1 spec that has been previously discussed).  

I've also added interface="Node" to firstChild and similar methods in the tests that become ambiguous in DOM L2 since TreeWalker adds identically named methods.  This should allow the DOM L1 tests to validate against DOM L2+ schemas and DTDs and generate appropriate code.

I did some spot checks with XSV, but doesn't take wildcards for instance documents so it isn't as friendly.



