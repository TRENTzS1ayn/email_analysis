docno="lists-101-6068243"
received="Wed Aug 28 00:09:53 2002"
isoreceived="20020828040953"
sent="Tue, 27 Aug 2002 23:09:37 -0500"
isosent="20020828040937"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Re: Fix for compiling DOM-Test-Suite with jdk-sun-1.2.2 + next problem."
id="001d01c24e48$ba48a4d0$a800a8c0@CurtMicron"
charset="iso-8859-1"
inreplyto="200208271648.37462.david&#64;mandrakesoft.com"
expires="-1"


To:"David Faure"<david@mandrakesoft.com>
Cc:<www-dom-ts@w3.org>


> The patch below was necessary, otherwise javac wouldn't compile those 2
files,
> since a final object has to initialized immediately, apparently.

The construct is called a "blank final" and is legal
(http://java.sun.com/docs/books/jls/second_edition/html/typesValues.doc.html
#10931), but there were compiler bugs in the 1.1.x series that would result
in compile failures.  I had not seen it in JDK 1.2.x or later compilers.
However, no big deal in changing it to avoid the compiler bug.

>
> BUILD FAILED
>
> /home/dfaure/src/DOMTS/2001/DOM-Test-Suite/build.xml:358:
javax.xml.transform.TransformerException: java.lang.NullPointerException

I think this is a bug in Xalan.  I've seen similar exceptions with earlier
version, but I thought they had been fixed.  You could switch to a different
XSLT engine (I'd suggest SAXON 6.5.2, http://saxon.sf.net), typically by
removing xalan.jar from Ant's lib directory and replacing it with saxon.jar.



