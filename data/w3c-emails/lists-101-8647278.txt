docno="lists-101-8647278"
received="Tue Jan 29 02:20:17 2002"
isoreceived="20020129072017"
sent="Tue, 29 Jan 2002 01:20:04 -0600"
isosent="20020129072004"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Another issue"
id="003201c1a895$5f3bc2b0$a800a8c0@CurtMicron"
charset="iso-8859-1"
expires="-1"


To:<www-dom-ts@w3.org>

With the changes mentioned in the previous message, the classic Xerces-J (can't remember the exact version) that I've been using as a benchmark only fails one test (elementreplaceattributewithself) in default mode.

elementreplaceattributewithself is a test that I introduced when discovering that elementinuseattributeerr was unintentionally testing this behavior.

From http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#method-setAttributeNode

setAttributeNode ...

INUSE_ATTRIBUTE_ERR: Raised if newAttr is already an attribute of another Element object. The DOM user must explicitly clone Attr nodes to re-use them in other elements.

elementreplaceattributewithself tests the behavior when setAttributeNode is called with an attribute that is already on use on the SAME object.  Since newAttr does not meet the criteria to throw an INUSE_ATTRIBUTE_ERR, this test expects that setAttributeNode will not throw an exception and to basically do nothing.

I believe the test reflects the wording of the spec.  However, if Xerces-J existing behavior is deemed acceptible, then the phase "another Element" should be replaced with "any Element".



