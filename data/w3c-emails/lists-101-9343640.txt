docno="lists-101-9343640"
received="Fri Jun 21 08:14:09 2002"
isoreceived="20020621121409"
sent="Fri, 21 Jun 2002 08:11:27 -0400"
isosent="20020621121127"
name="Rick Rivello"
email="richard.rivello@nist.gov"
subject="Re: Running DOM L2 HTML on IE and Mozilla"
id="0cc601c2191c$c51b13e0$573b0681@sdct.nist.gov"
charset="iso-8859-1"
inreplyto="3D12C9B8.3020607&#64;houston.rr.com"
expires="-1"


To:<www-dom-ts@w3.org>





> 
> Hard to see the future is.
> 
> There are still a large number of DOM L1 and L2 HTML tests failures 
> against the Xerces-J implementation that have not been investigated.  
>  Rick Rivello was looking into that earlier in the month, but has not 
> reported anything since the 6th.  It would be very helpful if any 
> additional analysis of the test failures could be provided and errors in 
> the tests corrected.
> 
I've been committing changes to the HTML tests(49 errors/40 failures) by Curt on June 4th.
Sorry I haven't kept the group informed of the changes.

I am down to 7 errors and 36 failures.  Below is a hacked list of the errors/failures.

The 7 errors reported are all nullPointer exceptions.
 

HTMLTableElement01 for example tests the caption attribute.
I get the CAPTION element and then try to get the align attribute value.
Is the test wrong to assume that the CAPTION element can be acted on?
Could someone please take a look at this test.  


There are eight tests HTMLHeadingElement01, HTMLHeadingElement02, HTMLHeadingElement03,
HTMLHeadingElement04, HTMLHeadingElement05, HTMLHeadingElement06, HTMLTableElement20
and HTMLTableElement23 that test the align attribute.  The tests look valid to me.  I think Xerces is having
a problem with the align attribute.

The 3 TextArea tests HTMLTextAreaElement01, HTMLTextAreaElement02, HTMLTextArea03 also
look valid to me.  Again I think Xerces is having a problem.

HTMLElement01, HTMLElement30, HTMLElement59, HTMLElement88 and HTMLElement117 
test for the id, title, lang, dir and className attributes on the HEAD element.  I see these as
valid tests.

I also see the the following tests as valid.  
Note: The tests run successfully on IE6.  
HTMLAppletElement07, HTMLAreaElement05, HTMLInputElement01, HTMLInputElement02,
HTMLOptionElement03, HTMLOptionElement08, HTMLSelectElement01, HTMLSelectElement04.
HTMLTableElement21, HTMLTableElement24, HTMLTableElement26, HTMLTableElement27,
HTMLTableElement30, HTMLTableRowElement01


1) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLCollection02 
java.lang.NullPointerException

2) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLCollection10 
java.lang.NullPointerException

3) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement01 
java.lang.NullPointerException

4) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement03 
java.lang.NullPointerException

5) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement05 
java.lang.NullPointerException

6) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement28 
java.lang.NullPointerException

7) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement31 
java.lang.NullPointerException

1) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLAppletElement07 
junit.framework.AssertionFailedError: hspaceLink expected:<0> but was:<6>

2) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLAreaElement05 
junit.framework.AssertionFailedError: noHrefLink expected:<false> but was:<true>

3) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLCollection03 
junit.framework.AssertionFailedError: nameIndexLink expected:<SELECT> but was:<select>

4) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLCollection11 
junit.framework.AssertionFailedError: nameIndexLink expected:<SELECT> but was:<select>

5) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLDocument02 
junit.framework.AssertionFailedError: referrerLink expected:<> but was:<null>

6) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLDocument04 
junit.framework.AssertionFailedError: URLLink

7) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLDocument12 
junit.framework.AssertionFailedError: cookieLink expected:<> but was:<null>

8) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLElement01 
junit.framework.AssertionFailedError: idLink expected:<Test-HEAD> but was:<>

9) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLElement30 
junit.framework.AssertionFailedError: titleLink expected:<HEAD Element> but was:<>

10) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLElement59 
junit.framework.AssertionFailedError: langLink expected:<en> but was:<>

11) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLElement88 
junit.framework.AssertionFailedError: dirLink expected:<ltr> but was:<>

12) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLElement117 
junit.framework.AssertionFailedError: classNameLink expected:<HEAD-class> but was:<>

13) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLHeadingElement01 
junit.framework.AssertionFailedError: alignLink expected:<center> but was:<align>

14) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLHeadingElement02 
junit.framework.AssertionFailedError: alignLink expected:<left> but was:<align>

15) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLHeadingElement03 
junit.framework.AssertionFailedError: alignLink expected:<right> but was:<align>

16) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLHeadingElement04 
junit.framework.AssertionFailedError: alignLink expected:<justify> but was:<align>

17) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLHeadingElement05 
junit.framework.AssertionFailedError: alignLink expected:<center> but was:<align>

18) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLHeadingElement06 
junit.framework.AssertionFailedError: alignLink expected:<left> but was:<align>

19) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLHtmlElement01 
junit.framework.AssertionFailedError: versionLink expected:<transitional 4.0> but was:<transitional xhtml 1.0>

20) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLInputElement01 
junit.framework.AssertionFailedError: defaultValueLink expected:<Password> but was:<>

21) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLInputElement02 
junit.framework.AssertionFailedError: defaultCheckedLink

22) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLOptionElement03 
junit.framework.AssertionFailedError: defaultSelectedLink

23) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLOptionElement08 
junit.framework.AssertionFailedError: selectedLink

24) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLSelectElement01 
junit.framework.AssertionFailedError: typeLink expected:<select-multiple> but was:<>

25) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLSelectElement04 
junit.framework.AssertionFailedError: valueLink expected:<EMP1> but was:<>

26) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement20 
junit.framework.AssertionFailedError: alignLink expected:<center> but was:<>

27) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement21 
junit.framework.AssertionFailedError: vsection1Id

28) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement23 
junit.framework.AssertionFailedError: alignLink expected:<center> but was:<>

29) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement24 
junit.framework.AssertionFailedError: vsection1Id

30) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement26 
junit.framework.AssertionFailedError: vsection1Id

31) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement27 
junit.framework.AssertionFailedError: vsection1Id

32) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableElement30 
junit.framework.AssertionFailedError: rowsLink3 expected:<2> but was:<1>

33) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTableRowElement01 
junit.framework.AssertionFailedError: rowIndexLink expected:<1> but was:<2>

34) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTextAreaElement01 
junit.framework.AssertionFailedError: defaultValueLink expected:<TEXTAREA2> but was:<>

35) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTextAreaElement11 
junit.framework.AssertionFailedError: typeLink expected:<textarea> but was:<>

36) http://www.w3.org/2001/DOM-Test-Suite/level1/html/HTMLTextAreaElement12 
junit.framework.AssertionFailedError: valueLink expected:<TEXTAREA1> but was:<>

> I have not attempted to produce a test matrix for the L2 HTML tests to 
> see what methods might not be covered.  However, a quick check shows 
> that createHTMLDocument and contentDocument (the two methods added in L2 
> HTML) have no tests written for them.
> 

    I sent a message to the domts mailing list on May with a question about tests for contentDocument.
    http://lists.w3.org/Archives/Public/www-dom-ts/2002May/0013.html
    
    Any help would be appreciated.


    Rick Rivello



