docno="lists-101-9517762"
received="Fri Jun 28 12:06:07 2002"
isoreceived="20020628160607"
sent="Fri, 28 Jun 2002 10:10:10 -0600"
isosent="20020628161010"
name="Arnold, Curt"
email="Curt.Arnold@aspentech.com"
subject="RE: Summary of DOM HTML Level 2 errors reported by IE"
id="4D62A7266F41D611B92C00E018C1C19C0DD617@thor.aeathtl.com"
inreplyto="Summary of DOM HTML Level 2 errors reported by IE"
expires="-1"


To:"'www-dom-ts@w3.org'"<www-dom-ts@w3.org>


The color test failures are interesting:

HTMLTableCellElement09      CASE problem    expected 00FFFF but returned
#00ffff (Test needs changed)
HTMLTableCellElement10      CASE problem    expected FF0000 but returned
#ff0000(Test needs changed)
HTMLTableRowElement07     CASE problem    expected #00FFFF but returned
#00ffff

I believe these tests also (or similar) fail in Mozilla.  

Note these are not exhibiting ignoreCase="auto" behavior where tag and
attributes names are uppercased by the implementation.  

The bkcolor values in at least some of the test documents are invalid, for
example tablecell.html contains "00FFFF" and "FF0000" which are invalid
according to
http://www.w3.org/TR/1999/REC-html401-19991224/types.html#type-color (they
should be "#00FFFF" and "#FF0000").

Bringing the source document into compliance MIGHT eliminate the case case
normalization, but might not.  

The HTML DOM document does not hint at any particular normalization of color
values.  For example, it does not say that if bkcolor="aqua" appears in the
source document, whether it is appropriate to return "#00FFFF".  

The previous HTML link mentions that the color values are case-insensitive.

I would recommend:

a) changing tablecell.html and tablecell.xml to add missing hash on color
codes.
b) changing ignoreCase to true (not auto)
c) Running parallel cases where red and aqua are used instead of their hex
equivalents and see if you get hex or color names back.
d) Maybe some statement in the spec about the acceptable normalization of
color values.



