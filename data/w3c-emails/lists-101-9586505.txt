docno="lists-101-9586505"
received="Fri Mar  1 03:02:16 2002"
isoreceived="20020301080216"
sent="Fri, 1 Mar 2002 02:01:29 -0600"
isosent="20020301080129"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Level 2 Core distribution target"
id="000c01c1c0f7$54f545e0$a800a8c0@CurtMicron"
charset="iso-8859-1"
expires="-1"


To:<www-dom-ts@w3.org>

I've updated quite a few files to enabling building a DOM L2 Core equivalent of the DOM L1 distribution.  Xalan-J has problems with transforming a few tests into but I have pre-cooked the troublesome tests using SAXON.  You can also build the whole thing using SAXON instead of Xalan by removing xalan.jar from ant/lib and placing SAXON 6.5.1's saxon.jar there.

I added 7 tests (getElementsByTagNameNS08-14) which replicate 01-07 but use Element.getElementsByTagNameNS instead of Document.getElementsByTagName.  The new tests make the same assumptions about namespaceURI="*" that the existing tests did.  Depending on the resolution to the 

Xerces-J 2.0 passes all the tests in default mode, but fails quite a few in the alternative configuration.  That could possibly be due to conditionalization of the code.  For example, if the test depended on entity references being preserved but didn't declare it.

Mozilla 0.9.8 fails most of the tests, quite a few of the tests are testing detection of illegal characters or namespace errors which are apparently not being checked currently.

Another source of test failures is the use of constructs like:
elementList = doc.getElementsByTagName("emp:address");

to find a sample element used for the actual test.  I think Mozilla was failing to find the corresponding elements because it stripped out the namespace prefix in the tagname.  The failure to return to expected node set caused a disproportionate number of tests to fail.



