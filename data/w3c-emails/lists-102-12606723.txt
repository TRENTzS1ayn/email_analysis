docno="lists-102-12606723"
received="Fri Apr 16 12:57:28 1999"
isoreceived="19990416165728"
sent="Fri, 16 Apr 1999 13:00:05 -0400 (EDT)"
isosent="19990416170005"
name="John Cowan"
email="cowan@locke.ccil.org"
subject="Re: &quot;&lt;&quot; and &quot;&gt;&quot;  within text nodes"
id="199904161700.NAA13389@locke.ccil.org"
charset="US-ASCII"
inreplyto="111CF63B7D2ED211830000805F65A2FFAD874A&#64;OTTMAIL2"
expires="-1"


To:LWatanab@JetForm.com(Larry Watanabe)
Cc:www-dom@w3.org

Larry Watanabe scripsit:

> These characters can be encoded as "&lt" and "&gt", which also requires that
> "&" be encoded as "&amp". However, this seems like a) an ad hoc solution,
> and b) something which has probably already been solved. 

That *is* the solution.  You cannot just blindly write out a Text node;
you must check for & and < and ]]> and make the correct substitutions,
just as you must watch for characters unrepresentable in the output
charset and write character references (unless you are writing UTF-8
or UTF-16).

> Q: Does anyone know of a general encoding routine for encoding the text
> within a Text node that 
> 
> a) preserves information; the same text read in by a SAX parser will
> be converted to the correct characters without the use of a special decoding
> routine?
> b) handles all other cases besides "<" and ">" if there are any?

No, but it's easy to concoct one along the lines I mention above.
The hardest part is probably finding out what the current character
repertoire (= set of representable characters) for the output is.

-- 
John Cowancowan@ccil.org
e'osai ko sarji la lojban.



