docno="lists-102-15782028"
received="Fri Sep 17 03:30:29 1999"
isoreceived="19990917073029"
sent="Thu, 16 Sep 1999 13:05:42 -0400 (EDT)"
isosent="19990916170542"
name="keshlam@us.ibm.com"
email="keshlam@us.ibm.com"
subject="RE: Recent questions about document traversal"
id="852567EE.005DDBFC.00@D51MTA03.pok.ibm.com"
charset="us-ascii"
inreplyto="Recent questions about document traversal"
expires="-1"

To:www-dom@w3.org


> What is the correct behavior when the current node is deleted?

The TreeWalker follows its current node. Asking for the parent returns its
parent (or other ancestor, if the parent is filtered out, or null if none can be
found) at the time you ask the question.

Our shorthand term for this is "pure current-node semantics" -- all operations
are performed in terms of the current state of the current node, and the current
node doesn't change until you take an action that causes the TreeWalker to
select another current node. It's almost like having a reference directly to
that node, but with the TreeWalker's navigation methods.

(John already said this, but: There's no such thing as "deletion" in the DOM. A
node can be removed from its context, but continues to exist until/unless
implementation-specific actions are taken to destroy it... and those actions are
ouside the DOM's scope. Use the term "removal" to avoid confusion. Yes, early
drafts of the Traversal chapter made the same mistake!)

______________________________________
Joe Kesselman  / IBM Research



