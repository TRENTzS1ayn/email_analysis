docno="lists-102-3653289"
received="Fri May 15 13:02:53 1998"
isoreceived="19980515170253"
sent="Fri, 15 May 1998 18:55:36 +0200 (METDST)"
isosent="19980515165536"
name="Akitoshi Yoshida"
email="akitoshi.yoshida@sap-ag.de"
subject="Re:another question: NodeIterator in DOM"
id="199805151655.SAA08495@hs2114.wdf.sap-ag.de"
charset="ISO-8859-1"
inreplyto="another question: NodeIterator in DOM"
expires="-1"


To:www-dom@w3.org
Cc: Mike Champion<mcc@arbortext.com>

I just looked at SAXDOM.
There are SaxNodeVector and SaxNodeIterator, both
implementing NodeIterator. The first marks the current
position by an integer offset. So when there is an
insertion/deletion before this index, you are out.
The second marks the position by a reference to the
node just after the current position. This will fail
when this node and its following and preceeding
nodes get deleted as in the example I described.

Hi Don, if you are reading this email, let me know
if I am right or wrong. Thanks.

Best regards,
aki

--- original message
At 11:19 AM 5/15/98 -0400, Akitoshi Yoshida wrote:
>in example:
>we have nodes A B C D E.
>the iterator is positioned just before C.
>remove C, D, and B.
>then we have A E and the iterator position should be
>positioned just before E.
>so toNextNode() and toPrevNode() should return E and A, respectively.

Yes.

>
>NodeIterator may mark its current iterator position by
>an integer offset or by an object reference. but it must
>be notified for certain insert and remove operations to
>preserve the above semantics. Is it correct?

I'm not sure.  There's been a lot of discussion of how to implement
NodeIterators on www-dom; see the archives at
http://lists.w3.org/Archives/Public/www-dom/
I believe different designs exist, some of which require iterators to be
notified on insert and delete operations, and others which maintain
"markers" in the tree that move around as the tree is edited.  I have not
followed this closely enough to give you a definitive answer, but look at
the www-dom archives, and especially Don Park's SAXDOM implementation,
because Don participated in the discussions of this a couple of weeks ago
and I believe his latest release reflects what he learned.

Good luck,

Mike


xml-dev: A list for W3C XML Developers. To post, mailto:xml-dev@ic.ac.uk
Archived as: http://www.lists.ic.ac.uk/hypermail/xml-dev/
To (un)subscribe, mailto:majordomo@ic.ac.uk the following message;
(un)subscribe xml-dev
To subscribe to the digests, mailto:majordomo@ic.ac.uk the following message;
subscribe xml-dev-digest
List coordinator, Henry Rzepa (mailto:rzepa@ic.ac.uk)



