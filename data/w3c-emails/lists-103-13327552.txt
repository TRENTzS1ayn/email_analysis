docno="lists-103-13327552"
received="Thu Jun 21 10:44:43 2001"
isoreceived="20010621144443"
sent="Tue, 19 Jun 2001 06:57:34 -0400 (EDT)"
isosent="20010619105734"
name="Christian Nentwich"
email="c.nentwich@cs.ucl.ac.uk"
subject="Re: Document Object Model (DOM) Level 3 XPath Specification"
id="01061911563304.01164@wasabi.cs.ucl.ac.uk"
charset="iso-8859-1"
inreplyto="3B2E64A0.737792AE&#64;w3.org"
expires="-1"

To:www-dom@w3.org, Philippe Le Hegaret<plh@w3.org>



On Monday 18 June 2001 16:29, Philippe Le Hegaret wrote:

> The first public Working Draft for the DOM Level 3 XPath has been
> published: http://www.w3.org/TR/2001/WD-DOM-Level-3-XPath-20010618/
> As usual, comments are welcome,

Ok, I hope these comments will be useful..

My requirements are such that I don't know the return type of evaluating an 
XPath expression in advance. I can't choose between evaluateAs* beforehand.

I would find it much preferable to get a result object. Such a result object 
could indicate its type and be able to return its value as a string, nodeset, 
etc. I would also stress (even though there is some reference to this in the 
document), that it would be vital to be able to pass an evaluation context to 
the functions (i.e. containing variables and so on).

I have further requirements that require the repeated evaluation of XPaths 
(>= 100000 times). I find the Xalan approach quite useful here, which parses 
the path once to be evaluated multiple times. I see quite a bad performance 
hit coming along if I use the interfaces from the draft (which take a string 
rather than a parsed path object.

Having parsed path objects will also make installing extension functions a 
bit more straightforward (the functions can be bound at parsing time by the 
processor).

Christian Nentwich



