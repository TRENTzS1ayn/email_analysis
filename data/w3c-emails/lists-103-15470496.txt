docno="lists-103-15470496"
received="Tue Mar 20 16:19:41 2001"
isoreceived="20010320211941"
sent="Tue, 20 Mar 2001 16:21:15 -0500"
isosent="20010320212115"
name="John Cowan"
email="jcowan@reutershealth.com"
subject="Re: Type-safe iteration over the DOM in DOM 2 &amp; 3?"
id="3AB7C9CB.3050009@reutershealth.com"
charset="us-ascii"
inreplyto="F129qZr5chn3g2CNqNQ00006230&#64;hotmail.com"
expires="-1"


To: Peter Meyer<petermeyer99@hotmail.com>
CC:www-dom@w3.org

Peter Meyer wrote:


> I agree that you can implement the same functionality using a switch 
> statement and using a visitor pattern. What I personally dislike about 
> the switch statement is that I have to rely on information stored in a 
> field to switch, instead of type information of the classes I am 
> traversing.
>
> If I never create my own classes for nodes (i.e. I rely on the basic DOM 
> classes), this works well, but the approach tends to be fragile if I 
> need to have application dependent node subclasses based for example on 
> element types.

Granted.  But by the same token, if the implementation uses *fewer* classes
than it has interfaces, then the Visitor pattern becomes implementation-specific.
In the HTML DOM, for example, the 50+ element interfaces can be represented
(IIRC) by about 6 classes.  Visitor wouldn't help much; you need to 
have a switch operating over the element name.  Other DOMs may very
well use fewer classes than interfaces even in the core.


-- 
There is / one art             || John Cowan <jcowan@reutershealth.com>
no more / no less              || http://www.reutershealth.com
to do / all things             || http://www.ccil.org/~cowan
with art- / lessness           \\ -- Piet Hein



