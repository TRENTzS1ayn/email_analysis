docno="lists-103-5346841"
received="Tue Feb 29 08:50:55 2000"
isoreceived="20000229135055"
sent="Tue, 29 Feb 2000 08:50:42 -0500"
isosent="20000229135042"
name="keshlam@us.ibm.com"
email="keshlam@us.ibm.com"
subject="Re: Older Sibling?"
id="85256894.004C0E1F.00@D51MTA04.pok.ibm.com"
charset="us-ascii"
inreplyto="Older Sibling?"
expires="-1"

To:"www-dom@w3.org"<www-dom@w3.org>


> There is some nasty text in the DOM spec saying that the "same" nodes
> are EntityRef children as are children of the respective Entity.

Umph. Yes, it does, doesn't it.. Core, section 1.1.8: "In a document with
no namespaces, the child list of an EntityReference node is always the same
as that of the corresponding Entity." And again in the description of
createEntityReference.

We should probably rephrase that as "equivalent to", or something of that
sort. Possibly with explanation.

Good catch!

> But that notion of "same" seems to me like it must be (equals? a b)
> rather than (eq? a b), to sneak in two LISP primitives ... since, unlike
> the case with LISP, DOM nodes have (non-null) ancestors that prevent
> them from being in more than one place at a time.

Very good point. A DOM implementation may or may not be able to share data
behind the scenes, but the children of one EntityReference are _not_ "the
same nodes" as children of another reference to the same entity; a node can
only have one parent.

There are also some issues about how Namespace prefixes are to be handled
in entities. 1.1.8 discusses those concerns.


______________________________________
Joe Kesselman  / IBM Research



