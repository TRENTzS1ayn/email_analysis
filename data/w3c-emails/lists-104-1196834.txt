docno="lists-104-1196834"
received="Fri Aug  3 19:12:21 2001"
isoreceived="20010803231221"
sent="Fri, 3 Aug 2001 19:11:42 -0400"
isosent="20010803231142"
name="Joseph Kesselman"
email="keshlam@us.ibm.com"
subject="Re: adoptNode description"
id="OFCA43316A.09E8D003-ON85256A9D.007F0B39@pok.ibm.com"
charset="us-ascii"
inreplyto="adoptNode description"
expires="-1"

To:"'www-dom@w3.org'"<www-dom@w3.org>



>What happens with EventListener's that are registered on adopted Node's?

We should probably make that explicit, but the intent is that if adoptNode
work at all, it really does give you "the same node" with all associated
data. So yes, registered Event Listeners remain registered.

>Typically, these are not stored with the Node, but are stored in a Map
>in the Document.

Implementation detail. Architecturally, they're registered on the
EventTarget -- which is the node. Yes, if you've stored them separately you
have to deal with transferring that information to the new document at the
same time that you transfer the node.

Or, if that's impractical, adoptNode() can fail. It's a bit odd in being a
"best-effort" function; it works when and where it happens to work...

______________________________________
Joe Kesselman  / IBM Research



