docno="lists-104-5133159"
received="Mon Apr 15 15:04:37 2002"
isoreceived="20020415190437"
sent="Mon, 15 Apr 2002 21:04:34 +0200"
isosent="20020415190434"
name="Bert Bos"
email="bert@w3.org"
subject="Re: Comment from CSS WG on HTML DOM draft"
id="15547.9282.63764.775133@jfouffa.inria.fr"
charset="us-ascii"
inreplyto="15464.5474.832657.939009&#64;jfouffa.inria.fr"
expires="-1"


To: Philippe Le Hegaret<plh@w3.org>
CC: WWW DOM<www-dom@w3.org>,w3c-css-wg@w3.org

> Message-Id: <1013453810.25718.93.camel@jfouffa>
> From: Philippe Le Hegaret <plh@w3.org>
> To: Bert Bos <bert@w3.org>
> Cc: WWW DOM <www-dom@w3.org>
> Subject: Re: Comment from CSS WG on HTML DOM draft
> Date: 11 Feb 2002 13:56:49 -0500
> 
> On Mon, 2002-01-14 at 15:19, Bert Bos wrote:
> > This is the official comment from the CSS working group on the "DOM
> > Level 2 HTML" working draft[1]. It is a week late, my excuses. It got
> > lost. Hopefully it can still be taken into account.
> > 
> > [1] http://www.w3.org/TR/2001/WD-DOM-Level-2-HTML-20011210
> > 
> 
> In November 2000, DOM Level 2 HTML was delayed for backward
> compatibility reasons and our intent is to capture the current practice
> in several implementation, which is not the case for indeterminate. Only
> IE implementations are supporting this indeterminate feature for the
> moment. The TriState implementation [1] does support indeterminate
> property but it is not equivalent to the one in IEs. So, even if other
> implementation are going to implement indeterminate in the future, we
> prefer not to add this new feature for the moment. This certainly needs
> to be on the list for an XForms API at some point.
> 
> Please, let us know if you are (or are not) satisfy with this decision,
> 
> Philippe,
> for the DOM WG.
> 
> [1] http://lists.w3.org/Archives/Public/www-dom/2002JanMar/0038.html

The CSS WG is disapointed with the DOM WG's decision and maintains its
opinion that "indeterminate" should be added. In detail:

Checkboxes and radio buttons in user interfaces may not only be "on"
or "off", they may also be an in "indeterminate" state which means
that they are neither checked nor unchecked. Their state becomes
determinate when a user checks them. This is useful for example when
you have an option for which there is no reasonable default (for a
checkbox) or for a collection of radio buttons for which none should
be initially selected.

This note documents a proposed addition to the HTML DOM that the CSS
working group believes would provide access to this state to content
authors. The state is already stylable using the :indeterminate
pseudo-class found in the Selectors specification.

The proposal consists of the following addition to the
HTMLInputElement interface:

    attribute boolean          indeterminate;

The attribute is defined as follows:

    When the type attribute of the element has the value "radio" or
    "checkbox", this represents whether the form control is in an
    indeterminate state (neither checked nor unchecked), in an
    interactive user agent. Changes to this attribute change the state
    of the form control, but do not change the value of the HTML value
    attribute of the element.

    An indeterminate control is neither checked or unchecked: although
    the value of the checked attribute is not affected when the
    indeterminate attribute is set, it is irrelevant.

(A separate question is whether an indeterminate control should be
considered successful for the purposes of form submission, but that
doesn't affect the issue at hand.)

As far as implementation status is concerned, we will note that there
are at least two different implementations. Both IE/Mac and IE/Windows
(which have separate DOM implementations) implement
input.indeterminate since version 4 (circa 1996).

Thus the addition of this property should pose no problem for DOM
Level 2 HTML exiting CR since there are already two interoperable
implementations that have been shipping for quite some time.

Mozilla (and Netscape 6.x) currently lacks this proposed property
because when Mozilla's DOM was implemented, the property was not
listed in the DOM specification. However, recent changes mean that the
support for indeterminate check boxes will be available soon, at least
internally (this support may not be exposed in the HTML DOM if the
"indeterminate" property is not added to the DOM spec).

The DOM is also missing support for some other UI pseudo-classes, such
as :hover and :active, and for pseudo-elements, such as ::selection.
However, we do not think it would be wise to force this issue at the
moment. In our opinion, those issues are not yet mature. There is
ongoing work in the CSS working group to find solutions to these
problems.

Adding .indeterminate to the DOM2 HTML spec is, in our opinion, a
reasonable thing to do for now, since there already exists several
years' worth of implementation experience.


On behalf of the CSS WG,
Bert
-- 
  Bert Bos                                ( W 3 C ) http://www.w3.org/
  http://www.w3.org/people/bos/                              W3C/INRIA
  bert@w3.org                             2004 Rt des Lucioles / BP 93
  +33 (0)4 92 38 76 92            06902 Sophia Antipolis Cedex, France



