docno="lists-104-5225817"
received="Tue Apr 16 20:31:01 2002"
isoreceived="20020417003101"
sent="Tue, 16 Apr 2002 17:28:58 -0700"
isosent="20020417002858"
name="Wei Gao"
email="weigao@hypergrove.com"
subject="getAttribute in DOM Level 1"
id="00d801c1e5a6$dd659b40$8403a8c0@hypergrove04"
charset="iso-8859-1"
expires="-1"


To:<www-dom@w3.org>

Hi,

I am making DOM calls in a HTML file using Javascript. I try to search for an attribute from current element up its parent node chain, and then output all the attribute values.

It works fine in most cases, but I got an "invalid argument" error when I am at <table> element, which doesn't have "foo" as its attribute. After I added "foo" as an attr to the table element, the error disappeared. However, there are other elements who don't have "foo", but no error was thrown for them.

I am new to DOM and I couldn't figure out why it behaves this way. Can somebody give me any suggestions? What is possible to be wrong?

So the code looks like this:
for(elem = elem.parentNode ; elem.NodeType == 1 && elem ; elem = elem.parentNode )
{
     var str = elem.getAttribute("foo") ; //where invalid arguments is thrown

     if(str) {
        do something....
     }
}

Thanks.

Wei 



