docno="lists-105-1068646"
received="Tue Dec  9 10:00:29 2003"
isoreceived="20031209150029"
sent="Tue, 09 Dec 2003 15:57:20 +0100"
isosent="20031209145720"
name="Robin Berjon"
email="robin.berjon@expway.fr"
subject="Hesitation on setAttributeNS"
id="3FD5E2D0.8080208@expway.fr"
charset="us-ascii"
expires="-1"


To:www-dom@w3.org


Hi,

setAttributeNS() and friends with similar parameters has text to stricly 
forbid a qName with a prefix for a null nsURI, but nothing on whether it 
is legal to use it with a defined nsURI, and a qName that doesn't 
contain a prefix part.

Most implementations seem to accept it, and then fail to serialise it 
properly. Some rightfully complain that you can't have a namespace URI 
on an attribute that doesn't have a prefix. This is a sorry state of 
affairs :)

So it would be nice to see it resolved either way: either it is clearly 
flagged as an error, or it is clearly allowed, with indication of how 
the implementation may produce the prefix (not overwriting the one of 
that attribute if it exists, using a prefix in scope if there's one, 
generating one).

Or have I missed something?

-- 
Robin Berjon



