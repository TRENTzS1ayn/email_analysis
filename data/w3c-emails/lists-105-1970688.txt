docno="lists-105-1970688"
received="Wed Jan  7 11:07:50 2004"
isoreceived="20040107160750"
sent="Wed, 07 Jan 2004 11:07:47 -0500"
isosent="20040107160747"
name="Philippe Le Hegaret"
email="plh@w3.org"
subject="Re: LS: Last minute comments on CR"
id="1073491667.3156.12.camel@jfouffa.w3.org"
inreplyto="20040106223622.GB488&#64;doxdesk.com"
expires="-1"

To: Andrew Clover<and-w3@doxdesk.com>
Cc: WWW DOM<www-dom@w3.org>



On Tue, 2004-01-06 at 17:36, Andrew Clover wrote:
> Philippe Le Hegaret <plh@w3.org> wrote:
> 
> > It was clarified as follows:
> > [[
> > method on the filter. If the parameter "entities" is set to true, the
> > entity reference nodes are passed to the filter, but not its children.
> > If it is set to false, the children of the entity reference are passed
> > to the filter, but not the entity reference nodes since they are
> > replaced by their expansions.
> 
> I'm not sure this entirely answers Sander's query as I understood it.
> Certainly I'd like to know:
> 
>   What happens when "entities" is set to true and the LS...Filter asks for
>   the entity reference node to be SKIPped?

I believe it does. You will never get the children passed to the filter
if entities to true.

>   1. the child nodes are processed with the filter receiving callbacks for
>      them, as if "entities" had been set to false just for this one entity
>      reference;
>   2. the entity reference's child nodes are processed en bloc, without
>      calling the filter again at all;
>   3. it is taken as the equivalent of REJECTing the entity reference, so
>      nothing is processed;
>   4. explicitly disallowed;
>   5. implementation specific.

It is option 3. Since the children are not passed to the filter,
skipping the entity reference is equivalent to reject it with the new
wording.

However, the Group did not consider case 1, so we might still want to
allow it. 

Philippe



