docno="lists-105-2420414"
received="Tue Feb 24 14:29:48 2004"
isoreceived="20040224192948"
sent="Tue, 24 Feb 2004 13:29:51 -0600"
isosent="20040224192951"
name="Curt Arnold"
email="carnold@houston.rr.com"
subject="Re: DOM 3 Core namespace normalisation and Level 1 nodes"
id="D0E97212-66FF-11D8-86BE-000393B97126@houston.rr.com"
charset="US-ASCII"
inreplyto="1077216606.20252.199.camel&#64;jfouffa.w3.org"
expires="-1"


To:www-dom@w3.org



On Feb 19, 2004, at 12:50 PM, Philippe Le Hegaret wrote:

> On Thu, 2004-02-19 at 07:31, Andrew Clover wrote:
>> There's an issue with namespace normalisation in the reference algo
>> (B.1) in PR which I hadn't noticed until DOM-TS started testing for
>> it:
>>
>>     if ( Element's localName is null )
>>     {
>>        // DOM Level 1 node
>>        [...]
>>        Otherwise, report an error
>>
>> I believe this behaviour to be undesirable. It would mean you'd be
>> unable to serialise any document containing Level 1 Elements
>> (or Attrs) without deliberately setting the DOMConfiguration
>> parameter 'namespaces' to false.
>
>

I'd also suggest that a non-namespace aware parse would result in a 
document where setParameter("namespaces") returns false.  If you don't 
do something like this then any existing code that did a non-namespace 
aware parse would silently fail on any attempt of normalization.  I 
mocked up a test that checks that the value of the namespaces parameter 
follows the parser settings and currently it doesn't for Xerces-J.



