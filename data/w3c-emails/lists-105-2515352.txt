docno="lists-105-2515352"
received="Thu Feb 26 17:19:18 2004"
isoreceived="20040226221918"
sent="Thu, 26 Feb 2004 17:19:18 -0500"
isosent="20040226221918"
name="Philippe Le Hegaret"
email="plh@w3.org"
subject="Re: L3 Core: 'check-character-normalization' underspecified"
id="1077833957.13916.45.camel@jfouffa.w3.org"
inreplyto="7573DC04-672D-11D8-86BE-000393B97126&#64;houston.rr.com"
expires="-1"

To: Curt Arnold<carnold@houston.rr.com>
Cc: WWW DOM<www-dom@w3.org>


On Tue, 2004-02-24 at 19:56, Curt Arnold wrote:
>  From  
> http://www.w3.org/TR/2004/PR-DOM-Level-3-Core-20040205/core#parameter-
> check-character-normalization
> 
> "check-character-normalization"
> true
> [optional]
>   Check if the characters in the document are fully normalized,  as  
> defined in appendix B of [XML 1.1].
> 
> What actions should be expected if a character in the document is not  
> fully normalized?  I'd assume that an error should be dispatched, but  
> the spec doesn't say.

You're touching here an area that is under specified in XML: the XML
error catalog. Core and Load/Save do provide some of the errors/warnings
types that can be generated but we are clearly missing a lot of them. I
don't think we followed a particular logic on when to define one or not,
and it is not the role of the DOM WG to define the error catalog imho.
We may want to define if it's a warning, or an error at least.

> What should be the behavior if both check-character-normalization and  
> normalize-characters are specified as true?

I'd expect the implementations to check and normalize the characters
(doing it in reverse order would be useless). Now whether it's going to
generate one or two DOMErrors given that both parameters are activated
is not defined in the specification.

> Are there any interaction  
> between the parameters?  It might make sense that setting one unsets  
> the other.

Why? normalize-characters doesn't tell you if some characters were
unnormalized before normalizing them. An application might want to
report the number of characters that were normalized as well as doing
the normalization without invoking normalizeDocument twice.

> As far as I am aware there are no implementations supporting either of  
> these parameter being true.

See http://www.w3.org/2003/10/DOM-Level-3-Core-implementations.html

Philippe





