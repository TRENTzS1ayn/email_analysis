docno="lists-105-2565556"
received="Fri Feb 27 17:41:24 2004"
isoreceived="20040227224124"
sent="Fri, 27 Feb 2004 17:41:24 -0500"
isosent="20040227224124"
name="Philippe Le Hegaret"
email="plh@w3.org"
subject="Re: LSParser.parse - stringData - encoding declaration"
id="1077921683.678.49.camel@jfouffa.w3.org"
inreplyto="403CD31A.1070009&#64;4commerce.de"
expires="-1"

To: Kasimier Buchcik<kbuchcik@4commerce.de>
Cc: WWW DOM<www-dom@w3.org>


On Wed, 2004-02-25 at 11:53, Kasimier Buchcik wrote:
> Hi,
> 
> I learned that the LSSerializer should generate an encoding declaration 
> of "UTF-16" if serializing a whole DOM document to a DOMString via 
> LSSerializer.writeToString.

Note that this depends on the value of the xml-declaration parameter.

> So just to have it black on white: does this imply the encoding 
> declaration *has to* be existent and *has to* state "UTF-16", if parsing 
> with LSParser.parse with an input.stringData holding a XML document - 
> otherwise an error would be reported?

We added the following on LSInput.characterStream (modulo the
"<code>stringData</code>") and LSInput.stringData:
[[
It is not a requirement to have an XML declaration when using
<code>stringData</code>. If an XML declaration is present, the value of
the encoding attribute will be ignored.
]]

Since the document is already represent as characters, there is no need
for encoding information anymore.

Philippe





